"use strict";(self.webpackChunktodo_app=self.webpackChunktodo_app||[]).push([[179],{2011:(lt,Te,k)=>{k.d(Te,{Dh:()=>oe,GT:()=>_e,cc:()=>xe,hO:()=>Ge,on:()=>G,pX:()=>te,xv:()=>fe});var f=k(5e3),j=k(127),R=k(5813);lt=k.hmd(lt);const re=["ngOnDestroy"],te=(Ie,Ye,Ue,Me={})=>new Proxy(Ie,{get:(Ae,Ee)=>Ue.runOutsideAngular(()=>{var We;if(Ie[Ee])return(null===(We=null==Me?void 0:Me.spy)||void 0===We?void 0:We.get)&&Me.spy.get(Ee,Ie[Ee]),Ie[Ee];if(re.indexOf(Ee)>-1)return()=>{};const ee=Ye.toPromise().then(Ke=>{const K=Ke&&Ke[Ee];return"function"==typeof K?K.bind(Ke):K&&K.then?K.then(ce=>Ue.run(()=>ce)):Ue.run(()=>K)});return new Proxy(()=>{},{get:(Ke,K)=>ee[K],apply:(Ke,K,ce)=>ee.then(ae=>{var he;const Ne=ae&&ae(...ce);return(null===(he=null==Me?void 0:Me.spy)||void 0===he?void 0:he.apply)&&Me.spy.apply(Ee,ce,Ne),Ne})})})}),_e=(Ie,Ye)=>{Ye.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Me=>{Object.defineProperty(Ie.prototype,Me,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Me))})})};class ue{constructor(Ye){return Ye}}const oe=new f.OlP("angularfire2.app.options"),fe=new f.OlP("angularfire2.app.name");function G(Ie,Ye,Ue){const Ae="object"==typeof Ue&&Ue||{};Ae.name=Ae.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const We=j.Z.apps.filter(ee=>ee&&ee.name===Ae.name)[0]||Ye.runOutsideAngular(()=>j.Z.initializeApp(Ie,Ae));try{JSON.stringify(Ie)!==JSON.stringify(We.options)&&H("error",`${We.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ee){}return new ue(We)}const H=(Ie,...Ye)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ye)},X={provide:ue,useFactory:G,deps:[oe,f.R0b,[new f.FiY,fe]]};let Ge=(()=>{class Ie{constructor(Ue){j.Z.registerVersion("angularfire",R.q4.full,"core"),j.Z.registerVersion("angularfire",R.q4.full,"app-compat"),j.Z.registerVersion("angular",f.q4F.full,Ue.toString())}static initializeApp(Ue,Me){return{ngModule:Ie,providers:[{provide:oe,useValue:Ue},{provide:fe,useValue:Me}]}}}return Ie.\u0275fac=function(Ue){return new(Ue||Ie)(f.LFG(f.Lbi))},Ie.\u0275mod=f.oAB({type:Ie}),Ie.\u0275inj=f.cJS({providers:[X]}),Ie})();function xe(Ie,Ye,Ue,Me,Ae){const[,Ee,We]=globalThis.\u0275AngularfireInstanceCache.find(ee=>ee[0]===Ie)||[];if(Ee)return function Oe(Ie,Ye){try{return Ie.toString()===Ye.toString()}catch(Ue){return Ie===Ye}}(Ae,We)||(pe("error",`${Ye} was already initialized on the ${Ue} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Ae,was:We})),Ee;{const ee=Me();return globalThis.\u0275AngularfireInstanceCache.push([Ie,ee,Ae]),ee}}const Fe=!!lt.hot,pe=(Ie,...Ye)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,Te,k)=>{k.d(Te,{q4:()=>Da,iC:()=>Fs,HU:()=>Sc,vb:()=>tu,JM:()=>ep,u3:()=>Mc});var f=k(5e3),j=k(5867),R=k(5861),re=k(9681),te=k(2090),_e=k(4859),ue=k(1877);const oe="@firebase/installations",H="w:0.5.7",X="FIS_v2",Ie=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(b){return b instanceof te.ZR&&b.code.includes("request-failed")}function Ue({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Me(b){return{token:b.token,requestStatus:2,expiresIn:ce(b.expiresIn),creationTime:Date.now()}}function Ae(b,D){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,R.Z)(function*(b,D){const V=(yield D.json()).error;return Ie.create("request-failed",{requestName:b,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function We({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function ee(b,{refreshToken:D}){const M=We(b);return M.append("Authorization",function ae(b){return`${X} ${b}`}(D)),M}function Ke(b){return K.apply(this,arguments)}function K(){return(K=(0,R.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function ce(b){return Number(b.replace("s","000"))}function he(b,D){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,R.Z)(function*({appConfig:b,heartbeatServiceProvider:D},{fid:M}){const V=Ue(b),Z=We(b),ne=D.getImmediate({optional:!0});if(ne){const gt=yield ne.getHeartbeatsHeader();gt&&Z.append("x-firebase-client",gt)}const Ve={method:"POST",headers:Z,body:JSON.stringify({fid:M,authVersion:X,appId:b.appId,sdkVersion:H})},It=yield Ke(()=>fetch(V,Ve));if(It.ok){const gt=yield It.json();return{fid:gt.fid||M,registrationStatus:2,refreshToken:gt.refreshToken,authToken:Me(gt.authToken)}}throw yield Ae("Create Installation",It)})).apply(this,arguments)}function ie(b){return new Promise(D=>{setTimeout(D,b)})}const Zt=/^[cdef][\w-]{21}$/;function st(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const M=function ct(b){return function wt(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Zt.test(M)?M:""}catch(b){return""}}function un(b){return`${b.appName}!${b.appId}`}const sn=new Map;function ii(b,D){const M=un(b);Kt(M,D),function bn(b,D){const M=function vr(){return!rr&&"BroadcastChannel"in self&&(rr=new BroadcastChannel("[Firebase] FID Change"),rr.onmessage=b=>{Kt(b.data.key,b.data.fid)}),rr}();M&&M.postMessage({key:b,fid:D}),function cr(){0===sn.size&&rr&&(rr.close(),rr=null)}()}(M,D)}function Kt(b,D){const M=sn.get(b);if(M)for(const V of M)V(D)}let rr=null;const ir="firebase-installations-store";let dr=null;function Ji(){return dr||(dr=(0,te.X3)("firebase-installations-database",1,(b,D)=>{0===D&&b.createObjectStore(ir)})),dr}function ot(b,D){return Er.apply(this,arguments)}function Er(){return(Er=(0,R.Z)(function*(b,D){const M=un(b),Z=(yield Ji()).transaction(ir,"readwrite"),ne=Z.objectStore(ir),me=yield ne.get(M);return yield ne.put(D,M),yield Z.complete,(!me||me.fid!==D.fid)&&ii(b,D.fid),D})).apply(this,arguments)}function Rn(b){return en.apply(this,arguments)}function en(){return(en=(0,R.Z)(function*(b){const D=un(b),V=(yield Ji()).transaction(ir,"readwrite");yield V.objectStore(ir).delete(D),yield V.complete})).apply(this,arguments)}function Vn(b,D){return oi.apply(this,arguments)}function oi(){return(oi=(0,R.Z)(function*(b,D){const M=un(b),Z=(yield Ji()).transaction(ir,"readwrite"),ne=Z.objectStore(ir),me=yield ne.get(M),Ve=D(me);return void 0===Ve?yield ne.delete(M):yield ne.put(Ve,M),yield Z.complete,Ve&&(!me||me.fid!==Ve.fid)&&ii(b,Ve.fid),Ve})).apply(this,arguments)}function Nn(b){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,R.Z)(function*(b){let D;const M=yield Vn(b.appConfig,V=>{const Z=xr(V),ne=js(b,Z);return D=ne.registrationPromise,ne.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function xr(b){return Vt(b||{fid:st(),registrationStatus:0})}function js(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ie.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},V=function Ft(b,D){return at.apply(this,arguments)}(b,M);return{installationEntry:M,registrationPromise:V}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:et(b)}:{installationEntry:D}}function at(){return(at=(0,R.Z)(function*(b,D){try{const M=yield he(b,D);return ot(b.appConfig,M)}catch(M){throw Ye(M)&&409===M.customData.serverCode?yield Rn(b.appConfig):yield ot(b.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function et(b){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,R.Z)(function*(b){let D=yield Ri(b.appConfig);for(;1===D.registrationStatus;)yield ie(100),D=yield Ri(b.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:V}=yield Nn(b);return V||M}return D})).apply(this,arguments)}function Ri(b){return Vn(b,D=>{if(!D)throw Ie.create("installation-not-found");return Vt(D)})}function Vt(b){return function Ni(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function On(b,D){return tn.apply(this,arguments)}function tn(){return(tn=(0,R.Z)(function*({appConfig:b,heartbeatServiceProvider:D},M){const V=dt(b,M),Z=ee(b,M),ne=D.getImmediate({optional:!0});if(ne){const gt=yield ne.getHeartbeatsHeader();gt&&Z.append("x-firebase-client",gt)}const Ve={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:H,appId:b.appId}})},It=yield Ke(()=>fetch(V,Ve));if(It.ok)return Me(yield It.json());throw yield Ae("Generate Auth Token",It)})).apply(this,arguments)}function dt(b,{fid:D}){return`${Ue(b)}/${D}/authTokens:generate`}function kn(b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,R.Z)(function*(b,D=!1){let M;const V=yield Vn(b.appConfig,ne=>{if(!Mt(ne))throw Ie.create("not-registered");const me=ne.authToken;if(!D&&z(me))return ne;if(1===me.requestStatus)return M=$e(b,D),ne;{if(!navigator.onLine)throw Ie.create("app-offline");const Ve=W(ne);return M=ut(b,Ve),Ve}});return M?yield M:V.authToken})).apply(this,arguments)}function $e(b,D){return be.apply(this,arguments)}function be(){return(be=(0,R.Z)(function*(b,D){let M=yield Qe(b.appConfig);for(;1===M.authToken.requestStatus;)yield ie(100),M=yield Qe(b.appConfig);const V=M.authToken;return 0===V.requestStatus?kn(b,D):V})).apply(this,arguments)}function Qe(b){return Vn(b,D=>{if(!Mt(D))throw Ie.create("not-registered");return function de(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function ut(b,D){return St.apply(this,arguments)}function St(){return(St=(0,R.Z)(function*(b,D){try{const M=yield On(b,D),V=Object.assign(Object.assign({},D),{authToken:M});return yield ot(b.appConfig,V),M}catch(M){if(!Ye(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const V=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ot(b.appConfig,V)}else yield Rn(b.appConfig);throw M}})).apply(this,arguments)}function Mt(b){return void 0!==b&&2===b.registrationStatus}function z(b){return 2===b.requestStatus&&!function U(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+36e5}(b)}function W(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}function L(){return(L=(0,R.Z)(function*(b){const D=b,{installationEntry:M,registrationPromise:V}=yield Nn(D);return V?V.catch(console.error):kn(D).catch(console.error),M.fid})).apply(this,arguments)}function se(){return(se=(0,R.Z)(function*(b,D=!1){const M=b;return yield Le(M),(yield kn(M,D)).token})).apply(this,arguments)}function Le(b){return ze.apply(this,arguments)}function ze(){return(ze=(0,R.Z)(function*(b){const{registrationPromise:D}=yield Nn(b);D&&(yield D)})).apply(this,arguments)}function Gn(b){return Ie.create("missing-app-config-values",{valueName:b})}const ja="installations",qe=b=>{const D=b.getProvider("app").getImmediate(),M=function vi(b){if(!b||!b.options)throw Gn("App Configuration");if(!b.name)throw Gn("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!b.options[M])throw Gn(M);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,re._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Lt=b=>{const D=b.getProvider("app").getImmediate(),M=(0,re._getProvider)(D,ja).getImmediate();return{getId:()=>function O(b){return L.apply(this,arguments)}(M),getToken:Z=>function B(b){return se.apply(this,arguments)}(M,Z)}};(function cn(){(0,re._registerComponent)(new _e.wA(ja,qe,"PUBLIC")),(0,re._registerComponent)(new _e.wA("installations-internal",Lt,"PRIVATE"))})(),(0,re.registerVersion)(oe,"0.5.7"),(0,re.registerVersion)(oe,"0.5.7","esm2017");const Ir="@firebase/remote-config",Pn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hu{constructor(D,M,V,Z){this.client=D,this.storage=M,this.storageCache=V,this.logger=Z}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-M,Z=V<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Z}.`),Z}fetch(D){var M=this;return(0,R.Z)(function*(){const[V,Z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Z&&M.isCachedDataFresh(D.cacheMaxAgeMillis,V))return Z;D.eTag=Z&&Z.eTag;const ne=yield M.client.fetch(D),me=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&me.push(M.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(me),ne})()}}function Ga(b=navigator){return b.languages&&b.languages[0]||b.language}class Cs{constructor(D,M,V,Z,ne,me){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=V,this.projectId=Z,this.apiKey=ne,this.appId=me}fetch(D){var M=this;return(0,R.Z)(function*(){const[V,Z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},It={sdk_version:M.sdkVersion,app_instance_id:V,app_instance_id_token:Z,app_id:M.appId,language_code:Ga()},gt={method:"POST",headers:Ve,body:JSON.stringify(It)},Bt=fetch(me,gt),vt=new Promise((ci,Si)=>{D.signal.addEventListener(()=>{const iu=new Error("The operation was aborted.");iu.name="AbortError",Si(iu)})});let Dr;try{yield Promise.race([Bt,vt]),Dr=yield Bt}catch(ci){let Si="fetch-client-network";throw"AbortError"===ci.name&&(Si="fetch-timeout"),Pn.create(Si,{originalErrorMessage:ci.message})}let er=Dr.status;const fs=Dr.headers.get("ETag")||void 0;let $i,Ai;if(200===Dr.status){let ci;try{ci=yield Dr.json()}catch(Si){throw Pn.create("fetch-client-parse",{originalErrorMessage:Si.message})}$i=ci.entries,Ai=ci.state}if("INSTANCE_STATE_UNSPECIFIED"===Ai?er=500:"NO_CHANGE"===Ai?er=304:("NO_TEMPLATE"===Ai||"EMPTY_CONFIG"===Ai)&&($i={}),304!==er&&200!==er)throw Pn.create("fetch-status",{httpStatus:er});return{status:er,eTag:fs,config:$i}})()}}class es{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,R.Z)(function*(){const V=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,V)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:V}){var Z=this;return(0,R.Z)(function*(){yield function Zr(b,D){return new Promise((M,V)=>{const Z=Math.max(D-Date.now(),0),ne=setTimeout(M,Z);b.addEventListener(()=>{clearTimeout(ne),V(Pn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ne=yield Z.client.fetch(D);return yield Z.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Gf(b){if(!(b instanceof te.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ne))throw ne;const me={throttleEndTimeMillis:Date.now()+(0,te.$s)(V),backoffCount:V+1};return yield Z.storage.setThrottleMetadata(me),Z.attemptFetch(D,me)}})()}}class jd{constructor(D,M,V,Z,ne){this.app=D,this._client=M,this._storageCache=V,this._storage=Z,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oa(b,D){const M=b.target.error||void 0;return Pn.create(D,{originalErrorMessage:M&&M.message})}const wo="app_namespace_store";class Gu{constructor(D,M,V,Z=function qf(){return new Promise((b,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=V=>{D(oa(V,"storage-open"))},M.onsuccess=V=>{b(V.target.result)},M.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(wo,{keyPath:"compositeKey"})}}catch(M){D(Pn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=D,this.appName=M,this.namespace=V,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,R.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Z,ne)=>{const Ve=V.transaction([wo],"readonly").objectStore(wo),It=M.createCompositeKey(D);try{const gt=Ve.get(It);gt.onerror=Bt=>{ne(oa(Bt,"storage-get"))},gt.onsuccess=Bt=>{const vt=Bt.target.result;Z(vt?vt.value:void 0)}}catch(gt){ne(Pn.create("storage-get",{originalErrorMessage:gt&&gt.message}))}})})()}set(D,M){var V=this;return(0,R.Z)(function*(){const Z=yield V.openDbPromise;return new Promise((ne,me)=>{const It=Z.transaction([wo],"readwrite").objectStore(wo),gt=V.createCompositeKey(D);try{const Bt=It.put({compositeKey:gt,value:M});Bt.onerror=vt=>{me(oa(vt,"storage-set"))},Bt.onsuccess=()=>{ne()}}catch(Bt){me(Pn.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(D){var M=this;return(0,R.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Z,ne)=>{const Ve=V.transaction([wo],"readwrite").objectStore(wo),It=M.createCompositeKey(D);try{const gt=Ve.delete(It);gt.onerror=Bt=>{ne(oa(Bt,"storage-delete"))},gt.onsuccess=()=>{Z()}}catch(gt){ne(Pn.create("storage-delete",{originalErrorMessage:gt&&gt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Io{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const M=D.storage.getLastFetchStatus(),V=D.storage.getLastSuccessfulFetchTimestampMillis(),Z=D.storage.getActiveConfig(),ne=yield M;ne&&(D.lastFetchStatus=ne);const me=yield V;me&&(D.lastSuccessfulFetchTimestampMillis=me);const Ve=yield Z;Ve&&(D.activeConfig=Ve)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function fc(){return za.apply(this,arguments)}function za(){return(za=(0,R.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(b){return!1}})).apply(this,arguments)}!function Zf(){(0,re._registerComponent)(new _e.wA("remote-config",function b(D,{instanceIdentifier:M}){const V=D.getProvider("app").getImmediate(),Z=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pn.create("registration-window");if(!(0,te.hl)())throw Pn.create("indexed-db-unavailable");const{projectId:ne,apiKey:me,appId:Ve}=V.options;if(!ne)throw Pn.create("registration-project-id");if(!me)throw Pn.create("registration-api-key");if(!Ve)throw Pn.create("registration-app-id");const It=new Gu(Ve,V.name,M=M||"firebase"),gt=new Io(It),Bt=new ue.Yd(Ir);Bt.logLevel=ue.in.ERROR;const vt=new Cs(Z,re.SDK_VERSION,M,ne,me,Ve),Dr=new es(vt,It),er=new Hu(Dr,It,gt,Bt),fs=new jd(V,er,gt,It,Bt);return function Rr(b){const D=(0,te.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(fs),fs},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Ir,"0.3.6"),(0,re.registerVersion)(Ir,"0.3.6","esm2017")}();const ts="/firebase-messaging-sw.js",aa="/firebase-cloud-messaging-push-scope",ai="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bo="google.c.a.c_id",Wa="google.c.a.c_l",Hd="google.c.a.ts",ua="google.c.a.e";var wi=(()=>{return(b=wi||(wi={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",wi;var b})();function ns(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qa(b){const M=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(M),Z=new Uint8Array(V.length);for(let ne=0;ne<V.length;++ne)Z[ne]=V.charCodeAt(ne);return Z}const la="fcm_token_details_db",Do="fcm_token_object_Store";function Kf(b){return Co.apply(this,arguments)}function Co(){return Co=(0,R.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(la))return null;let D=null;return(yield(0,te.X3)(la,5,function(){var V=(0,R.Z)(function*(Z,ne,me,Ve){var It;if(ne<2||!Z.objectStoreNames.contains(Do))return;const gt=Ve.objectStore(Do),Bt=yield gt.index("fcmSenderId").get(b);if(yield gt.clear(),Bt)if(2===ne){const vt=Bt;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;D={token:vt.fcmToken,createTime:null!==(It=vt.createTime)&&void 0!==It?It:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:ns(vt.vapidKey)}}}else if(3===ne){const vt=Bt;D={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ns(vt.auth),p256dh:ns(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ns(vt.vapidKey)}}}else if(4===ne){const vt=Bt;D={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ns(vt.auth),p256dh:ns(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ns(vt.vapidKey)}}}});return function(Z,ne,me,Ve){return V.apply(this,arguments)}}())).close(),yield(0,te.Lj)(la),yield(0,te.Lj)("fcm_vapid_details_db"),yield(0,te.Lj)("undefined"),zu(D)?D:null}),Co.apply(this,arguments)}function zu(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const As="firebase-messaging-store";let Gs=null;function Wu(){return Gs||(Gs=(0,te.X3)("firebase-messaging-database",1,(b,D)=>{0===D&&b.createObjectStore(As)})),Gs}function gn(b){return zs.apply(this,arguments)}function zs(){return(zs=(0,R.Z)(function*(b){const D=Ss(b),V=yield(yield Wu()).transaction(As).objectStore(As).get(D);if(V)return V;{const Z=yield Kf(b.appConfig.senderId);if(Z)return yield Ws(b,Z),Z}})).apply(this,arguments)}function Ws(b,D){return dn.apply(this,arguments)}function dn(){return(dn=(0,R.Z)(function*(b,D){const M=Ss(b),Z=(yield Wu()).transaction(As,"readwrite");return yield Z.objectStore(As).put(D,M),yield Z.complete,D})).apply(this,arguments)}function qu(b){return To.apply(this,arguments)}function To(){return(To=(0,R.Z)(function*(b){const D=Ss(b),V=(yield Wu()).transaction(As,"readwrite");yield V.objectStore(As).delete(D),yield V.complete})).apply(this,arguments)}function Ss({appConfig:b}){return b.appId}const zn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ka(b,D){return ui.apply(this,arguments)}function ui(){return(ui=(0,R.Z)(function*(b,D){const M=yield Li(b),V=pt(D),Z={method:"POST",headers:M,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(Ii(b.appConfig),Z)).json()}catch(me){throw zn.create("token-subscribe-failed",{errorInfo:me})}if(ne.error)throw zn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw zn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Nr(b,D){return rs.apply(this,arguments)}function rs(){return(rs=(0,R.Z)(function*(b,D){const M=yield Li(b),V=pt(D.subscriptionOptions),Z={method:"PATCH",headers:M,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(`${Ii(b.appConfig)}/${D.token}`,Z)).json()}catch(me){throw zn.create("token-update-failed",{errorInfo:me})}if(ne.error)throw zn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw zn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function qs(b,D){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,R.Z)(function*(b,D){const V={method:"DELETE",headers:yield Li(b)};try{const ne=yield(yield fetch(`${Ii(b.appConfig)}/${D}`,V)).json();if(ne.error)throw zn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Z){throw zn.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function Ii({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function Li(b){return is.apply(this,arguments)}function is(){return(is=(0,R.Z)(function*({appConfig:b,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function pt({p256dh:b,auth:D,endpoint:M,vapidKey:V}){const Z={web:{endpoint:M,auth:D,p256dh:b}};return V!==ai&&(Z.web.applicationPubKey=V),Z}const ca=6048e5;function gc(b){return So.apply(this,arguments)}function So(){return(So=(0,R.Z)(function*(b){const D=yield zd(b.swRegistration,b.vapidKey),M={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:ns(D.getKey("auth")),p256dh:ns(D.getKey("p256dh"))},V=yield gn(b.firebaseDependencies);if(V){if(Ya(V.subscriptionOptions,M))return Date.now()>=V.createTime+ca?Gd(b,{token:V.token,createTime:Date.now(),subscriptionOptions:M}):V.token;try{yield qs(b.firebaseDependencies,V.token)}catch(Z){console.warn(Z)}return Ce(b.firebaseDependencies,M)}return Ce(b.firebaseDependencies,M)})).apply(this,arguments)}function mc(b){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,R.Z)(function*(b){const D=yield gn(b.firebaseDependencies);D&&(yield qs(b.firebaseDependencies,D.token),yield qu(b.firebaseDependencies));const M=yield b.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Gd(b,D){return da.apply(this,arguments)}function da(){return(da=(0,R.Z)(function*(b,D){try{const M=yield Nr(b.firebaseDependencies,D),V=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Ws(b.firebaseDependencies,V),M}catch(M){throw yield mc(b),M}})).apply(this,arguments)}function Ce(b,D){return kt.apply(this,arguments)}function kt(){return(kt=(0,R.Z)(function*(b,D){const V={token:yield Ka(b,D),createTime:Date.now(),subscriptionOptions:D};return yield Ws(b,V),V.token})).apply(this,arguments)}function zd(b,D){return mn.apply(this,arguments)}function mn(){return(mn=(0,R.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qa(D)})})).apply(this,arguments)}function Ya(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}function Ms(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function bi(b,D){if(!D.notification)return;b.notification={};const M=D.notification.title;M&&(b.notification.title=M);const V=D.notification.body;V&&(b.notification.body=V);const Z=D.notification.image;Z&&(b.notification.image=Z)}(D,b),function Zu(b,D){!D.data||(b.data=D.data)}(D,b),function ha(b,D){if(!D.fcmOptions)return;b.fcmOptions={};const M=D.fcmOptions.link;M&&(b.fcmOptions.link=M);const V=D.fcmOptions.analytics_label;V&&(b.fcmOptions.analyticsLabel=V)}(D,b),D}function Yf(b){return"object"==typeof b&&!!b&&bo in b}function Ku(b,D){const M=[];for(let V=0;V<b.length;V++)M.push(b.charAt(V)),V<D.length&&M.push(D.charAt(V));return M.join("")}function Ro(b){return zn.create("missing-app-config-values",{valueName:b})}Ku("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ku("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xn{constructor(D,M,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function xo(b){if(!b||!b.options)throw Ro("App Configuration Object");if(!b.name)throw Ro("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=b;for(const V of D)if(!M[V])throw Ro(V);return{appName:b.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Z,installations:M,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Vi(b){return No.apply(this,arguments)}function No(){return(No=(0,R.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(ts,{scope:aa}),b.swRegistration.update().catch(()=>{})}catch(D){throw zn.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function Oo(b,D){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,R.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield Vi(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw zn.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function Wd(b,D){return ko.apply(this,arguments)}function ko(){return(ko=(0,R.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=ai)})).apply(this,arguments)}function fa(){return(fa=(0,R.Z)(function*(b,D){if(!navigator)throw zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zn.create("permission-blocked");return yield Wd(b,null==D?void 0:D.vapidKey),yield Oo(b,null==D?void 0:D.serviceWorkerRegistration),gc(b)})).apply(this,arguments)}function Yu(b,D,M){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,R.Z)(function*(b,D,M){const V=qd(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:M[bo],message_name:M[Wa],message_time:M[Hd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qd(b){switch(b){case wi.NOTIFICATION_CLICKED:return"notification_open";case wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ju(){return(Ju=(0,R.Z)(function*(b,D){const M=D.data;if(!M.isFirebaseMessaging)return;b.onMessageHandler&&M.messageType===wi.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Ms(M)):b.onMessageHandler.next(Ms(M)));const V=M.data;Yf(V)&&"1"===V[ua]&&(yield Yu(b,M.messageType,V))})).apply(this,arguments)}const Qa="@firebase/messaging",Ks=b=>{const D=new Xn(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Qu(b,D){return Ju.apply(this,arguments)}(D,M)),D},Xu=b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:V=>function yc(b,D){return fa.apply(this,arguments)}(D,V)}};function _c(){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,R.Z)(function*(){try{yield(0,te.eu)()}catch(b){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zd(){(0,re._registerComponent)(new _e.wA("messaging",Ks,"PUBLIC")),(0,re._registerComponent)(new _e.wA("messaging-internal",Xu,"PRIVATE")),(0,re.registerVersion)(Qa,"0.9.11"),(0,re.registerVersion)(Qa,"0.9.11","esm2017")}();const tl="analytics",Ec="firebase_id",nl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ja="https://www.googletagmanager.com/gtag/js",Wn=new ue.Yd("@firebase/analytics");function wc(b){return Promise.all(b.map(D=>D.catch(M=>M)))}function Ic(b,D){const M=document.createElement("script");M.src=`${Ja}?l=${b}&id=${D}`,M.async=!0,document.head.appendChild(M)}function Xa(b,D,M,V,Z,ne){return ma.apply(this,arguments)}function ma(){return(ma=(0,R.Z)(function*(b,D,M,V,Z,ne){const me=V[Z];try{if(me)yield D[me];else{const It=(yield wc(M)).find(gt=>gt.measurementId===Z);It&&(yield D[It.appId])}}catch(Ve){Wn.error(Ve)}b("config",Z,ne)})).apply(this,arguments)}function Kd(b,D,M,V,Z){return Po.apply(this,arguments)}function Po(){return(Po=(0,R.Z)(function*(b,D,M,V,Z){try{let ne=[];if(Z&&Z.send_to){let me=Z.send_to;Array.isArray(me)||(me=[me]);const Ve=yield wc(M);for(const It of me){const gt=Ve.find(vt=>vt.measurementId===It),Bt=gt&&D[gt.appId];if(!Bt){ne=[];break}ne.push(Bt)}}0===ne.length&&(ne=Object.values(D)),yield Promise.all(ne),b("event",V,Z||{})}catch(ne){Wn.error(ne)}})).apply(this,arguments)}function Cm(){const b=window.document.getElementsByTagName("script");for(const D of Object.values(b))if(D.src&&D.src.includes(Ja))return D;return null}const fr=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),or=new class Yr{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Dc(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Un(b){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,R.Z)(function*(b){var D;const{appId:M,apiKey:V}=b,Z={method:"GET",headers:Dc(V)},ne=nl.replace("{app-id}",M),me=yield fetch(ne,Z);if(200!==me.status&&304!==me.status){let Ve="";try{const It=yield me.json();(null===(D=It.error)||void 0===D?void 0:D.message)&&(Ve=It.error.message)}catch(It){}throw fr.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Ve})}return me.json()})).apply(this,arguments)}function rl(b){return as.apply(this,arguments)}function as(){return(as=(0,R.Z)(function*(b,D=or,M){const{appId:V,apiKey:Z,measurementId:ne}=b.options;if(!V)throw fr.create("no-app-id");if(!Z){if(ne)return{measurementId:ne,appId:V};throw fr.create("no-api-key")}const me=D.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new Cc;return setTimeout((0,R.Z)(function*(){Ve.abort()}),void 0!==M?M:6e4),Fo({appId:V,apiKey:Z,measurementId:ne},me,Ve,D)})).apply(this,arguments)}function Fo(b,D,M){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,R.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:M},V,Z=or){const{appId:ne,measurementId:me}=b;try{yield Pt(V,D)}catch(Ve){if(me)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ne,measurementId:me};throw Ve}try{const Ve=yield Un(b);return Z.deleteThrottleMetadata(ne),Ve}catch(Ve){if(!il(Ve)){if(Z.deleteThrottleMetadata(ne),me)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${me} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ne,measurementId:me};throw Ve}const It=503===Number(Ve.customData.httpStatus)?(0,te.$s)(M,Z.intervalMillis,30):(0,te.$s)(M,Z.intervalMillis),gt={throttleEndTimeMillis:Date.now()+It,backoffCount:M+1};return Z.setThrottleMetadata(ne,gt),Wn.debug(`Calling attemptFetch again in ${It} millis`),Fo(b,gt,V,Z)}})).apply(this,arguments)}function Pt(b,D){return new Promise((M,V)=>{const Z=Math.max(D-Date.now(),0),ne=setTimeout(M,Z);b.addEventListener(()=>{clearTimeout(ne),V(fr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function il(b){if(!(b instanceof te.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Cc{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function ya(){return _a.apply(this,arguments)}function _a(){return(_a=(0,R.Z)(function*(){if(!(0,te.hl)())return Wn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(b){return Wn.warn(fr.create("indexeddb-unavailable",{errorInfo:b}).message),!1}return!0})).apply(this,arguments)}function Os(){return(Os=(0,R.Z)(function*(b,D,M,V,Z,ne,me){var Ve;const It=rl(b);It.then(er=>{M[er.measurementId]=er.appId,b.options.measurementId&&er.measurementId!==b.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${er.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(er=>Wn.error(er)),D.push(It);const gt=ya().then(er=>{if(er)return V.getId()}),[Bt,vt]=yield Promise.all([It,gt]);Cm()||Ic(ne,Bt.measurementId),Z("js",new Date);const Dr=null!==(Ve=null==me?void 0:me.config)&&void 0!==Ve?Ve:{};return Dr.origin="firebase",Dr.update=!0,null!=vt&&(Dr[Ec]=vt),Z("config",Bt.measurementId,Dr),Bt.measurementId})).apply(this,arguments)}class sl{constructor(D){this.app=D}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},Js=[];const Lo={};let Xs,us,ks="dataLayer",ol=!1;function Vo(b,D,M){!function Ps(){const b=[];if((0,te.ru)()&&b.push("This is a browser extension environment."),(0,te.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((V,Z)=>`(${Z+1}) ${V}`).join(" "),M=fr.create("invalid-analytics-context",{errorInfo:D});Wn.warn(M.message)}}();const V=b.options.appId;if(!V)throw fr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw fr.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[V])throw fr.create("already-exists",{id:V});if(!ol){!function ss(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(ks);const{wrappedGtag:ne,gtagCore:me}=function Yd(b,D,M,V,Z){let ne=function(...me){window[V].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ne=window[Z]),window[Z]=function bc(b,D,M,V){function ne(){return(ne=(0,R.Z)(function*(me,Ve,It){try{"event"===me?yield Kd(b,D,M,Ve,It):"config"===me?yield Xa(b,D,M,V,Ve,It):b("set",Ve)}catch(gt){Wn.error(gt)}})).apply(this,arguments)}return function Z(me,Ve,It){return ne.apply(this,arguments)}}(ne,b,D,M),{gtagCore:ne,wrappedGtag:window[Z]}}(kr,Js,Lo,ks,"gtag");us=ne,Xs=me,ol=!0}return kr[V]=function An(b,D,M,V,Z,ne,me){return Os.apply(this,arguments)}(b,Js,Lo,D,Xs,ks,M),new sl(b)}function Ea(){return(Ea=(0,R.Z)(function*(b,D,M,V,Z){if(Z&&Z.global)b("event",M,V);else{const ne=yield D;b("event",M,Object.assign(Object.assign({},V),{send_to:ne}))}})).apply(this,arguments)}function wn(){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,R.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(b){return!1}})).apply(this,arguments)}const eo="@firebase/analytics";!function Xf(){(0,re._registerComponent)(new _e.wA(tl,(D,{options:M})=>Vo(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,re._registerComponent)(new _e.wA("analytics-internal",function b(D){try{const M=D.getProvider(tl).getImmediate();return{logEvent:(V,Z,ne)=>function Jd(b,D,M,V){b=(0,te.m9)(b),function Uo(b,D,M,V,Z){return Ea.apply(this,arguments)}(us,kr[b.app.options.appId],D,M,V).catch(Z=>Wn.error(Z))}(M,V,Z,ne)}}catch(M){throw fr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,re.registerVersion)(eo,"0.7.7"),(0,re.registerVersion)(eo,"0.7.7","esm2017")}();var ji=k(4408),jo=k(7565);const Ia=new class jn extends jo.v{}(class to extends ji.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(D,M,V):D.flush(this)}});var Ac=k(4986),ba=k(8306),Fr=k(8505),Ci=k(9468),$o=k(5363);const Da=new f.GfV("7.3.0"),Qr="__angularfire_symbol__analyticsIsSupportedValue",Ho="__angularfire_symbol__analyticsIsSupported",ul="__angularfire_symbol__remoteConfigIsSupportedValue",ll="__angularfire_symbol__remoteConfigIsSupported",cl="__angularfire_symbol__messagingIsSupportedValue",xt="__angularfire_symbol__messagingIsSupported";function ep(b,D,M){if(D){if(1===D.length)return D[0];const ne=D.filter(me=>me.app===M);if(1===ne.length)return ne[0]}return M.container.getProvider(b).getImmediate({optional:!0})}globalThis[Ho]||(globalThis[Ho]=wn().then(b=>globalThis[Qr]=b).catch(()=>globalThis[Qr]=!1)),globalThis[xt]||(globalThis[xt]=_c().then(b=>globalThis[cl]=b).catch(()=>globalThis[cl]=!1)),globalThis[ll]||(globalThis[ll]=fc().then(b=>globalThis[ul]=b).catch(()=>globalThis[ul]=!1));const tu=(b,D)=>{const M=D?[D]:(0,j.C6)(),V=[];return M.forEach(Z=>{Z.container.getProvider(b).instances.forEach(me=>{V.includes(me)||V.push(me)})}),V};function Go(){}class Jr{constructor(D,M=Ia){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,V){const Z=this.zone;return this.delegate.schedule(function(me){Z.runGuarded(()=>{D.apply(this,[me])})},M,V)}}class nu{constructor(D){this.zone=D,this.task=null}call(D,M){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)),M.pipe((0,Fr.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sc=(()=>{class b{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Jr(Zone.current)),this.insideAngular=M.run(()=>new Jr(Zone.current,Ac.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(M){return new(M||b)(f.LFG(f.R0b))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Ti(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Xd(b){return Ti().ngZone.runOutsideAngular(()=>b())}function yn(b){return Ti().ngZone.run(()=>b())}function Fs(b){return Ti(),function ru(b){return function(M){return(M=M.lift(new nu(b.ngZone))).pipe((0,Ci.R)(b.outsideAngular),(0,$o.Q)(b.insideAngular))}}(Ti())(b)}const zo=(b,D)=>function(){const V=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),yn(()=>b.apply(void 0,V))},Mc=(b,D)=>function(){let M;const V=arguments;for(let ne=0;ne<arguments.length;ne++)"function"==typeof V[ne]&&(D&&(M||(M=yn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)))),V[ne]=zo(V[ne],M));const Z=Xd(()=>b.apply(this,V));if(!D){if(Z instanceof ba.y){const ne=Ti();return Z.pipe((0,Ci.R)(ne.outsideAngular),(0,$o.Q)(ne.insideAngular))}return yn(()=>Z)}return Z instanceof ba.y?Z.pipe(Fs):Z instanceof Promise?yn(()=>new Promise((ne,me)=>Z.then(Ve=>yn(()=>ne(Ve)),Ve=>yn(()=>me(Ve))))):"function"==typeof Z&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Z.apply(this,arguments)}:yn(()=>Z)}},424:(lt,Te,k)=>{k.d(Te,{$:()=>gc,A:()=>H,E:()=>Lt,G:()=>br,I:()=>es,K:()=>U,L:()=>za,M:()=>$d,N:()=>bo,P:()=>Da,Q:()=>Wa,R:()=>Pr,T:()=>ai,U:()=>wi,V:()=>ns,W:()=>Kf,X:()=>hr,Y:()=>Ka,Z:()=>Nr,_:()=>Ii,a:()=>ft,a0:()=>mc,a1:()=>Gd,a2:()=>Ce,a3:()=>zd,a4:()=>Ya,a5:()=>bi,a6:()=>Zu,a7:()=>Yf,a8:()=>Ku,a9:()=>Vi,aA:()=>vt,aB:()=>ru,aC:()=>ln,aG:()=>or,aJ:()=>ua,aa:()=>Oo,ab:()=>Wd,ae:()=>Yu,af:()=>qd,ag:()=>Qu,aj:()=>As,ak:()=>el,am:()=>nl,an:()=>Xa,ao:()=>_n,ap:()=>K,aq:()=>Dt,ar:()=>ze,as:()=>Ue,at:()=>Aa,au:()=>su,av:()=>Me,aw:()=>ee,ax:()=>ae,ay:()=>W,az:()=>Ai,b:()=>Tn,c:()=>dl,d:()=>Go,e:()=>ep,f:()=>b,g:()=>me,h:()=>V,i:()=>Ps,j:()=>gt,k:()=>so,l:()=>jn,m:()=>Nm,o:()=>oe,r:()=>eu,s:()=>to,u:()=>Ci,z:()=>xe});var f=k(5861),j=k(2090),R=k(9681),re=k(655),te=k(1877),_e=k(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},H={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const xe=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new te.Yd("@firebase/auth");function Ye(_,...p){Ie.logLevel<=te.in.ERROR&&Ie.error(`Auth (${R.SDK_VERSION}): ${_}`,...p)}function Ue(_,...p){throw We(_,...p)}function Me(_,...p){return We(_,...p)}function Ae(_,p,g){const w=Object.assign(Object.assign({},Oe()),{[p]:g});return new j.LL("auth","Firebase",w).create(p,{appName:_.name})}function Ee(_,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ue(_,"argument-error"),Ae(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(_,...p){if("string"!=typeof _){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(g,...w)}return Fe.create(_,...p)}function ee(_,p,...g){if(!_)throw We(p,...g)}function Ke(_){const p="INTERNAL ASSERTION FAILED: "+_;throw Ye(p),new Error(p)}function K(_,p){_||Ke(p)}const ce=new Map;function ae(_){K(_ instanceof Function,"Expected a class definition");let p=ce.get(_);return p?(K(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,ce.set(_,p),p)}function ie(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function wt(){return"http:"===Zt()||"https:"===Zt()}function Zt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ct{constructor(p,g){this.shortDelay=p,this.longDelay=g,K(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function xn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(_,p){K(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class sn{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ii={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xt=new ct(3e4,6e4);function qt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function Kt(_,p,g,w){return bn.apply(this,arguments)}function bn(){return(bn=(0,f.Z)(function*(_,p,g,w,A={}){return rr(_,A,(0,f.Z)(function*(){let P={},Q={};w&&("GET"===p?Q=w:P={body:JSON.stringify(w)});const Se=(0,j.xO)(Object.assign({key:_.config.apiKey},Q)).slice(1),nt=yield _._getAdditionalHeaders();return nt["Content-Type"]="application/json",_.languageCode&&(nt["X-Firebase-Locale"]=_.languageCode),sn.fetch()(si(_,_.config.apiHost,g,Se),Object.assign({method:p,headers:nt,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function rr(_,p,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,f.Z)(function*(_,p,g){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},ii),p);try{const A=new ir(_),P=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const Q=yield P.json();if("needConfirmation"in Q)throw dr(_,"account-exists-with-different-credential",Q);if(P.ok&&!("errorMessage"in Q))return Q;{const Se=P.ok?Q.errorMessage:Q.error.message,[nt,mt]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw dr(_,"credential-already-in-use",Q);if("EMAIL_EXISTS"===nt)throw dr(_,"email-already-in-use",Q);const Rt=w[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(mt)throw Ae(_,Rt,mt);Ue(_,Rt)}}catch(A){if(A instanceof j.ZR)throw A;Ue(_,"network-request-failed")}})).apply(this,arguments)}function cr(_,p,g,w){return xi.apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(_,p,g,w,A={}){const P=yield Kt(_,p,g,w,A);return"mfaPendingCredential"in P&&Ue(_,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function si(_,p,g,w){const A=`${p}${g}?${w}`;return _.config.emulator?un(_.config,A):`${_.config.apiScheme}://${A}`}class ir{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Me(this.auth,"network-request-failed")),Xt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dr(_,p,g){const w={appName:_.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const A=Me(_,p,w);return A.customData._tokenResponse=g,A}function ot(){return(ot=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Er(_,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function en(_,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function oi(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function xr(){return(xr=(0,f.Z)(function*(_,p=!1){const g=(0,j.m9)(_),w=yield g.getIdToken(p),A=Ft(w);ee(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,Q=null==P?void 0:P.sign_in_provider;return{claims:A,token:w,authTime:oi(js(A.auth_time)),issuedAtTime:oi(js(A.iat)),expirationTime:oi(js(A.exp)),signInProvider:Q||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function js(_){return 1e3*Number(_)}function Ft(_){const[p,g,w]=_.split(".");if(void 0===p||void 0===g||void 0===w)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,j.tV)(g);return A?JSON.parse(A):(Ye("Failed to decode base64 JWT payload"),null)}catch(A){return Ye("Caught error parsing JWT payload as JSON",A),null}}function et(_,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(_,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof j.ZR&&Ri(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function Ri({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Vt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,f.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Ni{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function On(_){return tn.apply(this,arguments)}function tn(){return(tn=(0,f.Z)(function*(_){var p;const g=_.auth,w=yield _.getIdToken(),A=yield et(_,en(g,{idToken:w}));ee(null==A?void 0:A.users.length,g,"internal-error");const P=A.users[0];_._notifyReloadListener(P);const Q=(null===(p=P.providerUserInfo)||void 0===p?void 0:p.length)?$e(P.providerUserInfo):[],Se=Ut(_.providerData,Q),Rt=!!_.isAnonymous&&!(_.email&&P.passwordHash||(null==Se?void 0:Se.length)),on={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Se,metadata:new Ni(P.createdAt,P.lastLoginAt),isAnonymous:Rt};Object.assign(_,on)})).apply(this,arguments)}function kn(){return(kn=(0,f.Z)(function*(_){const p=(0,j.m9)(_);yield On(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ut(_,p){return[..._.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function $e(_){return _.map(p=>{var{providerId:g}=p,w=(0,re._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Qe(){return(Qe=(0,f.Z)(function*(_,p){const g=yield rr(_,{},(0,f.Z)(function*(){const w=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:P}=_.config,Q=si(_,A,"/v1/token",`key=${P}`),Se=yield _._getAdditionalHeaders();return Se["Content-Type"]="application/x-www-form-urlencoded",sn.fetch()(Q,{method:"POST",headers:Se,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ee(p.idToken,"internal-error"),ee(void 0!==p.idToken,"internal-error"),ee(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function at(_){const p=Ft(_);return ee(p,"internal-error"),ee(void 0!==p.exp,"internal-error"),ee(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,f.Z)(function*(){return ee(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,f.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:Q}=yield function be(_,p){return Qe.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(A,P,Number(Q))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:A,expirationTime:P}=g,Q=new ut;return w&&(ee("string"==typeof w,"internal-error",{appName:p}),Q.refreshToken=w),A&&(ee("string"==typeof A,"internal-error",{appName:p}),Q.accessToken=A),P&&(ee("number"==typeof P,"internal-error",{appName:p}),Q.expirationTime=P),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ut,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function St(_,p){ee("string"==typeof _||void 0===_,"internal-error",{appName:p})}class Mt{constructor(p){var{uid:g,auth:w,stsTokenManager:A}=p,P=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ni(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,f.Z)(function*(){const w=yield et(g,g.stsTokenManager.getToken(g.auth,p));return ee(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Dn(_){return xr.apply(this,arguments)}(this,p)}reload(){return function dt(_){return kn.apply(this,arguments)}(this)}_assign(p){this!==p&&(ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Mt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,f.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),g&&(yield On(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,f.Z)(function*(){const g=yield p.getIdToken();return yield et(p,function Ji(_,p){return ot.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,A,P,Q,Se,nt,mt,Rt;const on=null!==(w=g.displayName)&&void 0!==w?w:void 0,oo=null!==(A=g.email)&&void 0!==A?A:void 0,Mi=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,lu=null!==(Q=g.photoURL)&&void 0!==Q?Q:void 0,kc=null!==(Se=g.tenantId)&&void 0!==Se?Se:void 0,yl=null!==(nt=g._redirectEventId)&&void 0!==nt?nt:void 0,Pm=null!==(mt=g.createdAt)&&void 0!==mt?mt:void 0,_l=null!==(Rt=g.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:qo,emailVerified:op,isAnonymous:cu,providerData:vl,stsTokenManager:ap}=g;ee(qo&&ap,p,"internal-error");const lh=ut.fromJSON(this.name,ap);ee("string"==typeof qo,p,"internal-error"),St(on,p.name),St(oo,p.name),ee("boolean"==typeof op,p,"internal-error"),ee("boolean"==typeof cu,p,"internal-error"),St(Mi,p.name),St(lu,p.name),St(kc,p.name),St(yl,p.name),St(Pm,p.name),St(_l,p.name);const Sa=new Mt({uid:qo,auth:p,email:oo,emailVerified:op,displayName:on,isAnonymous:cu,photoURL:lu,phoneNumber:Mi,tenantId:kc,stsTokenManager:lh,createdAt:Pm,lastLoginAt:_l});return vl&&Array.isArray(vl)&&(Sa.providerData=vl.map(Fm=>Object.assign({},Fm))),yl&&(Sa._redirectEventId=yl),Sa}static _fromIdTokenResponse(p,g,w=!1){return(0,f.Z)(function*(){const A=new ut;A.updateFromServerResponse(g);const P=new Mt({uid:g.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield On(P),P})()}}const U=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,w){var A=this;return(0,f.Z)(function*(){A.storage[g]=w})()}_get(g){var w=this;return(0,f.Z)(function*(){const A=w.storage[g];return void 0===A?null:A})()}_remove(g){var w=this;return(0,f.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return _.type="NONE",_})();function W(_,p,g){return`firebase:${_}:${p}:${g}`}class de{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:A,name:P}=this.auth;this.fullUserKey=W(this.userKey,A.apiKey,P),this.fullPersistenceKey=W("persistence",A.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,f.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Mt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,f.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,f.Z)(function*(){if(!g.length)return new de(ae(U),p,w);const A=(yield Promise.all(g.map(function(){var mt=(0,f.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return mt.apply(this,arguments)}}()))).filter(mt=>mt);let P=A[0]||ae(U);const Q=W(w,p.config.apiKey,p.name);let Se=null;for(const mt of g)try{const Rt=yield mt._get(Q);if(Rt){const on=Mt._fromJSON(p,Rt);mt!==P&&(Se=on),P=mt;break}}catch(Rt){}const nt=A.filter(mt=>mt._shouldAllowMigration);return P._shouldAllowMigration&&nt.length?(P=nt[0],Se&&(yield P._set(Q,Se.toJSON())),yield Promise.all(g.map(function(){var mt=(0,f.Z)(function*(Rt){if(Rt!==P)try{yield Rt._remove(Q)}catch(on){}});return function(Rt){return mt.apply(this,arguments)}}())),new de(P,p,w)):new de(P,p,w)})()}}function O(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Le(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(L(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(_t(p))return"Blackberry";if(Je(p))return"Webos";if(B(p))return"Safari";if((p.includes("chrome/")||se(p))&&!p.includes("edge/"))return"Chrome";if(ze(p))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function L(_=(0,j.z$)()){return/firefox\//i.test(_)}function B(_=(0,j.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function se(_=(0,j.z$)()){return/crios\//i.test(_)}function Le(_=(0,j.z$)()){return/iemobile/i.test(_)}function ze(_=(0,j.z$)()){return/android/i.test(_)}function _t(_=(0,j.z$)()){return/blackberry/i.test(_)}function Je(_=(0,j.z$)()){return/webos/i.test(_)}function Dt(_=(0,j.z$)()){return/iphone|ipad|ipod/i.test(_)}function _n(_=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function wr(_=(0,j.z$)()){return Dt(_)||ze(_)||Je(_)||_t(_)||/windows phone/i.test(_)||Le(_)}function Gn(_,p=[]){let g;switch(_){case"Browser":g=O((0,j.z$)());break;case"Worker":g=`${O((0,j.z$)())}-${_}`;break;default:g=_}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${R.SDK_VERSION}/${w}`}class ja{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qe(this),this.idTokenSubscription=new qe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var A,P;if(!w._deleted&&(w.persistenceManager=yield de.create(w,p),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(Q){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,f.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,f.Z)(function*(){var w;let A=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const P=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Q=null==A?void 0:A._redirectEventId,Se=yield g.tryRedirectSignIn(p);(!P||P===Q)&&(null==Se?void 0:Se.user)&&(A=Se.user)}return A?A._redirectEventId?(ee(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,f.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(A){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,f.Z)(function*(){try{yield On(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function st(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,f.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,f.Z)(function*(){const w=p?(0,j.m9)(p):null;return w&&ee(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,f.Z)(function*(){if(!g._deleted)return p&&ee(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,f.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,f.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new j.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,f.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(g);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&ae(p)||g._popupRedirectResolver;ee(w,g,"argument-error"),g.redirectPersistenceManager=yield de.create(g,[ae(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,f.Z)(function*(){var w,A;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,f.Z)(function*(){if(p===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,A){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Q,this,"internal-error"),Q.then(()=>P(this.currentUser)),"function"==typeof g?p.addObserver(g,w,A):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Gn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,f.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function ln(_){return(0,j.m9)(_)}class qe{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,j.ne)(g=>this.observer=g)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Lt(_,p,g){const w=ln(_);ee(w._canInitEmulator,w,"emulator-config-failed"),ee(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),P=cn(p),{host:Q,port:Se}=function Ir(_){const p=cn(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const P=A[1];return{host:P,port:Xi(w.substr(P.length+1))}}{const[P,Q]=w.split(":");return{host:P,port:Xi(Q)}}}(p);w.config.emulator={url:`${P}//${Q}${null===Se?"":`:${Se}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Q,port:Se,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Jn(){function _(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function cn(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Xi(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class br{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Ke("not implemented")}_getIdTokenResponse(p){return Ke("not implemented")}_linkToIdToken(p,g){return Ke("not implemented")}_getReauthenticationResolver(p){return Ke("not implemented")}}function vn(_,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:resetPassword",qt(_,p))})).apply(this,arguments)}function $s(_,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function $a(_,p){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:update",qt(_,p))})).apply(this,arguments)}function ki(){return(ki=(0,f.Z)(function*(_,p){return cr(_,"POST","/v1/accounts:signInWithPassword",qt(_,p))})).apply(this,arguments)}function sr(_,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:sendOobCode",qt(_,p))})).apply(this,arguments)}function Hs(_,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,f.Z)(function*(_,p){return sr(_,p)})).apply(this,arguments)}function pn(_,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(_,p){return sr(_,p)})).apply(this,arguments)}function cc(_,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,f.Z)(function*(_,p){return sr(_,p)})).apply(this,arguments)}function Pi(_,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,f.Z)(function*(_,p){return sr(_,p)})).apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(_,p){return cr(_,"POST","/v1/accounts:signInWithEmailLink",qt(_,p))})).apply(this,arguments)}function Hu(){return(Hu=(0,f.Z)(function*(_,p){return cr(_,"POST","/v1/accounts:signInWithEmailLink",qt(_,p))})).apply(this,arguments)}class Ga extends br{constructor(p,g,w,A=null){super("password",w),this._email=p,this._password=g,this._tenantId=A}static _fromEmailAndPassword(p,g){return new Ga(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Ga(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function $u(_,p){return ki.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function vo(_,p){return Eo.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ue(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return $s(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ei(_,p){return Hu.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ue(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Cs(_,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(_,p){return cr(_,"POST","/v1/accounts:signInWithIdp",qt(_,p))})).apply(this,arguments)}class es extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new es(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ue("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=g,P=(0,re._T)(g,["providerId","signInMethod"]);if(!w||!A)return null;const Q=new es(w,A);return Q.idToken=P.idToken||void 0,Q.accessToken=P.accessToken||void 0,Q.secret=P.secret,Q.nonce=P.nonce,Q.pendingToken=P.pendingToken||null,Q}_getIdTokenResponse(p){return Cs(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Cs(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Cs(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,j.xO)(g)}return p}}function zf(_,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:sendVerificationCode",qt(_,p))})).apply(this,arguments)}function oa(){return(oa=(0,f.Z)(function*(_,p){return cr(_,"POST","/v1/accounts:signInWithPhoneNumber",qt(_,p))})).apply(this,arguments)}function hc(){return(hc=(0,f.Z)(function*(_,p){const g=yield cr(_,"POST","/v1/accounts:signInWithPhoneNumber",qt(_,p));if(g.temporaryProof)throw dr(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Wf={USER_NOT_FOUND:"user-not-found"};function Gu(){return(Gu=(0,f.Z)(function*(_,p){return cr(_,"POST","/v1/accounts:signInWithPhoneNumber",qt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Wf)})).apply(this,arguments)}class Io extends br{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Io({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Io({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function jd(_,p){return oa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function wo(_,p){return hc.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function qf(_,p){return Gu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:A}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:P}=p;return w||g||A||P?new Io({verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:P}):null}}class Ts{constructor(p){var g,w,A,P,Q,Se;const nt=(0,j.zd)((0,j.pd)(p)),mt=null!==(g=nt.apiKey)&&void 0!==g?g:null,Rt=null!==(w=nt.oobCode)&&void 0!==w?w:null,on=function Zf(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=nt.mode)&&void 0!==A?A:null);ee(mt&&Rt&&on,"argument-error"),this.apiKey=mt,this.operation=on,this.code=Rt,this.continueUrl=null!==(P=nt.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Q=nt.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(Se=nt.tenantId)&&void 0!==Se?Se:null}static parseLink(p){const g=function bm(_){const p=(0,j.zd)((0,j.pd)(_)).link,g=p?(0,j.zd)((0,j.pd)(p)).deep_link_id:null,w=(0,j.zd)((0,j.pd)(_)).deep_link_id;return(w?(0,j.zd)((0,j.pd)(w)).link:null)||w||g||p||_}(p);try{return new Ts(g)}catch(w){return null}}}let za=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,w){return Ga._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const A=Ts.parseLink(w);return ee(A,"argument-error"),Ga._fromEmailAndCode(g,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ts{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class aa extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ai extends aa{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ee("providerId"in g&&"signInMethod"in g,"argument-error"),es._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ee(p.idToken||p.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ai.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ai.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:P,nonce:Q,providerId:Se}=p;if(!w&&!A&&!g&&!P||!Se)return null;try{return new ai(Se)._credential({idToken:g,accessToken:w,nonce:Q,pendingToken:P})}catch(nt){return null}}}let $d=(()=>{class _ extends aa{constructor(){super("facebook.com")}static credential(g){return es._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),bo=(()=>{class _ extends aa{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return es._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:A}=g;if(!w&&!A)return null;try{return _.credential(w,A)}catch(P){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Wa=(()=>{class _ extends aa{constructor(){super("github.com")}static credential(g){return es._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ua extends br{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Cs(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Cs(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Cs(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:P}=g;return w&&A&&P&&w===A?new ua(w,P):null}static _create(p,g){return new ua(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wi extends ts{constructor(p){ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return wi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return wi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=ua.fromJSON(p);return ee(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return ua._create(w,g)}catch(A){return null}}}let ns=(()=>{class _ extends aa{constructor(){super("twitter.com")}static credential(g,w){return es._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=g;if(!w||!A)return null;try{return _.credential(w,A)}catch(P){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function qa(_,p){return la.apply(this,arguments)}function la(){return(la=(0,f.Z)(function*(_,p){return cr(_,"POST","/v1/accounts:signUp",qt(_,p))})).apply(this,arguments)}class Cn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,A=!1){return(0,f.Z)(function*(){const P=yield Mt._fromIdTokenResponse(p,w,A),Q=Do(w);return new Cn({user:P,providerId:Q,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,f.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=Do(w);return new Cn({user:p,providerId:A,_tokenResponse:w,operationType:g})})()}}function Do(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Kf(_){return Co.apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(_){var p;const g=ln(_);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Cn({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield qa(g,{returnSecureToken:!0}),A=yield Cn._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class zu extends j.ZR{constructor(p,g,w,A){var P;super(g.code,g.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,zu.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,A){return new zu(p,g,w,A)}}function pc(_,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?zu._fromErrorAndOperation(_,P,p,w):P})}function Za(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function As(_,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,f.Z)(function*(_,p){const g=(0,j.m9)(_);yield zs(!0,g,p);const{providerUserInfo:w}=yield Er(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),A=Za(w||[]);return g.providerData=g.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Wu(_,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(_,p,g=!1){const w=yield et(_,p._linkToIdToken(_.auth,yield _.getIdToken()),g);return Cn._forOperation(_,"link",w)})).apply(this,arguments)}function zs(_,p,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(_,p,g){yield On(p);const A=!1===_?"provider-already-linked":"no-such-provider";ee(Za(p.providerData).has(g)===_,p.auth,A)})).apply(this,arguments)}function dn(_,p){return qu.apply(this,arguments)}function qu(){return(qu=(0,f.Z)(function*(_,p,g=!1){const{auth:w}=_,A="reauthenticate";try{const P=yield et(_,pc(w,A,p,_),g);ee(P.idToken,w,"internal-error");const Q=Ft(P.idToken);ee(Q,w,"internal-error");const{sub:Se}=Q;return ee(_.uid===Se,w,"user-mismatch"),Cn._forOperation(_,A,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ue(w,"user-mismatch"),P}})).apply(this,arguments)}function To(_,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,f.Z)(function*(_,p,g=!1){const w="signIn",A=yield pc(_,w,p),P=yield Cn._fromIdTokenResponse(_,w,A);return g||(yield _._updateCurrentUser(P.user)),P})).apply(this,arguments)}function hr(_,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(_,p){return To(ln(_),p)})).apply(this,arguments)}function Ka(_,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(_,p){const g=(0,j.m9)(_);return yield zs(!1,g,p.providerId),Wu(g,p)})).apply(this,arguments)}function Nr(_,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(_,p){return dn((0,j.m9)(_),p)})).apply(this,arguments)}function qs(_,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,f.Z)(function*(_,p){return cr(_,"POST","/v1/accounts:signInWithCustomToken",qt(_,p))})).apply(this,arguments)}function Ii(_,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,f.Z)(function*(_,p){const g=ln(_),w=yield qs(g,{token:p,returnSecureToken:!0}),A=yield Cn._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class is{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?pt._fromServerResponse(p,g):Ue(p,"internal-error")}}class pt extends is{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new pt(g)}}function ca(_,p,g){var w;ee((null===(w=g.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),ee(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ee(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ee(g.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function gc(_,p,g){return So.apply(this,arguments)}function So(){return(So=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_),A={requestType:"PASSWORD_RESET",email:p};g&&ca(w,A,g),yield pn(w,A)})).apply(this,arguments)}function mc(_,p,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,f.Z)(function*(_,p,g){yield vn((0,j.m9)(_),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Gd(_,p){return da.apply(this,arguments)}function da(){return(da=(0,f.Z)(function*(_,p){yield $a((0,j.m9)(_),{oobCode:p})})).apply(this,arguments)}function Ce(_,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,f.Z)(function*(_,p){const g=(0,j.m9)(_),w=yield vn(g,{oobCode:p}),A=w.requestType;switch(ee(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(w.mfaInfo,g,"internal-error");default:ee(w.email,g,"internal-error")}let P=null;return w.mfaInfo&&(P=is._fromServerResponse(ln(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function zd(_,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(_,p){const{data:g}=yield Ce((0,j.m9)(_),p);return g.email})).apply(this,arguments)}function Ya(_,p,g){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(_,p,g){const w=ln(_),A=yield qa(w,{returnSecureToken:!0,email:p,password:g}),P=yield Cn._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function bi(_,p,g){return hr((0,j.m9)(_),za.credential(p,g))}function Zu(_,p,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_),A={requestType:"EMAIL_SIGNIN",email:p};ee(g.handleCodeInApp,w,"argument-error"),g&&ca(w,A,g),yield cc(w,A)})).apply(this,arguments)}function Yf(_,p){const g=Ts.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function Ku(_,p,g){return xo.apply(this,arguments)}function xo(){return(xo=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_),A=za.credentialWithLink(p,g||ie());return ee(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),hr(w,A)})).apply(this,arguments)}function Ro(_,p){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:createAuthUri",qt(_,p))})).apply(this,arguments)}function Vi(_,p){return No.apply(this,arguments)}function No(){return(No=(0,f.Z)(function*(_,p){const w={identifier:p,continueUri:wt()?ie():"http://localhost"},{signinMethods:A}=yield Ro((0,j.m9)(_),w);return A||[]})).apply(this,arguments)}function Oo(_,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,f.Z)(function*(_,p){const g=(0,j.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&ca(g.auth,A,p);const{email:P}=yield Hs(g.auth,A);P!==_.email&&(yield _.reload())})).apply(this,arguments)}function Wd(_,p,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};g&&ca(w.auth,P,g);const{email:Q}=yield Pi(w.auth,P);Q!==_.email&&(yield _.reload())})).apply(this,arguments)}function yc(_,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,f.Z)(function*(_,p){return Kt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yu(_,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(_,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,j.m9)(_),P={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Q=yield et(w,yc(w.auth,P));w.displayName=Q.displayName||null,w.photoURL=Q.photoUrl||null;const Se=w.providerData.find(({providerId:nt})=>"password"===nt);Se&&(Se.displayName=w.displayName,Se.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Q)})).apply(this,arguments)}function qd(_,p){return Ju((0,j.m9)(_),p,null)}function Qu(_,p){return Ju((0,j.m9)(_),null,p)}function Ju(_,p,g){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,f.Z)(function*(_,p,g){const{auth:w}=_,P={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(P.email=p),g&&(P.password=g);const Q=yield et(_,$s(w,P));yield _._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Ks{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class Xu extends Ks{constructor(p,g,w,A){super(p,g,w),this.username=A}}class Zd extends Ks{constructor(p,g){super(p,"facebook.com",g)}}class _c extends Xu{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ys extends Ks{constructor(p,g){super(p,"google.com",g)}}class xs extends Xu{constructor(p,g,w){super(p,"twitter.com",g,w)}}function el(_){const{user:p,_tokenResponse:g}=_;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function pa(_){var p,g;if(!_)return null;const{providerId:w}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},P=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const Q=null===(g=null===(p=Ft(_.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Q)return new Ks(P,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!w)return null;switch(w){case"facebook.com":return new Zd(P,A);case"github.com":return new _c(P,A);case"google.com":return new Ys(P,A);case"twitter.com":return new xs(P,A,_.screenName||null);case"custom":case"anonymous":return new Ks(P,null);default:return new Ks(P,w,A)}}(g)}class Qs{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Qs("enroll",p)}static _fromMfaPendingCredential(p){return new Qs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Qs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Qs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ga{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=ln(p),A=g.customData._serverResponse,P=(A.mfaInfo||[]).map(Se=>is._fromServerResponse(w,Se));ee(A.mfaPendingCredential,w,"internal-error");const Q=Qs._fromMfaPendingCredential(A.mfaPendingCredential);return new ga(Q,P,function(){var Se=(0,f.Z)(function*(nt){const mt=yield nt._process(w,Q);delete A.mfaInfo,delete A.mfaPendingCredential;const Rt=Object.assign(Object.assign({},A),{idToken:mt.idToken,refreshToken:mt.refreshToken});switch(g.operationType){case"signIn":const on=yield Cn._fromIdTokenResponse(w,g.operationType,Rt);return yield w._updateCurrentUser(on.user),on;case"reauthenticate":return ee(g.user,w,"internal-error"),Cn._forOperation(g.user,g.operationType,Rt);default:Ue(w,"internal-error")}});return function(nt){return Se.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,f.Z)(function*(){return g.signInResolver(p)})()}}function nl(_,p){var g;const w=(0,j.m9)(_),A=p;return ee(p.customData.operationType,w,"argument-error"),ee(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ga._fromError(w,A)}function Ja(_,p){return Kt(_,"POST","/v2/accounts/mfaEnrollment:start",qt(_,p))}class Ic{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>is._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Ic(p)}getSession(){var p=this;return(0,f.Z)(function*(){return Qs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,f.Z)(function*(){const A=p,P=yield w.getSession(),Q=yield et(w.user,A._process(w.user.auth,P,g));return yield w.user._updateTokensIfNecessary(Q),w.user.reload()})()}unenroll(p){var g=this;return(0,f.Z)(function*(){const w="string"==typeof p?p:p.uid,A=yield g.user.getIdToken(),P=yield et(g.user,function wc(_,p){return Kt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(_,p))}(g.user.auth,{idToken:A,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Q})=>Q!==w),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(Q){if("auth/user-token-expired"!==Q.code)throw Q}})()}}const ss=new WeakMap;function Xa(_){const p=(0,j.m9)(_);return ss.has(p)||ss.set(p,Ic._fromUser(p)),ss.get(p)}const ma="__sak";class Kd{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ma,"1"),this.storage.removeItem(ma),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tn=(()=>{class _ extends Kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Po(){const _=(0,j.z$)();return B(_)||Dt(_)}()&&function vi(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=wr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),P=this.localCache[w];A!==P&&g(w,P,A)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Se,nt,mt)=>{this.notifyListeners(Se,mt)});const A=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(A);if(g.newValue!==Se)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!w)return}const P=()=>{const Se=this.storage.getItem(A);!w&&this.localCache[A]===Se||this.notifyListeners(A,Se)},Q=this.storage.getItem(A);!function jt(){return(0,j.w1)()&&10===document.documentMode}()||Q===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var A=()=>super._set,P=this;return(0,f.Z)(function*(){yield A().call(P,g,w),P.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,A=this;return(0,f.Z)(function*(){const P=yield w().call(A,g);return A.localCache[g]=JSON.stringify(P),P})()}_remove(g){var w=()=>super._remove,A=this;return(0,f.Z)(function*(){yield w().call(A,g),delete A.localCache[g]})()}}return _.type="LOCAL",_})(),ft=(()=>{class _ extends Kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return _.type="SESSION",_})();let Yr=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(P=>P.isListeningto(g));if(w)return w;const A=new _(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,f.Z)(function*(){const A=g,{eventId:P,eventType:Q,data:Se}=A.data,nt=w.handlersMap[Q];if(!(null==nt?void 0:nt.size))return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:Q});const mt=Array.from(nt).map(function(){var on=(0,f.Z)(function*(oo){return oo(A.origin,Se)});return function(oo){return on.apply(this,arguments)}}()),Rt=yield function os(_){return Promise.all(_.map(function(){var p=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(mt);A.ports[0].postMessage({status:"done",eventId:P,eventType:Q,response:Rt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function or(_="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return _+g}class Dc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var A=this;return(0,f.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Q,Se;return new Promise((nt,mt)=>{const Rt=or("",20);P.port1.start();const on=setTimeout(()=>{mt(new Error("unsupported_event"))},w);Se={messageChannel:P,onMessage(oo){const Mi=oo;if(Mi.data.eventId===Rt)switch(Mi.data.status){case"ack":clearTimeout(on),Q=setTimeout(()=>{mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),nt(Mi.data.response);break;default:clearTimeout(on),clearTimeout(Q),mt(new Error("invalid_response"))}}},A.handlers.add(Se),P.port1.addEventListener("message",Se.onMessage),A.target.postMessage({eventType:p,eventId:Rt,data:g},[P.port2])}).finally(()=>{Se&&A.removeMessageHandler(Se)})})()}}function Un(){return window}function rl(){return void 0!==Un().WorkerGlobalScope&&"function"==typeof Un().importScripts}function Fo(){return(Fo=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const il="firebaseLocalStorageDb",ya="firebaseLocalStorage",_a="fbase_key";class An{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Os(_,p){return _.transaction([ya],p?"readwrite":"readonly").objectStore(ya)}function kr(){const _=indexedDB.open(il,1);return new Promise((p,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(ya,{keyPath:_a})}catch(A){g(A)}}),_.addEventListener("success",(0,f.Z)(function*(){const w=_.result;w.objectStoreNames.contains(ya)?p(w):(w.close(),yield function sl(){const _=indexedDB.deleteDatabase(il);return new An(_).toPromise()}(),p(yield kr()))}))})}function Js(_,p,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,f.Z)(function*(_,p,g){const w=Os(_,!0).put({[_a]:p,value:g});return new An(w).toPromise()})).apply(this,arguments)}function va(){return(va=(0,f.Z)(function*(_,p){const g=Os(_,!1).get(p),w=yield new An(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Xs(_,p){const g=Os(_,!0).delete(p);return new An(g).toPromise()}const Ps=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield kr()),g.db})()}_withRetries(g){var w=this;return(0,f.Z)(function*(){let A=0;for(;;)try{const P=yield w._openDb();return yield g(P)}catch(P){if(A++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return rl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=Yr._getInstance(function Pt(){return rl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,f.Z)(function*(A,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(A,P){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,f.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var w,A;if(g.activeServiceWorker=yield function as(){return Fo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Dc(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,f.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ui(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield kr();return yield Js(g,ma,"1"),yield Xs(g,ma),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,f.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var A=this;return(0,f.Z)(function*(){return A._withPendingWrite((0,f.Z)(function*(){return yield A._withRetries(P=>Js(P,g,w)),A.localCache[g]=w,A.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,f.Z)(function*(){const A=yield w._withRetries(P=>function ks(_,p){return va.apply(this,arguments)}(P,g));return w.localCache[g]=A,A})()}_remove(g){var w=this;return(0,f.Z)(function*(){return w._withPendingWrite((0,f.Z)(function*(){return yield w._withRetries(A=>Xs(A,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const w=yield g._withRetries(Q=>{const Se=Os(Q,!1).getAll();return new An(Se).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:Q,value:Se}of w)P.add(Q),JSON.stringify(g.localCache[Q])!==JSON.stringify(Se)&&(g.notifyListeners(Q,Se),A.push(Q));for(const Q of Object.keys(g.localCache))g.localCache[Q]&&!P.has(Q)&&(g.notifyListeners(Q,null),A.push(Q));return A})()}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Vo(_,p){return Kt(_,"POST","/v2/accounts/mfaSignIn:start",qt(_,p))}function pr(){return(pr=(0,f.Z)(function*(_){return(yield Kt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function al(_){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=p,w.onerror=A=>{const P=Me("internal-error");P.customData=A,g(P)},w.type="text/javascript",w.charset="UTF-8",function ls(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(w)})}function Bn(_){return`__${_}${Math.floor(1e6*Math.random())}`}const cs=1e12;class li{constructor(p){this.auth=p,this.counter=cs,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new ds(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||cs;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||cs))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,f.Z)(function*(){var w;return null===(w=g._widgets.get(p||cs))||void 0===w||w.execute(),""})()}}class ds{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;ee(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bi(_){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wn=Bn("rcb"),Bo=new ct(3e4,6e4);class Ln{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Un().grecaptcha}load(p,g=""){return ee(function Qf(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Un().grecaptcha):new Promise((w,A)=>{const P=Un().setTimeout(()=>{A(Me(p,"network-request-failed"))},Bo.get());Un()[wn]=()=>{Un().clearTimeout(P),delete Un()[wn];const Se=Un().grecaptcha;if(!Se)return void A(Me(p,"internal-error"));const nt=Se.render;Se.render=(mt,Rt)=>{const on=nt(mt,Rt);return this.counter++,on},this.hostLanguage=g,w(Se)},al(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:wn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),A(Me(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Un().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jf{load(p){return(0,f.Z)(function*(){return new li(p)})()}clearedOneInstance(){}}const Jd="recaptcha",eo={theme:"light",type:"image"};class Pr{constructor(p,g=Object.assign({},eo),w){this.parameters=g,this.type=Jd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ln(w),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;ee(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jf:new Ln,this.validateStartingState()}verify(){var p=this;return(0,f.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(P=>{const Q=Se=>{!Se||(p.tokenChangeListeners.delete(Q),P(Se))};p.tokenChangeListeners.add(Q),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Un()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,f.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,f.Z)(function*(){ee(wt()&&!rl(),p.auth,"internal-error"),yield function Xf(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Ea(_){return pr.apply(this,arguments)}(p.auth);ee(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ji{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Io._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function to(_,p,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(_,p,g){const w=ln(_),A=yield ba(w,p,(0,j.m9)(g));return new ji(A,P=>hr(w,P))})).apply(this,arguments)}function jn(_,p,g){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_);yield zs(!1,w,"phone");const A=yield ba(w.auth,p,(0,j.m9)(g));return new ji(A,P=>Ka(w,P))})).apply(this,arguments)}function eu(_,p,g){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_),A=yield ba(w.auth,p,(0,j.m9)(g));return new ji(A,P=>Nr(w,P))})).apply(this,arguments)}function ba(_,p,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(_,p,g){var w;const A=yield g.verify();try{let P;if(ee("string"==typeof A,_,"argument-error"),ee(g.type===Jd,_,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const Q=P.session;if("phoneNumber"in P)return ee("enroll"===Q.type,_,"internal-error"),(yield Ja(_,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ee("signin"===Q.type,_,"internal-error");const Se=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return ee(Se,_,"missing-multi-factor-info"),(yield Vo(_,{mfaPendingCredential:Q.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield zf(_,{phoneNumber:P.phoneNumber,recaptchaToken:A});return Q}}finally{g._reset()}})).apply(this,arguments)}function Ci(_,p){return $o.apply(this,arguments)}function $o(){return($o=(0,f.Z)(function*(_,p){yield Wu((0,j.m9)(_),p)})).apply(this,arguments)}let Da=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=ln(g)}verifyPhoneNumber(g,w){return ba(this.auth,g,(0,j.m9)(w))}static credential(g,w){return Io._fromVerification(g,w)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:A}=g;return w&&A?Io._fromTokenResponse(w,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Qr(_,p){return p?ae(p):(ee(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ho extends br{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Cs(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Cs(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Cs(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function ul(_){return To(_.auth,new Ho(_),_.bypassAuthState)}function ll(_){const{auth:p,user:g}=_;return ee(g,p,"internal-error"),dn(g,new Ho(_),_.bypassAuthState)}function cl(_){return xt.apply(this,arguments)}function xt(){return(xt=(0,f.Z)(function*(_){const{auth:p,user:g}=_;return ee(g,p,"internal-error"),Wu(g,new Ho(_),_.bypassAuthState)})).apply(this,arguments)}class Ca{constructor(p,g,w,A,P=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,f.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(w,A){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,f.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:P,tenantId:Q,error:Se,type:nt}=p;if(Se)return void g.reject(Se);const mt={auth:g.auth,requestUri:w,sessionId:A,tenantId:Q||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(nt)(mt))}catch(Rt){g.reject(Rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ul;case"linkViaPopup":case"linkViaRedirect":return cl;case"reauthViaPopup":case"reauthViaRedirect":return ll;default:Ue(this.auth,"internal-error")}}resolve(p){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ar=new ct(2e3,1e4);function dl(_,p,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,f.Z)(function*(_,p,g){const w=ln(_);Ee(_,p,ts);const A=Qr(w,g);return new nu(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function ep(_,p,g){return tu.apply(this,arguments)}function tu(){return(tu=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_);Ee(w.auth,p,ts);const A=Qr(w.auth,g);return new nu(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function Go(_,p,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_);Ee(w.auth,p,ts);const A=Qr(w.auth,g);return new nu(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let nu=(()=>{class _ extends Ca{constructor(g,w,A,P,Q){super(g,w,P,Q),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const w=yield g.execute();return ee(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,f.Z)(function*(){K(1===g.filter.length,"Popup operations only handle one event");const w=or();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ar.get())};g()}}return _.currentPopupAction=null,_})();const Ti=new Map;class Xd extends Ca{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,f.Z)(function*(){let w=Ti.get(g.auth._key());if(!w){try{const P=(yield function yn(_,p){return Lr.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(P)}catch(A){w=()=>Promise.reject(A)}Ti.set(g.auth._key(),w)}return g.bypassAuthState||Ti.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,f.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Lr(){return(Lr=(0,f.Z)(function*(_,p){const g=Mc(p),w=zo(_);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(g));return yield w._remove(g),A})).apply(this,arguments)}function eh(_,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,f.Z)(function*(_,p){return zo(_)._set(Mc(p),"true")})).apply(this,arguments)}function ru(){Ti.clear()}function zo(_){return ae(_._redirectPersistence)}function Mc(_){return W("pendingRedirect",_.config.apiKey,_.name)}function b(_,p,g){return function D(_,p,g){return M.apply(this,arguments)}(_,p,g)}function M(){return(M=(0,f.Z)(function*(_,p,g){const w=ln(_);Ee(_,p,ts);const A=Qr(w,g);return yield eh(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(_,p,g){return function Z(_,p,g){return ne.apply(this,arguments)}(_,p,g)}function ne(){return(ne=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_);Ee(w.auth,p,ts);const A=Qr(w.auth,g);yield eh(A,w.auth);const P=yield er(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function me(_,p,g){return function Ve(_,p,g){return It.apply(this,arguments)}(_,p,g)}function It(){return(It=(0,f.Z)(function*(_,p,g){const w=(0,j.m9)(_);Ee(w.auth,p,ts);const A=Qr(w.auth,g);yield zs(!1,w,p.providerId),yield eh(A,w.auth);const P=yield er(w);return A._openRedirect(w.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function gt(_,p){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(_,p){return yield ln(_)._initializationPromise,vt(_,p,!1)})).apply(this,arguments)}function vt(_,p){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(_,p,g=!1){const w=ln(_),A=Qr(w,p),Q=yield new Xd(w,A,g).execute();return Q&&!g&&(delete Q.user._redirectEventId,yield w._persistUserIfCurrent(Q.user),yield w._setRedirectUser(null,p)),Q})).apply(this,arguments)}function er(_){return fs.apply(this,arguments)}function fs(){return(fs=(0,f.Z)(function*(_){const p=or(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class Ai{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function iu(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Si(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Si(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Me(this.auth,A))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ci(p))}saveEventToCache(p){this.cachedEventUids.add(ci(p)),this.lastProcessedEventTime=Date.now()}}function ci(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function Si({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===(null==p?void 0:p.code)}function su(_){return ou.apply(this,arguments)}function ou(){return(ou=(0,f.Z)(function*(_,p={}){return Kt(_,"GET","/v1/projects",p)})).apply(this,arguments)}const hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tp=/^https?/;function th(){return(th=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield su(_);for(const g of p)try{if(no(g))return}catch(w){}Ue(_,"unauthorized-domain")})).apply(this,arguments)}function no(_){const p=ie(),{protocol:g,hostname:w}=new URL(p);if(_.startsWith("chrome-extension://")){const Q=new URL(_);return""===Q.hostname&&""===w?"chrome-extension:"===g&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Q.hostname===w}if(!tp.test(g))return!1;if(hl.test(_))return w===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const fl=new ct(3e4,6e4);function np(){const _=Un().___jsl;if(null==_?void 0:_.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let pl=null;function Am(_){return pl=pl||function Mv(_){return new Promise((p,g)=>{var w,A,P;function Q(){np(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{np(),g(Me(_,"network-request-failed"))},timeout:fl.get()})}if(null===(A=null===(w=Un().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(P=Un().gapi)||void 0===P?void 0:P.load)){const Se=Bn("iframefcb");return Un()[Se]=()=>{gapi.load?Q():g(Me(_,"network-request-failed"))},al(`https://apis.google.com/js/api.js?onload=${Se}`).catch(nt=>g(nt))}Q()}}).catch(p=>{throw pl=null,p})}(_),pl}const Sm=new ct(5e3,15e3),ro={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},io=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xc(_){const p=_.config;ee(p.authDomain,_,"auth-domain-config-required");const g=p.emulator?un(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:_.name,v:R.SDK_VERSION},A=io.get(_.config.apiHost);A&&(w.eid=A);const P=_._getFrameworks();return P.length&&(w.fw=P.join(",")),`${g}?${(0,j.xO)(w).slice(1)}`}function ih(){return ih=(0,f.Z)(function*(_){const p=yield Am(_),g=Un().gapi;return ee(g,_,"internal-error"),p.open({where:document.body,url:xc(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ro,dontclear:!0},w=>new Promise(function(){var A=(0,f.Z)(function*(P,Q){yield w.restyle({setHideOnLeave:!1});const Se=Me(_,"network-request-failed"),nt=Un().setTimeout(()=>{Q(Se)},Sm.get());function mt(){Un().clearTimeout(nt),P(w)}w.ping(mt).then(mt,()=>{Q(Se)})});return function(P,Q){return A.apply(this,arguments)}}()))}),ih.apply(this,arguments)}const au={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Aa(_,p,g,w,A,P){ee(_.config.authDomain,_,"auth-domain-config-required"),ee(_.config.apiKey,_,"invalid-api-key");const Q={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:w,v:R.SDK_VERSION,eventId:A};if(p instanceof ts){p.setDefaultLanguage(_.languageCode),Q.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[nt,mt]of Object.entries(P||{}))Q[nt]=mt}if(p instanceof aa){const nt=p.getScopes().filter(mt=>""!==mt);nt.length>0&&(Q.scopes=nt.join(","))}_.tenantId&&(Q.tid=_.tenantId);const Se=Q;for(const nt of Object.keys(Se))void 0===Se[nt]&&delete Se[nt];return`${function Rm({config:_}){return _.emulator?un(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,j.xO)(Se).slice(1)}`}const uh="webStorageSupport",so=class Wo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ft,this._completeRedirectFn=vt}_openPopup(p,g,w,A){var P=this;return(0,f.Z)(function*(){var Q;K(null===(Q=P.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const Se=Aa(p,g,w,ie(),A);return function oh(_,p,g,w=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),Q=Math.max((window.screen.availWidth-w)/2,0).toString();let Se="";const nt=Object.assign(Object.assign({},au),{width:w.toString(),height:A.toString(),top:P,left:Q}),mt=(0,j.z$)().toLowerCase();g&&(Se=se(mt)?"_blank":g),L(mt)&&(p=p||"http://localhost",nt.scrollbars="yes");const Rt=Object.entries(nt).reduce((oo,[Mi,lu])=>`${oo}${Mi}=${lu},`,"");if(function Qn(_=(0,j.z$)()){var p;return Dt(_)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(mt)&&"_self"!==Se)return function Nc(_,p){const g=document.createElement("a");g.href=_,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",Se),new gl(null);const on=window.open(p||"",Se,Rt);ee(on,_,"popup-blocked");try{on.focus()}catch(oo){}return new gl(on)}(p,Se,or())})()}_openRedirect(p,g,w,A){var P=this;return(0,f.Z)(function*(){return yield P._originValidation(p),function Ns(_){Un().location.href=_}(Aa(p,g,w,ie(),A)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:A,promise:P}=this.eventManagers[g];return A?Promise.resolve(A):(K(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,f.Z)(function*(){const w=yield function Ta(_){return ih.apply(this,arguments)}(p),A=new Ai(p);return w.register("authEvent",P=>(ee(null==P?void 0:P.authEvent,p,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:A},g.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(uh,{type:uh},A=>{var P;const Q=null===(P=null==A?void 0:A[0])||void 0===P?void 0:P[uh];void 0!==Q&&g(!!Q),Ue(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Tm(_){return th.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return wr()||B()||Dt()}};class Oc extends class ml{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return Ke("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Oc(p)}_finalizeEnroll(p,g,w){return function Wn(_,p){return Kt(_,"POST","/v2/accounts/mfaEnrollment:finalize",qt(_,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Uo(_,p){return Kt(_,"POST","/v2/accounts/mfaSignIn:finalize",qt(_,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nm=(()=>{class _{constructor(){}static assertion(g){return Oc._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var rp="@firebase/auth",Om="0.19.11";class ip{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function km(_){(0,R._registerComponent)(new _e.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:P,authDomain:Q}=w.options;return((Se,nt)=>{ee(P&&!P.includes(":"),"invalid-api-key",{appName:Se.name}),ee(!(null==Q?void 0:Q.includes(":")),"argument-error",{appName:Se.name});const mt={apiKey:P,authDomain:Q,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gn(_)},Rt=new ja(Se,nt,mt);return function Ne(_,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(ae);(null==p?void 0:p.errorMap)&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Rt,g),Rt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new _e.wA("auth-internal",p=>{const g=ln(p.getProvider("auth").getImmediate());return new ip(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(rp,Om,function sp(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,R.registerVersion)(rp,Om,"esm2017")}("Browser")},2090:(lt,Te,k)=>{k.d(Te,{$s:()=>Ni,BH:()=>xe,G6:()=>Ke,L:()=>fe,LL:()=>wt,Lj:()=>St,Mn:()=>We,Sg:()=>Oe,UG:()=>Ie,US:()=>ue,X3:()=>ut,ZB:()=>X,ZR:()=>ie,b$:()=>Me,d:()=>Ae,eu:()=>ce,hl:()=>K,jU:()=>Ye,m9:()=>dt,ne:()=>ot,pd:()=>dr,r3:()=>Kt,ru:()=>Ue,tV:()=>G,uI:()=>pe,vZ:()=>cr,w1:()=>Ee,xO:()=>si,xb:()=>rr,z$:()=>Fe,zI:()=>ae,zd:()=>ir});var f=k(5861);const te=function(z){const U=[];let W=0;for(let de=0;de<z.length;de++){let O=z.charCodeAt(de);O<128?U[W++]=O:O<2048?(U[W++]=O>>6|192,U[W++]=63&O|128):55296==(64512&O)&&de+1<z.length&&56320==(64512&z.charCodeAt(de+1))?(O=65536+((1023&O)<<10)+(1023&z.charCodeAt(++de)),U[W++]=O>>18|240,U[W++]=O>>12&63|128,U[W++]=O>>6&63|128,U[W++]=63&O|128):(U[W++]=O>>12|224,U[W++]=O>>6&63|128,U[W++]=63&O|128)}return U},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,U){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let O=0;O<z.length;O+=3){const L=z[O],B=O+1<z.length,se=B?z[O+1]:0,Le=O+2<z.length,ze=Le?z[O+2]:0;let Dt=(15&se)<<2|ze>>6,_n=63&ze;Le||(_n=64,B||(Dt=64)),de.push(W[L>>2],W[(3&L)<<4|se>>4],W[Dt],W[_n])}return de.join("")},encodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(z):this.encodeByteArray(te(z),U)},decodeString(z,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(z):function(z){const U=[];let W=0,de=0;for(;W<z.length;){const O=z[W++];if(O<128)U[de++]=String.fromCharCode(O);else if(O>191&&O<224){const L=z[W++];U[de++]=String.fromCharCode((31&O)<<6|63&L)}else if(O>239&&O<365){const Le=((7&O)<<18|(63&z[W++])<<12|(63&z[W++])<<6|63&z[W++])-65536;U[de++]=String.fromCharCode(55296+(Le>>10)),U[de++]=String.fromCharCode(56320+(1023&Le))}else{const L=z[W++],B=z[W++];U[de++]=String.fromCharCode((15&O)<<12|(63&L)<<6|63&B)}}return U.join("")}(this.decodeStringToByteArray(z,U))},decodeStringToByteArray(z,U){this.init_();const W=U?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let O=0;O<z.length;){const L=W[z.charAt(O++)],se=O<z.length?W[z.charAt(O)]:0;++O;const ze=O<z.length?W[z.charAt(O)]:64;++O;const Je=O<z.length?W[z.charAt(O)]:64;if(++O,null==L||null==se||null==ze||null==Je)throw Error();de.push(L<<2|se>>4),64!==ze&&(de.push(se<<4&240|ze>>2),64!==Je&&de.push(ze<<6&192|Je))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},fe=function(z){return function(z){const U=te(z);return ue.encodeByteArray(U,!0)}(z).replace(/\./g,"")},G=function(z){try{return ue.decodeString(z,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function X(z,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return U}for(const W in U)!U.hasOwnProperty(W)||!Ge(W)||(z[W]=X(z[W],U[W]));return z}function Ge(z){return"__proto__"!==z}class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,W)=>{this.resolve=U,this.reject=W})}wrapCallback(U){return(W,de)=>{W?this.reject(W):this.resolve(de),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(W):U(W,de))}}}function Oe(z,U){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=U||"demo-project",O=z.iat||0,L=z.sub||z.user_id;if(!L)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const B=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:O,exp:O+3600,auth_time:O,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},z);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(B)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function Ye(){return"object"==typeof self&&self.self===self}function Ue(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Fe().indexOf("Electron/")>=0}function Ee(){const z=Fe();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function We(){return Fe().indexOf("MSAppHost/")>=0}function Ke(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){return"object"==typeof indexedDB}function ce(){return new Promise((z,U)=>{try{let W=!0;const de="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(de);O.onsuccess=()=>{O.result.close(),W||self.indexedDB.deleteDatabase(de),z(!0)},O.onupgradeneeded=()=>{W=!1},O.onerror=()=>{var L;U((null===(L=O.error)||void 0===L?void 0:L.message)||"")}}catch(W){U(W)}})}function ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ie extends Error{constructor(U,W,de){super(W),this.code=U,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(U,W,de){this.service=U,this.serviceName=W,this.errors=de}create(U,...W){const de=W[0]||{},O=`${this.service}/${U}`,L=this.errors[U],B=L?function Zt(z,U){return z.replace(xn,(W,de)=>{const O=U[de];return null!=O?String(O):`<${de}?>`})}(L,de):"Error";return new ie(O,`${this.serviceName}: ${B} (${O}).`,de)}}const xn=/\{\$([^}]+)}/g;function Kt(z,U){return Object.prototype.hasOwnProperty.call(z,U)}function rr(z){for(const U in z)if(Object.prototype.hasOwnProperty.call(z,U))return!1;return!0}function cr(z,U){if(z===U)return!0;const W=Object.keys(z),de=Object.keys(U);for(const O of W){if(!de.includes(O))return!1;const L=z[O],B=U[O];if(xi(L)&&xi(B)){if(!cr(L,B))return!1}else if(L!==B)return!1}for(const O of de)if(!W.includes(O))return!1;return!0}function xi(z){return null!==z&&"object"==typeof z}function si(z){const U=[];for(const[W,de]of Object.entries(z))Array.isArray(de)?de.forEach(O=>{U.push(encodeURIComponent(W)+"="+encodeURIComponent(O))}):U.push(encodeURIComponent(W)+"="+encodeURIComponent(de));return U.length?"&"+U.join("&"):""}function ir(z){const U={};return z.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[O,L]=de.split("=");U[decodeURIComponent(O)]=decodeURIComponent(L)}}),U}function dr(z){const U=z.indexOf("?");if(!U)return"";const W=z.indexOf("#",U);return z.substring(U,W>0?W:void 0)}function ot(z,U){const W=new Er(z,U);return W.subscribe.bind(W)}class Er{constructor(U,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{U(this)}).catch(de=>{this.error(de)})}next(U){this.forEachObserver(W=>{W.next(U)})}error(U){this.forEachObserver(W=>{W.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,W,de){let O;if(void 0===U&&void 0===W&&void 0===de)throw new Error("Missing Observer.");O=function en(z,U){if("object"!=typeof z||null===z)return!1;for(const W of U)if(W in z&&"function"==typeof z[W])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:W,complete:de},void 0===O.next&&(O.next=Vn),void 0===O.error&&(O.error=Vn),void 0===O.complete&&(O.complete=Vn);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch(B){}}),this.observers.push(O),L}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,U)}sendOne(U,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{W(this.observers[U])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vn(){}function Ni(z,U=1e3,W=2){const de=U*Math.pow(W,z),O=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+O)}function dt(z){return z&&z._delegate?z._delegate:z}function kn(z,U){return new Promise((W,de)=>{z.onsuccess=O=>{W(O.target.result)},z.onerror=O=>{var L;de(`${U}: ${null===(L=O.target.error)||void 0===L?void 0:L.message}`)}})}class Ut{constructor(U){this._db=U,this.objectStoreNames=this._db.objectStoreNames}transaction(U,W){return new $e(this._db.transaction.call(this._db,U,W))}createObjectStore(U,W){return new be(this._db.createObjectStore(U,W))}close(){this._db.close()}}class $e{constructor(U){this._transaction=U,this.complete=new Promise((W,de)=>{this._transaction.oncomplete=function(){W()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(U){return new be(this._transaction.objectStore(U))}}class be{constructor(U){this._store=U}index(U){return new Qe(this._store.index(U))}createIndex(U,W,de){return new Qe(this._store.createIndex(U,W,de))}get(U){return kn(this._store.get(U),"Error reading from IndexedDB")}put(U,W){return kn(this._store.put(U,W),"Error writing to IndexedDB")}delete(U){return kn(this._store.delete(U),"Error deleting from IndexedDB")}clear(){return kn(this._store.clear(),"Error clearing IndexedDB object store")}}class Qe{constructor(U){this._index=U}get(U){return kn(this._index.get(U),"Error reading from IndexedDB")}}function ut(z,U,W){return new Promise((de,O)=>{try{const L=indexedDB.open(z,U);L.onsuccess=B=>{de(new Ut(B.target.result))},L.onerror=B=>{var se;O(`Error opening indexedDB: ${null===(se=B.target.error)||void 0===se?void 0:se.message}`)},L.onupgradeneeded=B=>{W(new Ut(L.result),B.oldVersion,B.newVersion,new $e(L.transaction))}}catch(L){O(`Error opening indexedDB: ${L.message}`)}})}function St(z){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,f.Z)(function*(z){return new Promise((U,W)=>{try{const de=indexedDB.deleteDatabase(z);de.onsuccess=()=>{U()},de.onerror=O=>{var L;W(`Error deleting indexedDB database "${z}": ${null===(L=O.target.error)||void 0===L?void 0:L.message}`)}}catch(de){W(`Error deleting indexedDB database "${z}": ${de.message}`)}})})).apply(this,arguments)}},3163:(lt,Te,k)=>{var f=k(5e3);let j=null;function R(){return j}const ue=new f.OlP("DocumentToken");let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function fe(){return(0,f.LFG)(H)}()},providedIn:"platform"}),n})();const G=new f.OlP("Location Initialized");let H=(()=>{class n extends oe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){X()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){X()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ge(){return new H((0,f.LFG)(ue))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ie(n){const e=(0,f.LFG)(ue).location;return new Ue((0,f.LFG)(oe),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ye=new f.OlP("appBaseHref");let Ue=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const d=this.prepareExternalUrl(o+Fe(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){const d=this.prepareExternalUrl(o+Fe(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(oe),f.LFG(Ye,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let d=this.prepareExternalUrl(o+Fe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){let d=this.prepareExternalUrl(o+Fe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(oe),f.LFG(Ye,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe(ee(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function We(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=xe,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(f.LFG(pe),f.LFG(oe))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ee(){return new Ae((0,f.LFG)(pe),(0,f.LFG)(oe))}()},providedIn:"root"}),n})();function ee(n){return n.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Format=0]="Format",ae[ae.Standalone=1]="Standalone",ae))(),he=(()=>((he=he||{})[he.Narrow=0]="Narrow",he[he.Abbreviated=1]="Abbreviated",he[he.Wide=2]="Wide",he[he.Short=3]="Short",he))(),Ne=(()=>((Ne=Ne||{})[Ne.Short=0]="Short",Ne[Ne.Medium=1]="Medium",Ne[Ne.Long=2]="Long",Ne[Ne.Full=3]="Full",Ne))(),ie=(()=>((ie=ie||{})[ie.Decimal=0]="Decimal",ie[ie.Group=1]="Group",ie[ie.List=2]="List",ie[ie.PercentSign=3]="PercentSign",ie[ie.PlusSign=4]="PlusSign",ie[ie.MinusSign=5]="MinusSign",ie[ie.Exponential=6]="Exponential",ie[ie.SuperscriptingExponent=7]="SuperscriptingExponent",ie[ie.PerMille=8]="PerMille",ie[ie.Infinity=9]="Infinity",ie[ie.NaN=10]="NaN",ie[ie.TimeSeparator=11]="TimeSeparator",ie[ie.CurrencyDecimal=12]="CurrencyDecimal",ie[ie.CurrencyGroup=13]="CurrencyGroup",ie))();function Xt(n,e){return Rn((0,f.cg1)(n)[f.wAp.DateFormat],e)}function qt(n,e){return Rn((0,f.cg1)(n)[f.wAp.TimeFormat],e)}function Kt(n,e){return Rn((0,f.cg1)(n)[f.wAp.DateTimeFormat],e)}function bn(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(void 0===r){if(e===ie.CurrencyDecimal)return t[f.wAp.NumberSymbols][ie.Decimal];if(e===ie.CurrencyGroup)return t[f.wAp.NumberSymbols][ie.Group]}return r}function dr(n){if(!n[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Rn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function en(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Dn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xr={},js=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ft=(()=>((Ft=Ft||{})[Ft.Short=0]="Short",Ft[Ft.ShortGMT=1]="ShortGMT",Ft[Ft.Long=2]="Long",Ft[Ft.Extended=3]="Extended",Ft))(),at=(()=>((at=at||{})[at.FullYear=0]="FullYear",at[at.Month=1]="Month",at[at.Date=2]="Date",at[at.Hours=3]="Hours",at[at.Minutes=4]="Minutes",at[at.Seconds=5]="Seconds",at[at.FractionalSeconds=6]="FractionalSeconds",at[at.Day=7]="Day",at))(),et=(()=>((et=et||{})[et.DayPeriods=0]="DayPeriods",et[et.Days=1]="Days",et[et.Months=2]="Months",et[et.Eras=3]="Eras",et))();function Wr(n,e,t,r){let o=function se(n){if(ze(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,l=1,d=1]=n.split("-").map(m=>+m);return Ri(o,l-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Dn))return function Le(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,m=Number(n[5]||0)-r,E=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,d,m,E,C),e}(r)}const e=new Date(n);if(!ze(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Vt(t,e)||e;let m,d=[];for(;e;){if(m=js.exec(e),!m){d.push(e);break}{d=d.concat(m.slice(1));const x=d.pop();if(!x)break;e=x}}let E=o.getTimezoneOffset();r&&(E=O(r,E),o=function B(n,e,t){const r=t?-1:1,o=n.getTimezoneOffset();return function L(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(O(e,o)-o))}(o,r,!0));let C="";return d.forEach(x=>{const N=function de(n){if(W[n])return W[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ut(et.Eras,he.Abbreviated);break;case"GGGG":e=Ut(et.Eras,he.Wide);break;case"GGGGG":e=Ut(et.Eras,he.Narrow);break;case"y":e=dt(at.FullYear,1,0,!1,!0);break;case"yy":e=dt(at.FullYear,2,0,!0,!0);break;case"yyy":e=dt(at.FullYear,3,0,!1,!0);break;case"yyyy":e=dt(at.FullYear,4,0,!1,!0);break;case"Y":e=U(1);break;case"YY":e=U(2,!0);break;case"YYY":e=U(3);break;case"YYYY":e=U(4);break;case"M":case"L":e=dt(at.Month,1,1);break;case"MM":case"LL":e=dt(at.Month,2,1);break;case"MMM":e=Ut(et.Months,he.Abbreviated);break;case"MMMM":e=Ut(et.Months,he.Wide);break;case"MMMMM":e=Ut(et.Months,he.Narrow);break;case"LLL":e=Ut(et.Months,he.Abbreviated,ae.Standalone);break;case"LLLL":e=Ut(et.Months,he.Wide,ae.Standalone);break;case"LLLLL":e=Ut(et.Months,he.Narrow,ae.Standalone);break;case"w":e=z(1);break;case"ww":e=z(2);break;case"W":e=z(1,!0);break;case"d":e=dt(at.Date,1);break;case"dd":e=dt(at.Date,2);break;case"c":case"cc":e=dt(at.Day,1);break;case"ccc":e=Ut(et.Days,he.Abbreviated,ae.Standalone);break;case"cccc":e=Ut(et.Days,he.Wide,ae.Standalone);break;case"ccccc":e=Ut(et.Days,he.Narrow,ae.Standalone);break;case"cccccc":e=Ut(et.Days,he.Short,ae.Standalone);break;case"E":case"EE":case"EEE":e=Ut(et.Days,he.Abbreviated);break;case"EEEE":e=Ut(et.Days,he.Wide);break;case"EEEEE":e=Ut(et.Days,he.Narrow);break;case"EEEEEE":e=Ut(et.Days,he.Short);break;case"a":case"aa":case"aaa":e=Ut(et.DayPeriods,he.Abbreviated);break;case"aaaa":e=Ut(et.DayPeriods,he.Wide);break;case"aaaaa":e=Ut(et.DayPeriods,he.Narrow);break;case"b":case"bb":case"bbb":e=Ut(et.DayPeriods,he.Abbreviated,ae.Standalone,!0);break;case"bbbb":e=Ut(et.DayPeriods,he.Wide,ae.Standalone,!0);break;case"bbbbb":e=Ut(et.DayPeriods,he.Narrow,ae.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ut(et.DayPeriods,he.Abbreviated,ae.Format,!0);break;case"BBBB":e=Ut(et.DayPeriods,he.Wide,ae.Format,!0);break;case"BBBBB":e=Ut(et.DayPeriods,he.Narrow,ae.Format,!0);break;case"h":e=dt(at.Hours,1,-12);break;case"hh":e=dt(at.Hours,2,-12);break;case"H":e=dt(at.Hours,1);break;case"HH":e=dt(at.Hours,2);break;case"m":e=dt(at.Minutes,1);break;case"mm":e=dt(at.Minutes,2);break;case"s":e=dt(at.Seconds,1);break;case"ss":e=dt(at.Seconds,2);break;case"S":e=dt(at.FractionalSeconds,1);break;case"SS":e=dt(at.FractionalSeconds,2);break;case"SSS":e=dt(at.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=be(Ft.Short);break;case"ZZZZZ":e=be(Ft.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=be(Ft.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=be(Ft.Long);break;default:return null}return W[n]=e,e}(x);C+=N?N(o,t,E):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function Ri(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Vt(n,e){const t=function Zt(n){return(0,f.cg1)(n)[f.wAp.LocaleId]}(n);if(xr[t]=xr[t]||{},xr[t][e])return xr[t][e];let r="";switch(e){case"shortDate":r=Xt(n,Ne.Short);break;case"mediumDate":r=Xt(n,Ne.Medium);break;case"longDate":r=Xt(n,Ne.Long);break;case"fullDate":r=Xt(n,Ne.Full);break;case"shortTime":r=qt(n,Ne.Short);break;case"mediumTime":r=qt(n,Ne.Medium);break;case"longTime":r=qt(n,Ne.Long);break;case"fullTime":r=qt(n,Ne.Full);break;case"short":const o=Vt(n,"shortTime"),l=Vt(n,"shortDate");r=Ni(Kt(n,Ne.Short),[o,l]);break;case"medium":const d=Vt(n,"mediumTime"),m=Vt(n,"mediumDate");r=Ni(Kt(n,Ne.Medium),[d,m]);break;case"long":const E=Vt(n,"longTime"),C=Vt(n,"longDate");r=Ni(Kt(n,Ne.Long),[E,C]);break;case"full":const x=Vt(n,"fullTime"),N=Vt(n,"fullDate");r=Ni(Kt(n,Ne.Full),[x,N])}return r&&(xr[t][e]=r),r}function Ni(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function On(n,e,t="-",r,o){let l="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,l=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.substr(d.length-e)),l+d}function dt(n,e,t=0,r=!1,o=!1){return function(l,d){let m=function kn(n,e){switch(n){case at.FullYear:return e.getFullYear();case at.Month:return e.getMonth();case at.Date:return e.getDate();case at.Hours:return e.getHours();case at.Minutes:return e.getMinutes();case at.Seconds:return e.getSeconds();case at.FractionalSeconds:return e.getMilliseconds();case at.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||m>-t)&&(m+=t),n===at.Hours)0===m&&-12===t&&(m=12);else if(n===at.FractionalSeconds)return function tn(n,e){return On(n,3).substr(0,e)}(m,e);const E=bn(d,ie.MinusSign);return On(m,e,E,r,o)}}function Ut(n,e,t=ae.Format,r=!1){return function(o,l){return function $e(n,e,t,r,o,l){switch(t){case et.Months:return function ct(n,e,t){const r=(0,f.cg1)(n),l=Rn([r[f.wAp.MonthsFormat],r[f.wAp.MonthsStandalone]],e);return Rn(l,t)}(e,o,r)[n.getMonth()];case et.Days:return function st(n,e,t){const r=(0,f.cg1)(n),l=Rn([r[f.wAp.DaysFormat],r[f.wAp.DaysStandalone]],e);return Rn(l,t)}(e,o,r)[n.getDay()];case et.DayPeriods:const d=n.getHours(),m=n.getMinutes();if(l){const C=function Ji(n){const e=(0,f.cg1)(n);return dr(e),(e[f.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?en(r):[en(r[0]),en(r[1])])}(e),x=function ot(n,e,t){const r=(0,f.cg1)(n);dr(r);const l=Rn([r[f.wAp.ExtraData][0],r[f.wAp.ExtraData][1]],e)||[];return Rn(l,t)||[]}(e,o,r),N=C.findIndex(q=>{if(Array.isArray(q)){const[J,ye]=q,Be=d>=J.hours&&m>=J.minutes,it=d<ye.hours||d===ye.hours&&m<ye.minutes;if(J.hours<ye.hours){if(Be&&it)return!0}else if(Be||it)return!0}else if(q.hours===d&&q.minutes===m)return!0;return!1});if(-1!==N)return x[N]}return function xn(n,e,t){const r=(0,f.cg1)(n),l=Rn([r[f.wAp.DayPeriodsFormat],r[f.wAp.DayPeriodsStandalone]],e);return Rn(l,t)}(e,o,r)[d<12?0:1];case et.Eras:return function un(n,e){return Rn((0,f.cg1)(n)[f.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,l,n,e,t,r)}}function be(n){return function(e,t,r){const o=-1*r,l=bn(t,ie.MinusSign),d=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case Ft.Short:return(o>=0?"+":"")+On(d,2,l)+On(Math.abs(o%60),2,l);case Ft.ShortGMT:return"GMT"+(o>=0?"+":"")+On(d,1,l);case Ft.Long:return"GMT"+(o>=0?"+":"")+On(d,2,l)+":"+On(Math.abs(o%60),2,l);case Ft.Extended:return 0===r?"Z":(o>=0?"+":"")+On(d,2,l)+":"+On(Math.abs(o%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Mt(n){return Ri(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function z(n,e=!1){return function(t,r){let o;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();o=1+Math.floor((d+l)/7)}else{const l=Mt(t),d=function St(n){const e=Ri(n,0,1).getDay();return Ri(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),m=l.getTime()-d.getTime();o=1+Math.round(m/6048e5)}return On(o,n,bn(r,ie.MinusSign))}}function U(n,e=!1){return function(t,r){return On(Mt(t).getFullYear(),n,bn(r,ie.MinusSign),e)}}const W={};function O(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ze(n){return n instanceof Date&&!isNaN(n.valueOf())}let Oi=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ki{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sr=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ki(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,d),Ds(m,o)}});for(let o=0,l=r.length;o<l;o++){const m=r.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Ds(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ds(n,e){n.context.$implicit=e.item}let Rr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new pn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_o("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_o("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class pn{constructor(){this.$implicit=null,this.ngIf=null}}function _o(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}function Zr(n,e){return new f.vHH(2100,"")}class Gf{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class es{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const zf=new es,dc=new Gf;let jd=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,f.QGY)(t))return zf;if((0,f.F4k)(t))return dc;throw Zr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO,16))},n.\u0275pipe=f.Yjl({name:"async",type:n,pure:!1}),n})();const qf=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Gu=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",o,l){var d;if(null==t||""===t||t!=t)return null;try{return Wr(t,r,l||this.locale,null!==(d=null!=o?o:this.defaultTimezone)&&void 0!==d?d:void 0)}catch(m){throw Zr()}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(qf,24))},n.\u0275pipe=f.Yjl({name:"date",type:n,pure:!0}),n})(),Fi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function Do(n){return"server"===n}let pc=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Za((0,f.LFG)(ue),window)}),n})();class Za{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Gs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=As(this.window.history)||As(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function As(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ws extends class zs extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function te(n){j||(j=n)}(new Ws)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function qu(){return dn=dn||document.querySelector("base"),dn?dn.getAttribute("href"):null}();return null==t?null:function Ss(n){To=To||document.createElement("a"),To.setAttribute("href",n);const e=To.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $a(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let To,dn=null;const hr=new f.OlP("TRANSITION_ID"),Ka=[{provide:f.ip1,useFactory:function zn(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[hr,ue,f.zs3],multi:!0}];class ui{static init(){(0,f.VLi)(new ui)}addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let l=o.length,d=!1;const m=function(E){d=d||E,l--,0==l&&r(d)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Nr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const rs=new f.OlP("EventManagerPlugins");let qs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const d=o[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(rs),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Ao{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Ii=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Li=(()=>{class n extends Ii{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(is),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(is))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function is(n){R().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ca=/%COMP%/g;function Ce(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ce(n,o,t):(o=o.replace(ca,n),t.push(o))}return t}function kt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ya(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Zu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new ha(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ce(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(qs),f.LFG(Li),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Ya{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=pt[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=pt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,kt(r)):this.eventManager.addEventListener(e,t,kt(r))}}class Zu extends Ya{constructor(e,t,r,o){super(e),this.component=r;const l=Ce(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Gd(n){return"_ngcontent-%COMP%".replace(ca,n)}(o+"-"+r.id),this.hostAttr=function da(n){return"_nghost-%COMP%".replace(ca,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ha extends Ya{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ce(o.id,o.styles,[]);for(let d=0;d<l.length;d++){const m=document.createElement("style");m.textContent=l[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Yf=(()=>{class n extends Ao{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Ku=["alt","control","meta","shift"],Ro={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let No=(()=>{class n extends Ao{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let d="";if(Ku.forEach(E=>{const C=r.indexOf(E);C>-1&&(r.splice(C,1),d+=E+".")}),d+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=d,m}static getEventFullKey(t){let r="",o=function Oo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Xn.hasOwnProperty(e)&&(e=Xn[e]))}return Ro[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ku.forEach(l=>{l!=o&&Vi[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const fa=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function Kr(){Ws.makeCurrent(),ui.init()},multi:!0},{provide:ue,useFactory:function ko(){return(0,f.RDi)(document),document},deps:[]}]),Yu=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Wd(){return new f.qLn},deps:[]},{provide:rs,useClass:Yf,multi:!0,deps:[ue,f.R0b,f.Lbi]},{provide:rs,useClass:No,multi:!0,deps:[ue]},{provide:mn,useClass:mn,deps:[qs,Li,f.AFp]},{provide:f.FYo,useExisting:mn},{provide:Ii,useExisting:Li},{provide:Li,useClass:Li,deps:[ue]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:qs,useClass:qs,deps:[rs,f.R0b]},{provide:class gn{},useClass:Nr,deps:[]}];let Zs=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:hr,useExisting:f.AFp},Ka]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Yu,imports:[Fi,f.hGG]}),n})();"undefined"!=typeof window&&window;var Tn=k(8996),fr=k(7669);function ft(...n){const e=(0,fr.yG)(n);return(0,Tn.D)(n,e)}var os=k(7579);class Yr extends os.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var or=k(8306);const{isArray:Dc}=Array,{getPrototypeOf:Un,prototype:Ns,keys:rl}=Object;function as(n){if(1===n.length){const e=n[0];if(Dc(e))return{args:e,keys:null};if(function Fo(n){return n&&"object"==typeof n&&Un(n)===Ns}(e)){const t=rl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ui=k(4671),Pt=k(4004);const{isArray:il}=Array;function ya(n){return(0,Pt.U)(e=>function Cc(n,e){return il(e)?n(...e):n(e)}(n,e))}function _a(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var An=k(5403),Os=k(9672);function Js(n,e,t){n?(0,Os.f)(t,n,e):e()}var Lo=k(576);function ks(n,e){const t=(0,Lo.m)(n)?n:()=>n,r=o=>o.error(t());return new or.y(e?o=>e.schedule(r,0,o):r)}const Xs=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var us=k(8189);function Qd(...n){return function ol(){return(0,us.J)(1)}()((0,Tn.D)(n,(0,fr.yG)(n)))}var Ps=k(8421);function Vo(n){return new or.y(e=>{(0,Ps.Xf)(n()).subscribe(e)})}var Uo=k(515),Ea=k(727),pr=k(4482);function ls(){return(0,pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,An.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class al extends or.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ea.w0;const t=this.getSubject();e.add(this.source.subscribe((0,An.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ea.w0.EMPTY)}return e}refCount(){return ls()(this)}}function Bn(n,e){return(0,pr.e)((t,r)=>{let o=null,l=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,An.x)(r,E=>{null==o||o.unsubscribe();let C=0;const x=l++;(0,Ps.Xf)(n(E,x)).subscribe(o=(0,An.x)(r,N=>r.next(e?e(E,N,x,C++):N),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var wa=k(5698);function Di(...n){const e=(0,fr.yG)(n);return(0,pr.e)((t,r)=>{(e?Qd(n,t,e):Qd(n,t)).subscribe(r)})}function cs(n,e,t,r,o){return(l,d)=>{let m=t,E=e,C=0;l.subscribe((0,An.x)(d,x=>{const N=C++;E=m?n(E,x,N):(m=!0,x),r&&d.next(E)},o&&(()=>{m&&d.next(E),d.complete()})))}}function li(n,e){return(0,pr.e)(cs(n,e,arguments.length>=2,!0))}function ds(n,e){return(0,pr.e)((t,r)=>{let o=0;t.subscribe((0,An.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}function Bi(n){return(0,pr.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,An.x)(t,void 0,void 0,d=>{l=(0,Ps.Xf)(n(d,Bi(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}var wn=k(5577);function Bo(n,e){return(0,Lo.m)(e)?(0,wn.z)(n,e,1):(0,wn.z)(n,1)}function Tc(n){return n<=0?()=>Uo.E:(0,pr.e)((e,t)=>{let r=[];e.subscribe((0,An.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Ln(n=Qf){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,An.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Qf(){return new Xs}function Jf(n){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,An.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function eo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ds((o,l)=>n(o,l,r)):Ui.y,(0,wa.q)(1),t?Jf(e):Ln(()=>new Xs))}var Pr=k(8505);class ji{constructor(e,t){this.id=e,this.url=t}}class to extends ji{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jo extends ji{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jn extends ji{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ia extends ji{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eu extends ji{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ac extends ji{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ba extends ji{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fr extends ji{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ci extends ji{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Da{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qr{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ul{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ll{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class Ca{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ar(n){return new Ca(n)}const dl="ngNavigationCancelingError";function hs(n){const e=Error("NavigationCancelingError: "+n);return e[dl]=!0,e}function tu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const d=r[l],m=n[l];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Jr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!nu(n[o],e[o]))return!1;return!0}function nu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function Sc(n){return Array.prototype.concat.apply([],n)}function Ti(n){return n.length>0?n[n.length-1]:null}function yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Lr(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):ft(n)}const Fs={exact:function b(n,e,t){if(!gt(n.segments,e.segments)||!Z(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!b(n.children[r],e.children[r],t))return!1;return!0},subset:M},ru={exact:function Mc(n,e){return Jr(n,e)},subset:function D(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nu(n[t],e[t]))},ignored:()=>!0};function zo(n,e,t){return Fs[t.paths](n.root,e.root,t.matrixParams)&&ru[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function M(n,e,t){return V(n,e,e.segments,t)}function V(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!gt(o,t)||e.hasChildren()||!Z(o,t,r))}if(n.segments.length===t.length){if(!gt(n.segments,t)||!Z(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!M(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(gt(n.segments,o)&&Z(n.segments,o,r)&&n.children[xt])&&V(n.children[xt],e,l,r)}}function Z(n,e,t){return e.every((r,o)=>ru[t](n[o].parameters,r.parameters))}class ne{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ar(this.queryParams)),this._queryParamMap}toString(){return er.serialize(this)}}class me{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fs(this)}}class Ve{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ar(this.parameters)),this._parameterMap}toString(){return hl(this)}}function gt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class vt{}class Dr{parse(e){const t=new Am(e);return new ne(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$i(e.root,!0)}`,r=function Tm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${ci(t)}=${ci(o)}`).join("&"):`${ci(t)}=${ci(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Si(n){return encodeURI(n)}(e.fragment)}`:""}`}}const er=new Dr;function fs(n){return n.segments.map(e=>hl(e)).join("/")}function $i(n,e){if(!n.hasChildren())return fs(n);if(e){const t=n.children[xt]?$i(n.children[xt],!1):"",r=[];return yn(n.children,(o,l)=>{l!==xt&&r.push(`${l}:${$i(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Bt(n,e){let t=[];return yn(n.children,(r,o)=>{o===xt&&(t=t.concat(e(r,o)))}),yn(n.children,(r,o)=>{o!==xt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===xt?[$i(n.children[xt],!1)]:[`${o}:${$i(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[xt]?`${fs(n)}/${t[0]}`:`${fs(n)}/(${t.join("//")})`}}function Ai(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ci(n){return Ai(n).replace(/%3B/gi,";")}function iu(n){return Ai(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function su(n){return decodeURIComponent(n)}function ou(n){return su(n.replace(/\+/g,"%20"))}function hl(n){return`${iu(n.path)}${function tp(n){return Object.keys(n).map(e=>`;${iu(e)}=${iu(n[e])}`).join("")}(n.parameters)}`}const th=/^[^\/()?;=#]+/;function no(n){const e=n.match(th);return e?e[0]:""}const fl=/^[^=?&#]+/,Mv=/^[^&#]+/;class Am{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[xt]=new me(e,t)),r}parseSegment(){const e=no(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ve(su(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=no(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=no(this.remaining);o&&(r=o,this.capture(r))}e[su(t)]=su(r)}parseQueryParam(e){const t=function np(n){const e=n.match(fl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function pl(n){const e=n.match(Mv);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=ou(t),l=ou(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=no(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=xt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[xt]:new me([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Sm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=nh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=nh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=rh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return rh(e,this._root).map(t=>t.value)}}function nh(n,e){if(n===e.value)return e;for(const t of e.children){const r=nh(n,t);if(r)return r}return null}function rh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=rh(n,t);if(r.length)return r.unshift(e),r}return[]}class ro{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function io(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class xc extends Sm{constructor(e,t){super(e),this.snapshot=t,gl(this,e)}toString(){return this.snapshot.toString()}}function Ta(n,e){const t=function ih(n,e){const d=new uu([],{},{},"",{},xt,e,null,n.root,-1,{});return new sh("",new ro(d,[]))}(n,e),r=new Yr([new Ve("",{})]),o=new Yr({}),l=new Yr({}),d=new Yr({}),m=new Yr(""),E=new au(r,o,d,m,l,xt,e,t.root);return E.snapshot=t.root,new xc(new ro(E,[]),t)}class au{constructor(e,t,r,o,l,d,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=d,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(e=>ar(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(e=>ar(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function Rc(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class uu{constructor(e,t,r,o,l,d,m,E,C,x,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=d,this.component=m,this.routeConfig=E,this._urlSegment=C,this._lastPathIndex=x,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ar(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ar(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sh extends Sm{constructor(e,t){super(t),this.url=e,gl(this,t)}toString(){return oh(this._root)}}function gl(n,e){e.value._routerState=n,e.children.forEach(t=>gl(n,t))}function oh(n){const e=n.children.length>0?` { ${n.children.map(oh).join(", ")} } `:"";return`${n.value}${e}`}function Nc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Jr(e.params,t.params)||n.params.next(t.params),function Go(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Jr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ah(n,e){const t=Jr(n.params,e.params)&&function It(n,e){return gt(n,e)&&n.every((t,r)=>Jr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ah(n.parent,e.parent))}function Aa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Rm(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Aa(n,r,o);return Aa(n,r)})}(n,e,t);return new ro(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Aa(n,m)),d}}const r=function uh(n){return new au(new Yr(n.url),new Yr(n.params),new Yr(n.queryParams),new Yr(n.fragment),new Yr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>Aa(n,l));return new ro(r,o)}}function so(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ml(n){return"object"==typeof n&&null!=n&&n.outlets}function Oc(n,e,t,r,o){let l={};if(r&&yn(r,(m,E)=>{l[E]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),n===e)return new ne(t,l,o);const d=Nm(n,e,t);return new ne(d,l,o)}function Nm(n,e,t){const r={};return yn(n.children,(o,l)=>{r[l]=o===e?t:Nm(o,e,t)}),new me(n.segments,r)}class rp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&so(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(ml);if(o&&o!==Ti(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ip{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _(n,e,t){if(n||(n=new me([],{})),0===n.segments.length&&n.hasChildren())return p(n,e,t);const r=function g(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const d=n.segments[o],m=t[r];if(ml(m))break;const E=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&C&&"object"==typeof C&&void 0===C.outlets){if(!Q(E,C,d))return l;r+=2}else{if(!Q(E,{},d))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new me(n.segments.slice(0,r.pathIndex),{});return l.children[xt]=new me(n.segments.slice(r.pathIndex),n.children),p(l,0,o)}return r.match&&0===o.length?new me(n.segments,{}):r.match&&!n.hasChildren()?w(n,e,t):r.match?p(n,0,o):w(n,e,t)}function p(n,e,t){if(0===t.length)return new me(n.segments,{});{const r=function xv(n){return ml(n[0])?n[0].outlets:{[xt]:n}}(t),o={};return yn(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[d]=_(n.children[d],e,l))}),yn(n.children,(l,d)=>{void 0===r[d]&&(o[d]=l)}),new me(n.segments,o)}}function w(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(ml(l)){const E=A(l.outlets);return new me(r,E)}if(0===o&&so(t[0])){r.push(new Ve(n.segments[e].path,P(t[0]))),o++;continue}const d=ml(l)?l.outlets[xt]:`${l}`,m=o<t.length-1?t[o+1]:null;d&&m&&so(m)?(r.push(new Ve(d,P(m))),o+=2):(r.push(new Ve(d,{})),o++)}return new me(r,{})}function A(n){const e={};return yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=w(new me([],{}),0,t))}),e}function P(n){const e={};return yn(n,(t,r)=>e[r]=`${t}`),e}function Q(n,e,t){return n==t.path&&Jr(e,t.parameters)}class nt{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Nc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=io(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],r),delete o[d]}),yn(o,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=io(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=io(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=io(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new ll(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Ho(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Nc(o),o===l)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Nc(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function mt(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=E,d.outlet&&d.outlet.activateWith(o,E),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Rt{constructor(e,t){this.routes=e,this.module=t}}function on(n){return"function"==typeof n}function Mi(n){return n instanceof ne}const _l=Symbol("INITIAL_VALUE");function qo(){return Bn(n=>function sl(...n){const e=(0,fr.yG)(n),t=(0,fr.jO)(n),{args:r,keys:o}=as(n);if(0===r.length)return(0,Tn.D)([],e);const l=new or.y(function kr(n,e,t=Ui.y){return r=>{Js(e,()=>{const{length:o}=n,l=new Array(o);let d=o,m=o;for(let E=0;E<o;E++)Js(e,()=>{const C=(0,Tn.D)(n[E],e);let x=!1;C.subscribe((0,An.x)(r,N=>{l[E]=N,x||(x=!0,m--),m||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>_a(o,d):Ui.y));return t?l.pipe(ya(t)):l}(n.map(e=>e.pipe((0,wa.q)(1),Di(_l)))).pipe(li((e,t)=>{let r=!1;return t.reduce((o,l,d)=>o!==_l?o:(l===_l&&(r=!0),r||!1!==l&&d!==t.length-1&&!Mi(l)?o:l),e)},_l),ds(e=>e!==_l),(0,Pt.U)(e=>Mi(e)?e:!0===e),(0,wa.q)(1)))}class op{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cu,this.attachRef=null}}class cu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new op,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let vl=(()=>{class n{constructor(t,r,o,l,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=l||xt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new ap(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(cu),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ap{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===au?this.route:e===cu?this.childContexts:this.parent.get(e,t)}}let lh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[vl],encapsulation:2}),n})();function Sa(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Fm(r,Lm(e,r))}}function Fm(n,e){n.children&&Sa(n.children,e)}function Lm(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Vm(n){const e=n.children&&n.children.map(Vm),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==xt&&(t.component=lh),t}function hn(n){return n.outlet||xt}function Rv(n,e){const t=n.filter(r=>hn(r)===e);return t.push(...n.filter(r=>hn(r)!==e)),t}const Nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pc(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Nv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||tu)(t,n,e);if(!l)return Object.assign({},Nv);const d={};yn(l.posParams,(E,C)=>{d[C]=E.path});const m=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function ch(n,e,t,r,o="corrected"){if(t.length>0&&function HI(n,e,t){return t.some(r=>up(n,e,r)&&hn(r)!==xt)}(n,t,r)){const d=new me(e,function $I(n,e,t,r){const o={};o[xt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&hn(l)!==xt){const d=new me([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[hn(l)]=d}return o}(n,e,r,new me(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function GI(n,e,t){return t.some(r=>up(n,e,r))}(n,t,r)){const d=new me(n.segments,function jI(n,e,t,r,o,l){const d={};for(const m of r)if(up(n,t,m)&&!o[hn(m)]){const E=new me([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[hn(m)]=E}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new me(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function up(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function zI(n,e,t,r){return!!(hn(n)===r||r!==xt&&up(e,t,n))&&("**"===n.path||Pc(e,n,t).matched)}function WI(n,e,t){return 0===e.length&&!n.children[t]}class du{constructor(e){this.segmentGroup=e||null}}class di{constructor(e){this.urlTree=e}}function El(n){return ks(new du(n))}function Um(n){return ks(new di(n))}class Bm{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=ch(this.urlTree.root,[],[],this.config).segmentGroup,t=new me(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,xt).pipe((0,Pt.U)(l=>this.createUrlTree(jm(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bi(l=>{if(l instanceof di)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof du?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,xt).pipe((0,Pt.U)(o=>this.createUrlTree(jm(o),e.queryParams,e.fragment))).pipe(Bi(o=>{throw o instanceof du?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new me([],{[xt]:e}):e;return new ne(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Pt.U)(l=>new me([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,Tn.D)(o).pipe(Bo(l=>{const d=r.children[l],m=Rv(t,l);return this.expandSegmentGroup(e,m,d,l).pipe((0,Pt.U)(E=>({segment:E,outlet:l})))}),li((l,d)=>(l[d.outlet]=d.segment,l),{}),function Jd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ds((o,l)=>n(o,l,r)):Ui.y,Tc(1),t?Jf(e):Ln(()=>new Xs))}())}expandSegment(e,t,r,o,l,d){return(0,Tn.D)(r).pipe(Bo(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,d).pipe(Bi(C=>{if(C instanceof du)return ft(null);throw C}))),eo(m=>!!m),Bi((m,E)=>{if(m instanceof Xs||"EmptyError"===m.name)return WI(t,o,l)?ft(new me([],{})):El(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,d,m){return zI(o,t,l,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d):El(t):El(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Um(l):this.lineralizeSegments(r,l).pipe((0,wn.z)(d=>{const m=new me(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){const{matched:m,consumedSegments:E,remainingSegments:C,positionalParamSegments:x}=Pc(t,o,l);if(!m)return El(t);const N=this.applyRedirectCommands(E,o.redirectTo,x);return o.redirectTo.startsWith("/")?Um(N):this.lineralizeSegments(o,N).pipe((0,wn.z)(q=>this.expandSegment(e,t,r,q.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ft(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Pt.U)(N=>(r._loadedConfig=N,new me(o,{})))):ft(new me(o,{}));const{matched:d,consumedSegments:m,remainingSegments:E}=Pc(t,r,o);return d?this.getChildConfig(e,r,o).pipe((0,wn.z)(x=>{const N=x.module,q=x.routes,{segmentGroup:J,slicedSegments:ye}=ch(t,m,E,q),Be=new me(J.segments,J.children);if(0===ye.length&&Be.hasChildren())return this.expandChildren(N,q,Be).pipe((0,Pt.U)(Mn=>new me(m,Mn)));if(0===q.length&&0===ye.length)return ft(new me(m,{}));const it=hn(r)===l;return this.expandSegment(N,Be,q,ye,it?xt:l,!0).pipe((0,Pt.U)(yt=>new me(m.concat(yt.segments),yt.children)))})):El(t)}getChildConfig(e,t,r){return t.children?ft(new Rt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ft(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,wn.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Pt.U)(l=>(t._loadedConfig=l,l))):function hi(n){return ks(hs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ft(new Rt([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?ft(o.map(d=>{const m=e.get(d);let E;if(function lu(n){return n&&on(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!on(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return Lr(E)})).pipe(qo(),(0,Pr.b)(d=>{if(!Mi(d))return;const m=hs(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,Pt.U)(d=>!0===d)):ft(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ft(r);if(o.numberOfChildren>1||!o.children[xt])return ks(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[xt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new ne(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return yn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let d={};return yn(t.children,(m,E)=>{d[E]=this.createSegmentGroup(e,m,r,o)}),new me(l,d)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function jm(n){const e={};for(const r of Object.keys(n.children)){const l=jm(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function qI(n){if(1===n.numberOfChildren&&n.children[xt]){const e=n.children[xt];return new me(n.segments.concat(e.segments),e.children)}return n}(new me(n.segments,e))}class Pv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hh{constructor(e,t){this.component=e,this.route=t}}function ZI(n,e,t){const r=n._root;return wl(r,e?e._root:null,t,[r.value])}function lp(n,e,t){const r=function KI(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function wl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=io(e);return n.children.forEach(d=>{(function YI(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const E=function QI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!gt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!gt(n.url,e.url)||!Jr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ah(n,e)||!Jr(n.queryParams,e.queryParams);default:return!ah(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new Pv(r)):(l.data=d.data,l._resolvedData=d._resolvedData),wl(n,e,l.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new hh(m.outlet.component,d))}else d&&Il(e,m,o),o.canActivateChecks.push(new Pv(r)),wl(n,null,l.component?m?m.children:null:t,r,o)})(d,l[d.value.outlet],t,r.concat([d.value]),o),delete l[d.value.outlet]}),yn(l,(d,m)=>Il(d,t.getContext(m),o)),o}function Il(n,e,t){const r=io(n),o=n.value;yn(r,(l,d)=>{Il(l,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new hh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Lv{}function Vv(n){return new or.y(e=>e.error(n))}class ob{constructor(e,t,r,o,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=ch(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,xt);if(null===t)return null;const r=new uu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ro(r,t),l=new sh(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Mm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],m=Rv(e,l),E=this.processSegmentGroup(m,d,l);if(null===E)return null;r.push(...E)}const o=Uv(r);return function ab(n){n.sort((e,t)=>e.value.outlet===xt?-1:t.value.outlet===xt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,o);if(null!==d)return d}return WI(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!zI(e,t,r,o))return null;let l,d=[],m=[];if("**"===e.path){const J=r.length>0?Ti(r).parameters:{};l=new uu(r,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cb(e),hn(e),e.component,e,bl(t),ao(t)+r.length,db(e))}else{const J=Pc(t,e,r);if(!J.matched)return null;d=J.consumedSegments,m=J.remainingSegments,l=new uu(d,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,cb(e),hn(e),e.component,e,bl(t),ao(t)+d.length,db(e))}const E=function ub(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:C,slicedSegments:x}=ch(t,d,m,E.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===x.length&&C.hasChildren()){const J=this.processChildren(E,C);return null===J?null:[new ro(l,J)]}if(0===E.length&&0===x.length)return[new ro(l,[])];const N=hn(e)===o,q=this.processSegment(E,C,x,N?xt:o);return null===q?null:[new ro(l,q)]}}function lb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Uv(n){const e=[],t=new Set;for(const r of n){if(!lb(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Uv(r.children);e.push(new ro(r.value,o))}return e.filter(r=>!t.has(r))}function bl(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ao(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function cb(n){return n.data||{}}function db(n){return n.resolve||{}}function dp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hp(n){return Bn(e=>{const t=n(e);return t?(0,Tn.D)(t).pipe((0,Pt.U)(()=>e)):ft(e)})}class $v extends class jv{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ph=new f.OlP("ROUTES");class fp{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Pt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new Rt(Sc(d.injector.get(ph,void 0,f.XFs.Self|f.XFs.Optional)).map(Vm),d)}),Bi(l=>{throw t._loader$=void 0,l}));return t._loader$=new al(o,()=>new os.x).pipe(ls()),t._loader$}loadModuleFactory(e){return Lr(e()).pipe((0,wn.z)(t=>t instanceof f.YKP?ft(t):(0,Tn.D)(this.compiler.compileModuleAsync(t))))}}class KT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Fc(n){throw n}function Hm(n,e,t){return e.parse("/")}function Gm(n,e){return ft(null)}const fb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class n{constructor(t,r,o,l,d,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new os.x,this.errorHandler=Fc,this.malformedUriErrorHandler=Hm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gm,afterPreactivation:Gm},this.urlHandlingStrategy=new KT,this.routeReuseStrategy=new $v,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(f.h0i),this.console=d.get(f.c2e);const N=d.get(f.R0b);this.isNgZoneEnabled=N instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function eh(){return new ne(new me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fp(d,m,q=>this.triggerEvent(new $o(q)),q=>this.triggerEvent(new Da(q))),this.routerState=Ta(this.currentUrlTree,this.rootComponentType),this.transitions=new Yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ds(o=>0!==o.id),(0,Pt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bn(o=>{let l=!1,d=!1;return ft(o).pipe((0,Pr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bn(m=>{const E=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Gv(m.source)&&(this.browserUrlTree=m.extractedUrl),ft(m).pipe(Bn(N=>{const q=this.transitions.getValue();return r.next(new to(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),q!==this.transitions.getValue()?Uo.E:Promise.resolve(N)}),function kv(n,e,t,r){return Bn(o=>function dh(n,e,t,r,o){return new Bm(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Pt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pr.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function Bv(n,e,t,r,o){return(0,wn.z)(l=>function sb(n,e,t,r,o="emptyOnly",l="legacy"){try{const d=new ob(n,e,t,r,o,l).recognize();return null===d?Vv(new Lv):ft(d)}catch(d){return Vv(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,Pt.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pr.b)(N=>{if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(J,N)}this.browserUrlTree=N.urlAfterRedirects}const q=new eu(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next(q)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:J,source:ye,restoredState:Be,extras:it}=m,Jt=new to(q,this.serializeUrl(J),ye,Be);r.next(Jt);const yt=Ta(J,this.rootComponentType).snapshot;return ft(Object.assign(Object.assign({},m),{targetSnapshot:yt,urlAfterRedirects:J,extras:Object.assign(Object.assign({},it),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Uo.E}),hp(m=>{const{targetSnapshot:E,id:C,extractedUrl:x,rawUrl:N,extras:{skipLocationChange:q,replaceUrl:J}}=m;return this.hooks.beforePreactivation(E,{navigationId:C,appliedUrlTree:x,rawUrlTree:N,skipLocationChange:!!q,replaceUrl:!!J})}),(0,Pr.b)(m=>{const E=new Ac(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,Pt.U)(m=>Object.assign(Object.assign({},m),{guards:ZI(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function JI(n,e){return(0,wn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?ft(Object.assign(Object.assign({},t),{guardsResult:!0})):function XI(n,e,t,r){return(0,Tn.D)(n).pipe((0,wn.z)(o=>function ib(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ft(l.map(m=>{const E=lp(m,e,o);let C;if(function Pm(n){return n&&on(n.canDeactivate)}(E))C=Lr(E.canDeactivate(n,e,t,r));else{if(!on(E))throw new Error("Invalid CanDeactivate guard");C=Lr(E(n,e,t,r))}return C.pipe(eo())})).pipe(qo()):ft(!0)}(o.component,o.route,t,e,r)),eo(o=>!0!==o,!0))}(d,r,o,n).pipe((0,wn.z)(m=>m&&function oo(n){return"boolean"==typeof n}(m)?function cp(n,e,t,r){return(0,Tn.D)(e).pipe(Bo(o=>Qd(function tb(n,e){return null!==n&&e&&e(new Qr(n)),ft(!0)}(o.route.parent,r),function eb(n,e){return null!==n&&e&&e(new ul(n)),ft(!0)}(o.route,r),function rb(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Fv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Vo(()=>ft(d.guards.map(E=>{const C=lp(E,d.node,t);let x;if(function yl(n){return n&&on(n.canActivateChild)}(C))x=Lr(C.canActivateChild(r,n));else{if(!on(C))throw new Error("Invalid CanActivateChild guard");x=Lr(C(r,n))}return x.pipe(eo())})).pipe(qo())));return ft(l).pipe(qo())}(n,o.path,t),function nb(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ft(!0);const o=r.map(l=>Vo(()=>{const d=lp(l,e,t);let m;if(function kc(n){return n&&on(n.canActivate)}(d))m=Lr(d.canActivate(e,n));else{if(!on(d))throw new Error("Invalid CanActivate guard");m=Lr(d(e,n))}return m.pipe(eo())}));return ft(o).pipe(qo())}(n,o.route,t))),eo(o=>!0!==o,!0))}(r,l,n,e):ft(m)),(0,Pt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Pr.b)(m=>{if(Mi(m.guardsResult)){const C=hs(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const E=new ba(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),ds(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),hp(m=>{if(m.guards.canActivateChecks.length)return ft(m).pipe((0,Pr.b)(E=>{const C=new Fr(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}),Bn(E=>{let C=!1;return ft(E).pipe(function ZT(n,e){return(0,wn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return ft(t);let l=0;return(0,Tn.D)(o).pipe(Bo(d=>function Zo(n,e,t,r){return function $m(n,e,t,r){const o=dp(n);if(0===o.length)return ft({});const l={};return(0,Tn.D)(o).pipe((0,wn.z)(d=>function hb(n,e,t,r){const o=lp(n,e,r);return Lr(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,Pr.b)(m=>{l[d]=m}))),Tc(1),(0,wn.z)(()=>dp(l).length===o.length?ft(l):Uo.E))}(n._resolve,n,e,r).pipe((0,Pt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Mm(n,t).resolve),null)))}(d.route,r,n,e)),(0,Pr.b)(()=>l++),Tc(1),(0,wn.z)(d=>l===o.length?ft(t):Uo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pr.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Pr.b)(E=>{const C=new Ci(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}))}),hp(m=>{const{targetSnapshot:E,id:C,extractedUrl:x,rawUrl:N,extras:{skipLocationChange:q,replaceUrl:J}}=m;return this.hooks.afterPreactivation(E,{navigationId:C,appliedUrlTree:x,rawUrlTree:N,skipLocationChange:!!q,replaceUrl:!!J})}),(0,Pt.U)(m=>{const E=function xm(n,e,t){const r=Aa(n,e._root,t?t._root:void 0);return new xc(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,Pr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Pt.U)(r=>(new nt(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Pr.b)({next(){l=!0},complete(){l=!0}}),function Xf(n){return(0,pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),Bi(m=>{if(d=!0,function ep(n){return n&&n[dl]}(m)){const E=Mi(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const C=new jn(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(C),E?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gv(o.source)};this.scheduleNavigation(x,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new Ia(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(C){o.reject(C)}}return Uo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const l={replaceUrl:!0},d=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(d){const E=Object.assign({},d);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(l.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Sa(t),this.config=t.map(Vm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:E}=r,C=o||this.routerState.root,x=E?this.currentUrlTree.fragment:d;let N=null;switch(m){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=l||null}return null!==N&&(N=this.removeEmptyProps(N)),function Wo(n,e,t,r,o){if(0===t.length)return Oc(e.root,e.root,e.root,r,o);const l=function Om(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rp(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return yn(l.outlets,(E,C)=>{m[C]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new rp(t,e,r)}(t);if(l.toRoot())return Oc(e.root,e.root,new me([],{}),r,o);const d=function sp(n,e,t){if(n.isAbsolute)return new ip(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new ip(l,l===e.root,0)}const r=so(n.commands[0])?0:1;return function km(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new ip(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=d.processChildren?p(d.segmentGroup,d.index,l.commands):_(d.segmentGroup,d.index,l.commands);return Oc(e.root,d.segmentGroup,m,r,o)}(C,this.currentUrlTree,t,N,null!=x?x:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Mi(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function pb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},fb):!1===r?Object.assign({},zm):r,Mi(t))return zo(this.currentUrlTree,t,o);const l=this.parseUrl(t);return zo(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new jo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,d){var m,E;if(this.disposed)return Promise.resolve(!1);let C,x,N;d?(C=d.resolve,x=d.reject,N=d.promise):N=new Promise((ye,Be)=>{C=ye,x=Be});const q=++this.navigationId;let J;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),J=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):J=0,this.setTransition({id:q,targetPageId:J,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:C,reject:x,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(ye=>Promise.reject(ye))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new jn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Gv(n){return"imperative"!==n}let pp=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new os.x,this.subscription=t.events.subscribe(l=>{l instanceof jo&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,d){if(0!==t||r||o||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Lc(this.skipLocationChange),replaceUrl:Lc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Lc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(fi),f.Y36(au),f.Y36(pe))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&f.uIk("target",r.target)("href",r.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();function Lc(n){return""===n||!!n}class Zm{}class Wv{preload(e,t){return ft(null)}}let qv=(()=>{class n{constructor(t,r,o,l){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=new fp(o,r,E=>t.triggerEvent(new $o(E)),E=>t.triggerEvent(new Da(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(ds(t=>t instanceof jo),Bo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,Tn.D)(o).pipe((0,us.J)(),(0,Pt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ft(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,wn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fi),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Zm))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),gp=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof to?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new cl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ps=new f.OlP("ROUTER_CONFIGURATION"),Ym=new f.OlP("ROUTER_FORROOT_GUARD"),Zv=[Ae,{provide:vt,useClass:Dr},{provide:fi,useFactory:function Jm(n,e,t,r,o,l,d={},m,E){const C=new fi(null,n,e,t,r,o,Sc(l));return m&&(C.urlHandlingStrategy=m),E&&(C.routeReuseStrategy=E),function Qv(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,C),d.enableTracing&&C.events.subscribe(x=>{var N,q;null===(N=console.group)||void 0===N||N.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(q=console.groupEnd)||void 0===q||q.call(console)}),C},deps:[vt,cu,Ae,f.zs3,f.Sil,ph,ps,[class Hv{},new f.FiY],[class fh{},new f.FiY]]},cu,{provide:au,useFactory:function mp(n){return n.routerState.root},deps:[fi]},qv,Wv,class Km{preload(e,t){return t().pipe(Bi(()=>ft(null)))}},{provide:ps,useValue:{enableTracing:!1}}];function mb(){return new f.PXZ("Router",fi)}let Ls=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Zv,Qm(t),{provide:Ym,useFactory:Yv,deps:[[fi,new f.FiY,new f.tp0]]},{provide:ps,useValue:r||{}},{provide:pe,useFactory:Kv,deps:[oe,[new f.tBr(Ye),new f.FiY],ps]},{provide:gp,useFactory:yb,deps:[fi,pc,ps]},{provide:Zm,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Wv},{provide:f.PXZ,multi:!0,useFactory:mb},[Vc,{provide:f.ip1,multi:!0,useFactory:Jv,deps:[Vc]},{provide:ey,useFactory:Xm,deps:[Vc]},{provide:f.tb,multi:!0,useExisting:ey}]]}}static forChild(t){return{ngModule:n,providers:[Qm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ym,8),f.LFG(fi,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function yb(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new gp(n,e,t)}function Kv(n,e,t={}){return t.useHash?new Me(n,e):new Ue(n,e)}function Yv(n){return"guarded"}function Qm(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:ph,multi:!0,useValue:n}]}let Vc=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new os.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(fi),d=this.injector.get(ps);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?ft(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(ps),o=this.injector.get(qv),l=this.injector.get(gp),d=this.injector.get(fi),m=this.injector.get(f.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),l.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Jv(n){return n.appInitializer.bind(n)}function Xm(n){return n.bootstrapListener.bind(n)}const ey=new f.OlP("Router Initializer");let _b=(()=>{class n{constructor(t){this._router=t}clickTask(){this._router.navigate(["/tasks"])}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(fi))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-home"]],decls:10,vars:0,consts:[[1,"container","py-4"],[1,"row"],[1,"d-flex","flex-column","justify-content-center","align-items-center","col-12","text-center"],[1,"mt-2"],[1,"d-grid","gap-2","d-flex","justify-content-center","align-items-center"],["type","button","router","",1,"d-flex","justify-content-center","align-items-center","btn","border-0","mt-3","px-4","py-3","fs-6","w-45",2,"background-color","#7300e6","color","white",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),f._uU(4,"Get a clear view of the day ahead"),f.qZA(),f.TgZ(5,"p",3),f._uU(6,"All your tasks that are due today will show up here."),f.qZA()(),f.TgZ(7,"div",4)(8,"button",5),f.NdJ("click",function(){return r.clickTask()}),f._uU(9," Adds tasks "),f.qZA()()()())},encapsulation:2,changeDetection:0}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-images-list"]],decls:9,vars:0,consts:[[1,"container","py-5"],[1,"row"],[1,"card-group"],[1,"card"],["src","https://cdn.pixabay.com/photo/2017/08/06/06/59/coffee-break-2589688_1280.jpg","alt","...",1,"card-img-top"],[1,"card","ms-sm-3"],["src","https://cdn.pixabay.com/photo/2017/07/07/04/01/office-2480352_1280.jpg","alt","...",1,"card-img-top"],["src","https://cdn.pixabay.com/photo/2018/04/18/01/14/laptop-3329265_1280.jpg","alt","...",1,"card-img-top"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f._UZ(4,"img",4),f.qZA(),f.TgZ(5,"div",5),f._UZ(6,"img",6),f.qZA(),f.TgZ(7,"div",5),f._UZ(8,"img",7),f.qZA()()()())},encapsulation:2,changeDetection:0}),n})(),vb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home-page"]],decls:2,vars:0,template:function(t,r){1&t&&f._UZ(0,"lib-home")(1,"lib-images-list")},directives:[_b,ny],encapsulation:2,changeDetection:0}),n})(),Xv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Fi]]}),n})(),e0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Fi,Ls]]}),n})(),ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Fi,Ls.forChild([{path:"",component:vb}]),Xv,e0]]}),n})(),Eb=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),hu=(()=>{class n extends Eb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Ko=new f.OlP("NgValueAccessor"),wb={provide:Ko,useExisting:(0,f.Gpc)(()=>gh),multi:!0},Ib=new f.OlP("CompositionEventMode");let gh=(()=>{class n extends Eb{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uo(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ib,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[f._Bn([wb]),f.qOj]}),n})();const pi=new f.OlP("NgValidators"),pu=new f.OlP("NgAsyncValidators");function Nt(n){return function fu(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function yh(n){return null}function l0(n){return null!=n}function _p(n){const e=(0,f.QGY)(n)?(0,Tn.D)(n):n;return(0,f.CqO)(e),e}function Yo(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function vp(n,e){return e.map(t=>t(n))}function Ep(n){return n.map(e=>function c0(n){return!n.validate}(e)?e:t=>e.validate(t))}function wp(n){return null!=n?function bb(n){if(!n)return null;const e=n.filter(l0);return 0==e.length?null:function(t){return Yo(vp(t,e))}}(Ep(n)):null}function Uc(n){return null!=n?function Db(n){if(!n)return null;const e=n.filter(l0);return 0==e.length?null:function(t){return function t0(...n){const e=(0,fr.jO)(n),{args:t,keys:r}=as(n),o=new or.y(l=>{const{length:d}=t;if(!d)return void l.complete();const m=new Array(d);let E=d,C=d;for(let x=0;x<d;x++){let N=!1;(0,Ps.Xf)(t[x]).subscribe((0,An.x)(l,q=>{N||(N=!0,C--),m[x]=q},()=>E--,void 0,()=>{(!E||!N)&&(C||l.next(r?_a(r,m):m),l.complete())}))}});return e?o.pipe(ya(e)):o}(vp(t,e).map(_p)).pipe((0,Pt.U)(Yo))}}(Ep(n)):null}function _h(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ip(n){return n._rawValidators}function bp(n){return n._rawAsyncValidators}function vh(n){return n?Array.isArray(n)?n:[n]:[]}function ay(n,e){return Array.isArray(n)?n.includes(e):n===e}function d0(n,e){const t=vh(e);return vh(n).forEach(o=>{ay(t,o)||t.push(o)}),t}function h0(n,e){return vh(e).filter(t=>!ay(n,t))}class f0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Uc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class gu extends f0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gi extends f0{get formDirective(){return null}get path(){return null}}class Cb{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let uy=(()=>{class n extends Cb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(gu,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),Dp=(()=>{class n extends Cb{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(gi,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function $c(n,e){Tp(n,e),e.valueAccessor.writeValue(n.value),function dy(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hy(n,e)})}(n,e),function Sb(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ab(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hy(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function mu(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Hc(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ap(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Cp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Tp(n,e){const t=Ip(n);null!==e.validator?n.setValidators(_h(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=bp(n);null!==e.asyncValidator?n.setAsyncValidators(_h(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Cp(e._rawValidators,o),Cp(e._rawAsyncValidators,o)}function Ap(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Ip(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==e.validator);l.length!==o.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const o=bp(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(d=>d!==e.asyncValidator);l.length!==o.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Cp(e._rawValidators,r),Cp(e._rawAsyncValidators,r),t}function hy(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ih(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const _u="VALID",Rp="INVALID",Cl="PENDING",Np="DISABLED";function Op(n){return(Pp(n)?n.validators:n)||null}function v0(n){return Array.isArray(n)?wp(n):n||null}function kp(n,e){return(Pp(e)?e.asyncValidators:n)||null}function E0(n){return Array.isArray(n)?Uc(n):n||null}function Pp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Hi=n=>n instanceof Fp,gy=n=>n instanceof Tl;function Rb(n){return Hi(n)?n.value:n.getRawValue()}function Nb(n,e){const t=gy(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[e])throw new f.vHH(1001,"")}function my(n,e){gy(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new f.vHH(1002,"")})}class w0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=v0(this._rawValidators),this._composedAsyncValidatorFn=E0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_u}get invalid(){return this.status===Rp}get pending(){return this.status==Cl}get disabled(){return this.status===Np}get enabled(){return this.status!==Np}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=v0(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=E0(e)}addValidators(e){this.setValidators(d0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(d0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(h0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(h0(e,this._rawAsyncValidators))}hasValidator(e){return ay(this._rawValidators,e)}hasAsyncValidator(e){return ay(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Cl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Np,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_u,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_u||this.status===Cl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Np:_u}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Cl,this._hasOwnPendingAsyncValidator=!0;const t=_p(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function _0(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=gy(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof I0)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Np:this.errors?Rp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cl)?Cl:this._anyControlsHaveStatus(Rp)?Rp:_u}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fp extends w0{constructor(e=null,t,r){super(Op(t),kp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ih(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ih(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Tl extends w0{constructor(e,t,r){super(Op(t),kp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){my(this,e),Object.keys(e).forEach(r=>{Nb(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Rb(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class I0 extends w0{constructor(e,t,r){super(Op(t),kp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){my(this,e),e.forEach((r,o)=>{Nb(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Rb(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let D0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),T0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Gc=new f.OlP("NgModelWithFormControlWarning"),wy={provide:gi,useExisting:(0,f.Gpc)(()=>Al)};let Al=(()=>{class n extends gi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ap(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return $c(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Hc(t.control||null,t,!1),Ih(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function py(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Hc(r||null,t),Hi(o)&&($c(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function m0(n,e){Tp(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Eh(n,e){return Ap(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tp(this.form,this),this._oldForm&&Ap(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(pi,10),f.Y36(pu,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([wy]),f.qOj,f.TTD]}),n})();const $b={provide:gu,useExisting:(0,f.Gpc)(()=>Up)};let Up=(()=>{class n extends gu{constructor(t,r,o,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Mp(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===gh?t=l:function Mb(n){return Object.getPrototypeOf(n.constructor)===hu}(l)?r=l:o=l}),o||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function yu(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function jc(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(gi,13),f.Y36(pi,10),f.Y36(pu,10),f.Y36(Ko,10),f.Y36(Gc,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([$b]),f.qOj,f.TTD]}),n})(),Ra=(()=>{class n{constructor(){this._validator=yh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,features:[f.TTD]}),n})();const Cy={provide:pi,useExisting:(0,f.Gpc)(()=>Hp),multi:!0};let Hp=(()=>{class n extends Ra{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Th(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Nt}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([Cy]),f.qOj]}),n})(),$0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[T0]]}),n})(),Sy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gc,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[$0]}),n})();const H0=new f.OlP("ADDS_TASK_DTO");let G0=(()=>{class n{constructor(t,r){this._addsTaskDto=t,this._router=r,this.addTask=new Tl({text:new Fp}),this.checked=!1}onSubmitAddtasked(t){var r;this._router.navigate(["/my-list"]),!t.invalid&&(this._addsTaskDto.add({text:null===(r=t.get("text"))||void 0===r?void 0:r.value,checked:this.checked}),this.addTask.reset())}backToHomePage(){this._router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(H0),f.Y36(fi))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-add-task"]],decls:8,vars:2,consts:[[1,"px-5","px-sm-0",3,"formGroup","ngSubmit"],["required","","type","text","formControlName","text","placeholder"," Write your message here",1,"py-4","p-2","w-sm-50","border-1","border-dark"],["type","submit",1,"btn","me-3","mt-4","border-0",2,"background-color","#7300e6","color","white",3,"disabled"],["type","submit",1,"btn","mt-4","border-dark","border-1",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return r.onSubmitAddtasked(r.addTask)}),f._UZ(1,"input",1)(2,"br"),f.TgZ(3,"div")(4,"button",2),f._uU(5," Add task "),f.qZA(),f.TgZ(6,"button",3),f.NdJ("click",function(){return r.backToHomePage()}),f._uU(7,"Cancel"),f.qZA()()()),2&t&&(f.Q6J("formGroup",r.addTask),f.xp6(4),f.Q6J("disabled",r.addTask.invalid))},directives:[D0,Dp,Al,gh,Hp,uy,Up],encapsulation:2,changeDetection:0}),n})(),z0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-tasks-page"]],decls:3,vars:0,consts:[[1,"container","py-5","PX-0"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0),f._UZ(1,"lib-add-task"),f.qZA(),f._UZ(2,"lib-images-list"))},directives:[G0,ny],encapsulation:2,changeDetection:0}),n})(),Kb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Fi,Sy,Ls]]}),n})();var W0=k(4986),En=k(5813);function My(){return(0,pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,An.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function lA(n,e){return n===e}var tt,gs=k(2011),q0=(k(5881),k(3942)),we=k(5861),vu=k(9681),Gi=k(4859),Sl=k(1877),Gt=k(2090),Z0="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Jo={},xy=xy||{},Ot=Z0||self;function Ah(){}function Sh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Mh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ny="closure_uid_"+(1e9*Math.random()>>>0),Yb=0;function Qb(n,e,t){return n.call.apply(n.bind,arguments)}function Jb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Xr(n,e,t){return(Xr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qb:Jb).apply(null,arguments)}function Gp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function gr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function ms(){this.s=this.s,this.o=this.o}var xh={};ms.prototype.s=!1,ms.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Ry(n){return Object.prototype.hasOwnProperty.call(n,Ny)&&n[Ny]||(n[Ny]=++Yb)}(this);delete xh[n]}},ms.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const K0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Y0=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function co(n){return Array.prototype.concat.apply([],arguments)}function Ml(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Cr(n){return/^[\s\xa0]*$/.test(n)}var ei,Eu=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Vr(n,e){return-1!=n.indexOf(e)}function zi(n,e){return n<e?-1:n>e?1:0}e:{var xl=Ot.navigator;if(xl){var Rl=xl.userAgent;if(Rl){ei=Rl;break e}}ei=""}function wu(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Nl(n){const e={};for(const t in n)e[t]=n[t];return e}var Ol="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kl(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Ol.length;l++)t=Ol[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Iu(n){return Iu[" "](n),n}Iu[" "]=Ah;var Rh,n,Zc=Vr(ei,"Opera"),Pl=Vr(ei,"Trident")||Vr(ei,"MSIE"),ky=Vr(ei,"Edge"),zp=ky||Pl,Py=Vr(ei,"Gecko")&&!(Vr(ei.toLowerCase(),"webkit")&&!Vr(ei,"Edge"))&&!(Vr(ei,"Trident")||Vr(ei,"MSIE"))&&!Vr(ei,"Edge"),Q0=Vr(ei.toLowerCase(),"webkit")&&!Vr(ei,"Edge");function Fy(){var n=Ot.document;return n?n.documentMode:void 0}e:{var Wp="",qp=(n=ei,Py?/rv:([^\);]+)(\)|;)/.exec(n):ky?/Edge\/([\d\.]+)/.exec(n):Pl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Q0?/WebKit\/(\S+)/.exec(n):Zc?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qp&&(Wp=qp?qp[1]:""),Pl){var Ly=Fy();if(null!=Ly&&Ly>parseFloat(Wp)){Rh=String(Ly);break e}}Rh=Wp}var J0={};var tD=Ot.document&&Pl&&(Fy()||parseInt(Rh,10))||void 0,nD=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Ah,e),Ot.removeEventListener("test",Ah,e)}catch(t){}return n}();function ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Nh(n,e){if(ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Py){e:{try{Iu(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:X0[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Nh.Z.h.call(this)}}ti.prototype.h=function(){this.defaultPrevented=!0},gr(Nh,ti);var X0={2:"touch",3:"pen",4:"mouse"};Nh.prototype.h=function(){Nh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Oh="closure_listenable_"+(1e6*Math.random()|0),rD=0;function dA(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++rD,this.ca=this.fa=!1}function Zp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Kc(n){this.src=n,this.g={},this.h=0}function kh(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=K0(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(Zp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function By(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}Kc.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=By(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new dA(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var eE="closure_lm_"+(1e6*Math.random()|0),tE={};function iD(n,e,t,r,o){if(r&&r.once)return sD(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)iD(n,e[l],t,r,o);return null}return t=Yc(t),n&&n[Oh]?n.N(e,t,Mh(r)?!!r.capture:!!r,o):nE(n,e,t,!1,r,o)}function nE(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var d=Mh(o)?!!o.capture:!!o,m=jy(n);if(m||(n[eE]=m=new Kc(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function rE(){var e=oE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)nD||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(sE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sD(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)sD(n,e[l],t,r,o);return null}return t=Yc(t),n&&n[Oh]?n.O(e,t,Mh(r)?!!r.capture:!!r,o):nE(n,e,t,!0,r,o)}function iE(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)iE(n,e[l],t,r,o);else r=Mh(r)?!!r.capture:!!r,t=Yc(t),n&&n[Oh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=By(l=n.g[e],t,r,o))&&(Zp(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=jy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=By(e,t,r,o)),(t=-1<n?e[n]:null)&&bu(t))}function bu(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Oh])kh(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(sE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=jy(e))?(kh(t,n),0==t.h&&(t.src=null,e[eE]=null)):Zp(n)}}}function sE(n){return n in tE?tE[n]:tE[n]="on"+n}function oE(n,e){if(n.ca)n=!0;else{e=new Nh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&bu(n),n=t.call(r,e)}return n}function jy(n){return(n=n[eE])instanceof Kc?n:null}var Kp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yc(n){return"function"==typeof n?n:(n[Kp]||(n[Kp]=function(e){return n.handleEvent(e)}),n[Kp])}function Ur(){ms.call(this),this.i=new Kc(this),this.P=this,this.I=null}function Br(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ti(e,n);else if(e instanceof ti)e.target=e.target||n;else{var o=e;kl(e=new ti(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];o=Yp(d,r,!0,e)&&o}if(o=Yp(d=e.g=n,r,!0,e)&&o,o=Yp(d,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Yp(d=e.g=t[l],r,!1,e)&&o}function Yp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var m=d.listener,E=d.ia||d.src;d.fa&&kh(n.i,d),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}gr(Ur,ms),Ur.prototype[Oh]=!0,Ur.prototype.removeEventListener=function(n,e,t,r){iE(this,n,e,t,r)},Ur.prototype.M=function(){if(Ur.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Zp(t[r]);delete n.g[e],n.h--}}this.I=null},Ur.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ur.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var $y=Ot.JSON.stringify;function oD(){var n=Xp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jp,aE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new uE,n=>n.reset());class uE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uD(n){Ot.setTimeout(()=>{throw n},0)}function Qp(n,e){Jp||function Hy(){var n=Ot.Promise.resolve(void 0);Jp=function(){n.then(lD)}}(),lE||(Jp(),lE=!0),Xp.add(n,e)}var lE=!1,Xp=new class aD{constructor(){this.h=this.g=null}add(e,t){const r=aE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function lD(){for(var n;n=oD();){try{n.h.call(n.g)}catch(t){uD(t)}var e=aE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lE=!1}function Gy(n,e){Ur.call(this),this.h=n||1,this.g=e||Ot,this.j=Xr(this.kb,this),this.l=Date.now()}function Fl(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function eg(n,e,t){if("function"==typeof n)t&&(n=Xr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function tg(n){n.g=eg(()=>{n.g=null,n.i&&(n.i=!1,tg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}gr(Gy,Ur),(tt=Gy.prototype).da=!1,tt.S=null,tt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Br(this,"tick"),this.da&&(Fl(this),this.start()))}},tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.M=function(){Gy.Z.M.call(this),Fl(this),delete this.g};class zy extends ms{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tg(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ph(n){ms.call(this),this.h=n,this.g={}}gr(Ph,ms);var Fh=[];function Lh(n,e,t,r){Array.isArray(t)||(t&&(Fh[0]=t.toString()),t=Fh);for(var o=0;o<t.length;o++){var l=iD(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function ng(n){wu(n.g,function(e,t){this.g.hasOwnProperty(t)&&bu(e)},n),n.g={}}function Wy(){this.g=!0}function Du(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<o.length;d++)o[d]=""}}}return $y(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Ph.prototype.M=function(){Ph.Z.M.call(this),ng(this)},Ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wy.prototype.Aa=function(){this.g=!1},Wy.prototype.info=function(){};var Na={},Zy=null;function Vh(){return Zy=Zy||new Ur}function rg(n){ti.call(this,Na.Ma,n)}function Qc(n){const e=Vh();Br(e,new rg(e,n))}function hE(n,e){ti.call(this,Na.STAT_EVENT,n),this.stat=e}function mi(n){const e=Vh();Br(e,new hE(e,n))}function Ky(n,e){ti.call(this,Na.Na,n),this.size=e}function Ll(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}Na.Ma="serverreachability",gr(rg,ti),Na.STAT_EVENT="statevent",gr(hE,ti),Na.Na="timingevent",gr(Ky,ti);var Uh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yy(){}function Qy(){}Yy.prototype.h=null;var og,Vl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ig(){ti.call(this,"d")}function sg(){ti.call(this,"c")}function Bh(){}function Jc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Ph(this),this.P=gE,this.W=new Gy(n=zp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Jy}function Jy(){this.i=null,this.g="",this.h=!1}gr(ig,ti),gr(sg,ti),gr(Bh,Yy),Bh.prototype.g=function(){return new XMLHttpRequest},Bh.prototype.i=function(){return{}},og=new Bh;var gE=45e3,ag={},Xy={};function e_(n,e,t){n.K=1,n.v=Wi(Xo(e)),n.s=t,n.U=!0,mE(n,null)}function mE(n,e){n.F=Date.now(),Xc(n),n.A=Xo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Hh(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Jy,n.g=Yh(n.l,t?e:null,!n.s),0<n.O&&(n.L=new zy(Xr(n.Ia,n,n.g),n.O)),Lh(n.V,n.g,"readystatechange",n.gb),e=n.H?Nl(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Qc(1),function cD(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),E=0;E<m.length;E++){var C=m[E].split("=");if(1<C.length){var x=C[0];C=C[1];var N=x.split("_");d=2<=N.length&&"type"==N[1]?d+(x+"=")+C+"&":d+(x+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function t_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function yE(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Tr(n,t),o==Xy){4==e&&(n.o=4,mi(14),r=!1),Du(n.j,n.m,null,"[Incomplete Response]");break}if(o==ag){n.o=4,mi(15),Du(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Du(n.j,n.m,o,null),lg(n,o)}t_(n)&&o!=Xy&&o!=ag&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),OE(e),e.L=!0,mi(11))):(Du(n.j,n.m,t,"[Invalid Chunked Response]"),Ul(n),ed(n))}function Tr(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Xy:(t=Number(e.substring(t,r)),isNaN(t)?ag:(r+=1)+t>e.length?Xy:(e=e.substr(r,t),n.C=r+t,e))}function Xc(n){n.Y=Date.now()+n.P,_E(n,n.P)}function _E(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ll(Xr(n.eb,n),e)}function ug(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function ed(n){0==n.l.G||n.I||kE(n.l,n)}function Ul(n){ug(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Fl(n.W),ng(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function lg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||hg(t.i,n)))if(t.I=n.N,!n.J&&hg(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ll(Xr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;wg(t),Zh(t)}Eg(t),mi(18)}if(1>=u_(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else ta(t,11)}else if((n.J||t.g==n)&&wg(t),!Cr(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const x=C[3];null!=x&&(t.ma=x,t.h.info("VER="+t.ma));const N=C[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const q=C[5];null!=q&&"number"==typeof q&&0<q&&(t.K=r=1.5*q,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const ye=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var l=r.i;!l.g&&(Vr(ye,"spdy")||Vr(ye,"quic")||Vr(ye,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(fg(l,l.h),l.h=null))}if(r.D){const Be=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Be&&(r.sa=Be,nn(r.F,r.D,Be))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Kh(r,r.H?r.la:null,r.W),d.J){l_(r.i,d);var m=d,E=r.K;E&&m.setTimeout(E),m.B&&(ug(m),Xc(m)),r.g=d}else y_(r);0<t.l.length&&vg(t)}else"stop"!=C[0]&&"close"!=C[0]||ta(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?ta(t,7):_g(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Qc(4)}catch(C){}}function Cu(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Sh(n)||"string"==typeof n)Y0(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Sh(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function vE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Sh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function td(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof td)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function n_(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Tu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Tu(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Tu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(tt=Jc.prototype).setTimeout=function(n){this.P=n},tt.gb=function(n){n=n.target;const e=this.L;e&&3==ea(n)?e.l():this.Ia(n)},tt.Ia=function(n){try{if(n==this.g)e:{const x=ea(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>x)&&(3!=x||zp||this.g&&(this.h.h||this.g.ga()||p_(this.g)))){this.I||4!=x||7==e||Qc(8==e||0>=N?3:2),ug(this);var t=this.g.ba();this.N=t;t:if(t_(this)){var r=p_(this.g);n="";var o=r.length,l=4==ea(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ul(this),ed(this);var d="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function qy(n,e,t,r,o,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,x,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cr(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,mi(12),Ul(this),ed(this);break e}Du(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lg(this,t)}this.U?(yE(this,x,d),zp&&this.i&&3==x&&(Lh(this.V,this.W,"tick",this.fb),this.W.start())):(Du(this.j,this.m,d,null),lg(this,d)),4==x&&Ul(this),this.i&&!this.I&&(4==x?kE(this.l,this):(this.i=!1,Xc(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,mi(12)):(this.o=0,mi(13)),Ul(this),ed(this)}}}catch(x){}},tt.fb=function(){if(this.g){var n=ea(this.g),e=this.g.ga();this.C<e.length&&(ug(this),yE(this,n,e),this.i&&4!=n&&Xc(this))}},tt.cancel=function(){this.I=!0,Ul(this)},tt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function cE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qc(3),mi(17)),Ul(this),this.o=2,ed(this)):_E(this,this.Y-n)},(tt=td.prototype).R=function(){n_(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},tt.T=function(){return n_(this),this.g.concat()},tt.get=function(n,e){return Tu(this.h,n)?this.h[n]:e},tt.set=function(n,e){Tu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},tt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var EE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof nd){this.g=void 0!==e?e:n.g,rd(this,n.j),this.s=n.s,ys(this,n.i),cg(this,n.m),this.l=n.l,e=n.h;var t=new sd;t.i=e.i,e.g&&(t.g=new td(e.g),t.h=e.h),IE(this,t),this.o=n.o}else n&&(t=String(n).match(EE))?(this.g=!!e,rd(this,t[1]||"",!0),this.s=id(t[2]||""),ys(this,t[3]||"",!0),cg(this,t[4]),this.l=id(t[5]||"",!0),IE(this,t[6]||"",!0),this.o=id(t[7]||"")):(this.g=!!e,this.h=new sd(null,this.g))}function Xo(n){return new nd(n)}function rd(n,e,t){n.j=t?id(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ys(n,e,t){n.i=t?id(e,!0):e}function cg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function IE(n,e,t){e instanceof sd?(n.h=e,function CE(n,e){e&&!n.j&&(Au(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(i_(this,r),Hh(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=jh(e,$h)),n.h=new sd(e,n.g))}function nn(n,e,t){n.h.set(e,t)}function Wi(n){return nn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function id(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function jh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(jh(e,DE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(jh(e,DE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(jh(t,"/"==t.charAt(0)?r_:hD,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",jh(t,fD)),n.join("")};var DE=/[#\/\?@]/g,hD=/[#\?:]/g,r_=/[#\?]/g,$h=/[#\?@]/g,fD=/#/g;function sd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Au(n){n.g||(n.g=new td,n.h=0,n.i&&function wE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function i_(n,e){Au(n),e=od(n,e),Tu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Tu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&n_(n)))}function s_(n,e){return Au(n),e=od(n,e),Tu(n.g.h,e)}function Hh(n,e,t){i_(n,e),0<t.length&&(n.i=null,n.g.set(od(n,e),Ml(t)),n.h+=t.length)}function od(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function o_(n){this.l=n||dg,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=sd.prototype).add=function(n,e){Au(this),this.i=null,n=od(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){Au(this),this.g.forEach(function(t,r){Y0(t,function(o){n.call(e,o,r,this)},this)},this)},tt.T=function(){Au(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},tt.R=function(n){Au(this);var e=[];if("string"==typeof n)s_(this,n)&&(e=co(e,this.g.get(od(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=co(e,n[t])}return e},tt.set=function(n,e){return Au(this),this.i=null,s_(this,n=od(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=o;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var dg=10;function a_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function u_(n){return n.h?1:n.g?n.g.size:0}function hg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function fg(n,e){n.g?n.g.add(e):n.h=e}function l_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function c_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ml(n.i)}function pg(){}function AE(){this.g=new pg}function pD(n,e,t){const r=t||"";try{Cu(n,function(o,l){let d=o;Mh(o)&&(d=$y(o)),e.push(r+l+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function gg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function Gh(n){this.l=n.$b||null,this.j=n.ib||!1}function mg(n,e){Ur.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=d_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}o_.prototype.cancel=function(){if(this.i=c_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},pg.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},pg.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},gr(Gh,Yy),Gh.prototype.g=function(){return new mg(this.l,this.j)},Gh.prototype.i=function(n){return function(){return n}}({}),gr(mg,Ur);var d_=0;function SE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function zh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wh(n)}function Wh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=mg.prototype).open=function(n,e){if(this.readyState!=d_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wh(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zh(this)),this.readyState=d_},tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wh(this)),this.g&&(this.readyState=3,Wh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?zh(this):Wh(this),3==this.readyState&&SE(this)}},tt.Ua=function(n){this.g&&(this.response=this.responseText=n,zh(this))},tt.Ta=function(n){this.g&&(this.response=n,zh(this))},tt.ha=function(){this.g&&zh(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(mg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mD=Ot.JSON.parse;function mr(n){Ur.call(this),this.headers=new td,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ME,this.K=this.L=!1}gr(mr,Ur);var ME="",yD=/^https?$/i,_D=["POST","PUT"];function ED(n){return"content-type"==n.toLowerCase()}function xE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,RE(n),qh(n)}function RE(n){n.D||(n.D=!0,Br(n,"complete"),Br(n,"error"))}function h_(n){if(n.h&&void 0!==xy&&(!n.C[1]||4!=ea(n)||2!=n.ba()))if(n.v&&4==ea(n))eg(n.Fa,0,n);else if(Br(n,"readystatechange"),4==ea(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(EE)[1]||null;if(!o&&Ot.self&&Ot.self.location){var l=Ot.self.location.protocol;o=l.substr(0,l.length-1)}r=!yD.test(o?o.toLowerCase():"")}t=r}if(t)Br(n,"complete"),Br(n,"success");else{n.m=6;try{var d=2<ea(n)?n.g.statusText:""}catch(E){d=""}n.j=d+" ["+n.ba()+"]",RE(n)}}finally{qh(n)}}}function qh(n,e){if(n.g){f_(n);const t=n.g,r=n.C[0]?Ah:null;n.g=null,n.C=null,e||Br(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function f_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function ea(n){return n.g?n.g.readyState:0}function p_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ME:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function yg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function NE(n){let e="";return wu(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):nn(n,e,t))}function ad(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function g_(n){this.za=0,this.l=[],this.h=new Wy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ad("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ad("baseRetryDelayMs",5e3,n),this.$a=ad("retryDelaySeedMs",1e4,n),this.Ya=ad("forwardChannelMaxRetries",2,n),this.ra=ad("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new o_(n&&n.concurrentRequestLimit),this.Ca=new AE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function _g(n){if(Su(n),3==n.G){var e=n.V++,t=Xo(n.F);nn(t,"SID",n.J),nn(t,"RID",e),nn(t,"TYPE","terminate"),Bl(n,t),(e=new Jc(n,n.h,e,void 0)).K=2,e.v=Wi(Xo(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=Yh(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xc(e)}FE(n)}function Zh(n){n.g&&(OE(n),n.g.cancel(),n.g=null)}function Su(n){Zh(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),wg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function m_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&vg(n)}function vg(n){a_(n.i)||n.m||(n.m=!0,Qp(n.Ha,n),n.C=0)}function wD(n,e){var t;t=e?e.m:n.V++;const r=Xo(n.F);nn(r,"SID",n.J),nn(r,"RID",t),nn(r,"AID",n.U),Bl(n,r),n.o&&n.s&&yg(r,n.o,n.s),t=new Jc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ID(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),fg(n.i,t),e_(t,r,e)}function Bl(n,e){n.j&&Cu({},function(t,r){nn(e,r,t)})}function ID(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Xr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=o[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let E=0;E<t;E++){let C=o[E].h;const x=o[E].g;if(C-=l,0>C)l=Math.max(0,o[E].h-100),m=!1;else try{pD(x,d,"req"+C+"_")}catch(N){r&&r(x)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function y_(n){n.g||n.u||(n.Y=1,Qp(n.Ga,n),n.A=0)}function Eg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ll(Xr(n.Ga,n),PE(n,n.A)),n.A++,0))}function OE(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Et(n){n.g=new Jc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Xo(n.oa);nn(e,"RID","rpc"),nn(e,"SID",n.J),nn(e,"CI",n.N?"0":"1"),nn(e,"AID",n.U),Bl(n,e),nn(e,"TYPE","xmlhttp"),n.o&&n.s&&yg(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Wi(Xo(e)),t.s=null,t.U=!0,mE(t,n)}function wg(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function kE(n,e){var t=null;if(n.g==e){wg(n),OE(n),n.g=null;var r=2}else{if(!hg(n.i,e))return;t=e.D,l_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Br(r=Vh(),new Ky(r,t,e,o)),vg(n)}else y_(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function ud(n,e){return!(u_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ll(Xr(n.Ha,n,e),PE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Eg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:ta(n,5);break;case 4:ta(n,10);break;case 3:ta(n,6);break;default:ta(n,2)}}function PE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ta(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Xr(n.jb,n);t||(t=new nd("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||rd(t,"https"),Wi(t)),function gD(n,e){const t=new Wy;if(Ot.Image){const r=new Image;r.onload=Gp(gg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Gp(gg,t,r,"TestLoadImage: error",!1,e),r.onabort=Gp(gg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gp(gg,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else mi(2);n.G=0,n.j&&n.j.va(e),FE(n),Su(n)}function FE(n){n.G=0,n.I=-1,n.j&&((0!=c_(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ml(n.l),n.l.length=0),n.j.ua())}function Kh(n,e,t){let r=function ho(n){return n instanceof nd?Xo(n):new nd(n,void 0)}(t);if(""!=r.i)e&&ys(r,e+"."+r.i),cg(r,r.m);else{const o=Ot.location;r=function bE(n,e,t,r){var o=new nd(null,void 0);return n&&rd(o,n),e&&ys(o,e),t&&cg(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&wu(n.aa,function(o,l){nn(r,l,o)}),t=n.sa,(e=n.D)&&t&&nn(r,e,t),nn(r,"VER",n.ma),Bl(n,r),r}function Yh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mr(t&&n.Ba&&!n.qa?new Gh({ib:!0}):n.qa)).L=n.H,e}function qn(){}function __(){if(Pl&&!(10<=Number(tD)))throw Error("Environmental error: no available transport.")}function qi(n,e){Ur.call(this),this.g=new g_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Cr(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cr(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new jl(this)}function LE(n){ig.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function VE(){sg.call(this),this.status=1}function jl(n){this.g=n}(tt=mr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():og.g(),this.C=function pE(n){return n.h||(n.h=n.i())}(this.u?this.u:og),this.g.onreadystatechange=Xr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void xE(this,l)}n=t||"";const o=new td(this.headers);r&&Cu(r,function(l,d){o.set(d,l)}),r=function Oy(n){e:{var e=ED;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=K0(_D,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{f_(this),0<this.B&&((this.K=function vD(n){return Pl&&function eD(){return function qc(n){var e=J0;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Eu(String(Rh)).split("."),t=Eu("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",l=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=zi(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||zi(0==o[2].length,0==l[2].length)||zi(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xr(this.pa,this)):this.A=eg(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){xE(this,l)}},tt.pa=function(){void 0!==xy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Br(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Br(this,"complete"),Br(this,"abort"),qh(this))},tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qh(this,!0)),mr.Z.M.call(this)},tt.Fa=function(){this.s||(this.F||this.v||this.l?h_(this):this.cb())},tt.cb=function(){h_(this)},tt.ba=function(){try{return 2<ea(this)?this.g.status:-1}catch(n){return-1}},tt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},tt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mD(e)}},tt.Da=function(){return this.m},tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=g_.prototype).ma=8,tt.G=1,tt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},tt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Jc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Nl(l),kl(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ID(this,o,e),nn(t=Xo(this.F),"RID",n),nn(t,"CVER",22),this.D&&nn(t,"X-HTTP-Session-Id",this.D),Bl(this,t),this.o&&l&&yg(t,this.o,l),fg(this.i,o),this.Ra&&nn(t,"TYPE","init"),this.ja?(nn(t,"$req",e),nn(t,"SID","null"),o.$=!0,e_(o,t,null)):e_(o,t,e),this.G=2}}else 3==this.G&&(n?wD(this,n):0==this.l.length||a_(this.i)||wD(this))},tt.Ga=function(){if(this.u=null,Et(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ll(Xr(this.bb,this),n)}},tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mi(10),Zh(this),Et(this))},tt.ab=function(){null!=this.v&&(this.v=null,Zh(this),Eg(this),mi(19))},tt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),mi(2)):(this.h.info("Failed to ping google.com"),mi(1))},(tt=qn.prototype).xa=function(){},tt.wa=function(){},tt.va=function(){},tt.ua=function(){},tt.Oa=function(){},__.prototype.g=function(n,e){return new qi(n,e)},gr(qi,Ur),qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Qp(Xr(n.hb,n,e))),mi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Kh(n,null,n.W),vg(n)},qi.prototype.close=function(){_g(this.g)},qi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,m_(this.g,e)}else this.v?((e={}).__data__=$y(n),m_(this.g,e)):m_(this.g,n)},qi.prototype.M=function(){this.g.j=null,delete this.j,_g(this.g),delete this.g,qi.Z.M.call(this)},gr(LE,ig),gr(VE,sg),gr(jl,qn),jl.prototype.xa=function(){Br(this.g,"a")},jl.prototype.wa=function(n){Br(this.g,new LE(n))},jl.prototype.va=function(n){Br(this.g,new VE(n))},jl.prototype.ua=function(){Br(this.g,"b")},__.prototype.createWebChannel=__.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,Uh.NO_ERROR=0,Uh.TIMEOUT=8,Uh.HTTP_ERROR=6,fE.COMPLETE="complete",Qy.EventType=Vl,Vl.OPEN="a",Vl.CLOSE="b",Vl.ERROR="c",Vl.MESSAGE="d",Ur.prototype.listen=Ur.prototype.N,mr.prototype.listenOnce=mr.prototype.O,mr.prototype.getLastError=mr.prototype.La,mr.prototype.getLastErrorCode=mr.prototype.Da,mr.prototype.getStatus=mr.prototype.ba,mr.prototype.getResponseJson=mr.prototype.Qa,mr.prototype.getResponseText=mr.prototype.ga,mr.prototype.send=mr.prototype.ea;var UE=Jo.createWebChannelTransport=function(){return new __},BE=Jo.getStatEventTarget=function(){return Vh()},Ig=Jo.ErrorCode=Uh,bD=Jo.EventType=fE,DD=Jo.Event=Na,jE=Jo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qh=Jo.FetchXmlHttpFactory=Gh,bg=Jo.WebChannel=Qy,CD=Jo.XhrIo=mr;const $E="@firebase/firestore";class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let $l="9.6.10";const Oa=new Sl.Yd("@firebase/firestore");function Dg(){return Oa.logLevel}function ke(n,...e){if(Oa.logLevel<=Sl.in.DEBUG){const t=e.map(v_);Oa.debug(`Firestore (${$l}): ${n}`,...t)}}function $n(n,...e){if(Oa.logLevel<=Sl.in.ERROR){const t=e.map(v_);Oa.error(`Firestore (${$l}): ${n}`,...t)}}function Jh(n,...e){if(Oa.logLevel<=Sl.in.WARN){const t=e.map(v_);Oa.warn(`Firestore (${$l}): ${n}`,...t)}}function v_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+n;throw $n(e),new Error(e)}function Ct(n,e){n||rt()}function Ze(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class GE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yr.UNAUTHENTICATED))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let d=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new jr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=d;e.enqueueRetryable((0,we.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},E=C=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>E(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?E(C):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new jr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new GE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new yr(e)}}class gA{constructor(e,t,r){this.type="FirstParty",this.user=yr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class zE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new gA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,ke("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.p=t.token,new Xh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Zi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function ef(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Zi.A=-1;class WE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=ef(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function ld(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function qE(n){return n+"\0"}class ur{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ur.fromMillis(Date.now())}static fromDate(e){return ur.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ur(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new ur(0,0))}static max(){return new bt(new ur(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ZE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Gl(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tf{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===tf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yt extends tf{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const SD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends tf{construct(e,t,r){return new Ar(e,t,r)}static isValidIdentifier(e){return SD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Re(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Re(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Re(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(l(),o++)}if(l(),d)throw new Re(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ar(t)}static emptyPath(){return new Ar([])}}class cd{constructor(e){this.fields=e,e.sort(Ar.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ld(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Sr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const E_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mu(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=E_.exec(n);if(Ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(n.seconds),nanos:Zn(n.nanos)}}function Zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xu(n){return"string"==typeof n?Sr.fromBase64String(n):Sr.fromUint8Array(n)}function w_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function YE(n){const e=n.mapValue.fields.__previous_value__;return w_(e)?YE(e):e}function nf(n){const e=Mu(n.mapValue.fields.__local_write_time__.timestampValue);return new ur(e.seconds,e.nanos)}class I_{constructor(e,t,r,o,l,d,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class ka{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}function Ru(n){return null==n}function rf(n){return 0===n&&1/n==-1/0}function QE(n){return"number"==typeof n&&Number.isInteger(n)&&!rf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(Yt.fromString(e))}static fromName(e){return new He(Yt.fromString(e).popFirst(5))}static empty(){return new He(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Yt(e.slice()))}}const JE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},XE={nullValue:"NULL_VALUE"};function zl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?w_(n)?4:Tg(n)?9:10:rt()}function na(n,e){if(n===e)return!0;const t=zl(n);if(t!==zl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nf(n).isEqual(nf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Mu(r.timestampValue),d=Mu(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,xu(n.bytesValue).isEqual(xu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Zn(r.geoPointValue.latitude)===Zn(o.geoPointValue.latitude)&&Zn(r.geoPointValue.longitude)===Zn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Zn(r.integerValue)===Zn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Zn(r.doubleValue),d=Zn(o.doubleValue);return l===d?rf(l)===rf(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return ld(n.arrayValue.values||[],e.arrayValue.values||[],na);case 10:return function(r,o){const l=r.mapValue.fields||{},d=o.mapValue.fields||{};if(ZE(l)!==ZE(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!na(l[m],d[m])))return!1;return!0}(n,e);default:return rt()}var o}function sf(n,e){return void 0!==(n.values||[]).find(t=>na(t,e))}function Pa(n,e){if(n===e)return 0;const t=zl(n),r=zl(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(o,l){const d=Zn(o.integerValue||o.doubleValue),m=Zn(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return b_(n.timestampValue,e.timestampValue);case 4:return b_(nf(n),nf(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(o,l){const d=xu(o),m=xu(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const d=o.split("/"),m=l.split("/");for(let E=0;E<d.length&&E<m.length;E++){const C=Ht(d[E],m[E]);if(0!==C)return C}return Ht(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const d=Ht(Zn(o.latitude),Zn(l.latitude));return 0!==d?d:Ht(Zn(o.longitude),Zn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const d=o.values||[],m=l.values||[];for(let E=0;E<d.length&&E<m.length;++E){const C=Pa(d[E],m[E]);if(C)return C}return Ht(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const d=o.fields||{},m=Object.keys(d),E=l.fields||{},C=Object.keys(E);m.sort(),C.sort();for(let x=0;x<m.length&&x<C.length;++x){const N=Ht(m[x],C[x]);if(0!==N)return N;const q=Pa(d[m[x]],E[C[x]]);if(0!==q)return q}return Ht(m.length,C.length)}(n.mapValue,e.mapValue);default:throw rt()}}function b_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=Mu(n),r=Mu(e),o=Ht(t.seconds,r.seconds);return 0!==o?o:Ht(t.nanos,r.nanos)}function dd(n){return D_(n)}function D_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Mu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xu(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const d of r.values||[])l?l=!1:o+=",",o+=D_(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of o)d?d=!1:l+=",",l+=`${m}:${D_(r.fields[m])}`;return l+"}"}(n.mapValue):rt();var e}function Wl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function C_(n){return!!n&&"integerValue"in n}function of(n){return!!n&&"arrayValue"in n}function ew(n){return!!n&&"nullValue"in n}function Cg(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hd(n){return!!n&&"mapValue"in n}function fd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=fd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Tg(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tw(n,e){return void 0===n?e:void 0===e||Pa(n,e)>0?n:e}function nw(n,e){return void 0===n?e:void 0===e||Pa(n,e)<0?n:e}class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(t)}setAll(e){let t=Ar.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=fd(d):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];hd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Hl(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new $r(fd(this.value))}}function rw(n){const e=[];return Hl(n.fields,(t,r)=>{const o=new Ar([t]);if(hd(r)){const l=rw(r.mapValue).fields;if(0===l.length)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new cd(e)}class Sn{constructor(e,t,r,o,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Sn(e,0,bt.min(),bt.min(),$r.empty(),0)}static newFoundDocument(e,t,r){return new Sn(e,1,t,bt.min(),r,0)}static newNoDocument(e,t){return new Sn(e,2,t,bt.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,bt.min(),$r.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ag{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Sg(n){return n.fields.find(e=>2===e.kind)}function pd(n){return n.fields.filter(e=>2!==e.kind)}Ag.UNKNOWN_ID=-1;class af{constructor(e,t){this.fieldPath=e,this.kind=t}}class Mg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Mg(0,Fa.min())}}function iw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(1e9===r?new ur(t+1,0):new ur(t,r));return new Fa(o,He.empty(),e)}function xg(n){return new Fa(n.readTime,n.key,-1)}class Fa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fa(bt.min(),He.empty(),-1)}static max(){return new Fa(bt.max(),He.empty(),-1)}}function gd(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}class uf{constructor(e,t=null,r=[],o=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=m,this.P=null}}function sw(n,e=null,t=[],r=[],o=null,l=null,d=null){return new uf(n,e,t,r,o,l,d)}function md(n){const e=Ze(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+dd(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Ru(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dd(r)).join(",")),e.P=t}return e.P}function lf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!A_(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!na(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xD(n.startAt,e.startAt)&&xD(n.endAt,e.endAt)}function Rg(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ng(n,e){return n.filters.filter(t=>t instanceof ni&&t.field.isEqual(e))}class ni extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new aw(e,t,r):"array-contains"===t?new df(e,r):"in"===t?new MD(e,r):"not-in"===t?new lw(e,r):"array-contains-any"===t?new cw(e,r):new ni(e,t,r)}static V(e,t,r){return"in"===t?new uw(e,r):new T_(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Pa(t,this.value)):null!==t&&zl(this.value)===zl(t)&&this.v(Pa(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aw extends ni{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.v(t)}}class uw extends ni{constructor(e,t){super(e,"in",t),this.keys=cf(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class T_ extends ni{constructor(e,t){super(e,"not-in",t),this.keys=cf(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cf(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class df extends ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return of(t)&&sf(t.arrayValue,this.value)}}class MD extends ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sf(this.value.arrayValue,t)}}class lw extends ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(sf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sf(this.value.arrayValue,t)}}class cw extends ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!of(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sf(this.value.arrayValue,r))}}class Nu{constructor(e,t){this.position=e,this.inclusive=t}}class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function A_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function dw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(r=l.field.isKeyField()?He.comparator(He.fromName(d.referenceValue),t.key):Pa(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function xD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!na(n.position[t],e.position[t]))return!1;return!0}class La{constructor(e,t=null,r=[],o=[],l=null,d="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function hw(n,e,t,r,o,l,d,m){return new La(n,e,t,r,o,l,d,m)}function fo(n){return new La(n)}function hf(n){return!Ru(n.limit)&&"F"===n.limitType}function Va(n){return!Ru(n.limit)&&"L"===n.limitType}function fw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Og(n){for(const e of n.filters)if(e.S())return e.field;return null}function S_(n){return null!==n.collectionGroup}function ff(n){const e=Ze(n);if(null===e.D){e.D=[];const t=Og(e),r=fw(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new yd(t)),e.D.push(new yd(Ar.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new yd(Ar.keyField(),l))}}}return e.D}function _s(n){const e=Ze(n);if(!e.C)if("F"===e.limitType)e.C=sw(e.path,e.collectionGroup,ff(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of ff(e))t.push(new yd(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Nu(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Nu(e.startAt.position,!e.startAt.inclusive):null;e.C=sw(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function RD(n,e,t){return new La(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _d(n,e){return lf(_s(n),_s(e))&&n.limitType===e.limitType}function kg(n){return`${md(_s(n))}|lt:${n.limitType}`}function M_(n){return`Query(target=${function ow(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${dd(r.value)}`;var r}).join(", ")}]`),Ru(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>dd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>dd(t)).join(",")),`Target(${e})`}(_s(n))}; limitType=${n.limitType})`}function Pg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):He.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,d){const m=dw(o,l,d);return o.inclusive?m<=0:m<0}(t.startAt,ff(t),r)||t.endAt&&!function(o,l,d){const m=dw(o,l,d);return o.inclusive?m>=0:m>0}(t.endAt,ff(t),r)));var t,r}function pw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gw(n){return(e,t)=>{let r=!1;for(const o of ff(n)){const l=ND(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function ND(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(o,l,d){const m=l.data.field(o),E=d.data.field(o);return null!==m&&null!==E?Pa(m,E):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function mw(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function yw(n){return{integerValue:""+n}}function _w(n,e){return QE(e)?yw(e):mw(n,e)}class Fg{constructor(){this._=void 0}}function OD(n,e,t){return n instanceof ql?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Ou?R_(n,e):n instanceof ku?N_(n,e):function(r,o){const l=x_(r,o),d=O_(l)+O_(r.k);return C_(l)&&C_(r.k)?yw(d):mw(r.M,d)}(n,e)}function pf(n,e,t){return n instanceof Ou?R_(n,e):n instanceof ku?N_(n,e):t}function x_(n,e){return n instanceof vd?C_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ql extends Fg{}class Ou extends Fg{constructor(e){super(),this.elements=e}}function R_(n,e){const t=k_(e);for(const r of n.elements)t.some(o=>na(o,r))||t.push(r);return{arrayValue:{values:t}}}class ku extends Fg{constructor(e){super(),this.elements=e}}function N_(n,e){let t=k_(e);for(const r of n.elements)t=t.filter(o=>!na(o,r));return{arrayValue:{values:t}}}class vd extends Fg{constructor(e,t){super(),this.M=e,this.k=t}}function O_(n){return Zn(n.integerValue||n.doubleValue)}function k_(n){return of(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gf{constructor(e,t){this.field=e,this.transform=t}}class PD{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ed{}function ra(n,e,t){n instanceof mf?function(r,o,l){const d=r.value.clone(),m=_f(r.fieldTransforms,o,l.transformResults);d.setAll(m),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Zl?function(r,o,l){if(!Lg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const d=_f(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(yf(r)),m.setAll(d),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function P_(n,e,t){var o;n instanceof mf?function(r,o,l){if(!Lg(r.precondition,o))return;const d=r.value.clone(),m=Ew(r.fieldTransforms,l,o);d.setAll(m),o.convertToFoundDocument(vw(o),d).setHasLocalMutations()}(n,e,t):n instanceof Zl?function(r,o,l){if(!Lg(r.precondition,o))return;const d=Ew(r.fieldTransforms,l,o),m=o.data;m.setAll(yf(r)),m.setAll(d),o.convertToFoundDocument(vw(o),m).setHasLocalMutations()}(n,e,t):Lg(n.precondition,o=e)&&o.convertToNoDocument(bt.min())}function F_(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=x_(r.transform,o||null);null!=l&&(null==t&&(t=$r.empty()),t.set(r.field,l))}return t||null}function wd(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ld(t,r,(o,l)=>function kD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ou&&r instanceof Ou||t instanceof ku&&r instanceof ku?ld(t.elements,r.elements,na):t instanceof vd&&r instanceof vd?na(t.k,r.k):t instanceof ql&&r instanceof ql);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function vw(n){return n.isFoundDocument()?n.version:bt.min()}class mf extends Ed{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Zl extends Ed{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function yf(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _f(n,e,t){const r=new Map;Ct(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,m=e.data.field(l.field);r.set(l.field,pf(d,m,t[o]))}return r}function Ew(n,e,t){const r=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);r.set(o.field,OD(l,d,e))}return r}class vf extends Ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Vg extends Ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ww{constructor(e){this.count=e}}var tr,Qt;function Iw(n){switch(n){default:return rt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function bw(n){if(void 0===n)return $n("GRPC error has no .code"),le.UNKNOWN;switch(n){case tr.OK:return le.OK;case tr.CANCELLED:return le.CANCELLED;case tr.UNKNOWN:return le.UNKNOWN;case tr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case tr.INTERNAL:return le.INTERNAL;case tr.UNAVAILABLE:return le.UNAVAILABLE;case tr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case tr.NOT_FOUND:return le.NOT_FOUND;case tr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case tr.ABORTED:return le.ABORTED;case tr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case tr.DATA_LOSS:return le.DATA_LOSS;default:return rt()}}(Qt=tr||(tr={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class Kl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return Gl(this.inner)}size(){return this.innerSize}}class Kn{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new Kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:Hr.RED,this.left=null!=o?o:Hr.EMPTY,this.right=null!=l?l:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Hr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Hr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Hr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ug(this.data.getIterator())}getIteratorFrom(e){return new Ug(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class Ug{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bd(n){return n.hasNext()?n.getNext():void 0}const FD=new Kn(He.comparator);function Us(){return FD}const LD=new Kn(He.comparator);function Bg(){return LD}function Yl(){return new Kl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Dw=new Kn(He.comparator),VD=new In(He.comparator);function fn(...n){let e=VD;for(const t of n)e=e.add(t);return e}const Cw=new In(Ht);function jg(){return Cw}class Dd{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Dd(bt.min(),r,jg(),Us(),fn())}}class Cd{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Cd(Sr.EMPTY_BYTE_STRING,t,fn(),fn(),fn())}}class $g{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class L_{constructor(e,t){this.targetId=e,this.$=t}}class Tw{constructor(e,t,r=Sr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class yi{constructor(){this.B=0,this.L=Sw(),this.U=Sr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=fn(),t=fn(),r=fn();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:rt()}}),new Cd(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=Sw()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Td{constructor(e){this.nt=e,this.st=new Map,this.it=Us(),this.rt=Aw(),this.ot=new In(Ht)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const l=o.target;if(Rg(l))if(0===r){const d=new He(l.path);this.ct(t,d,Sn.newNoDocument(d,bt.min()))}else Ct(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const m=this.wt(d);if(m){if(l.current&&Rg(m.target)){const E=new He(m.target.path);null!==this.it.get(E)||this.It(d,E)||this.ct(d,E,Sn.newNoDocument(E,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=fn();this.rt.forEach((l,d)=>{let m=!0;d.forEachWhile(E=>{const C=this.wt(E);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const o=new Dd(e,t,this.ot,this.it,r);return this.it=Us(),this.rt=Aw(),this.ot=new In(Ht),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new yi,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new In(Ht),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new yi),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Aw(){return new Kn(He.comparator)}function Sw(){return new Kn(He.comparator)}const yA={asc:"ASCENDING",desc:"DESCENDING"},Ef={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class UD{constructor(e,t){this.databaseId=e,this.N=t}}function Ql(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mw(n,e){return n.N?e.toBase64():e.toUint8Array()}function xw(n,e){return Ql(n,e.toTimestamp())}function Gr(n){return Ct(!!n),bt.fromTimestamp(function(e){const t=Mu(e);return new ur(t.seconds,t.nanos)}(n))}function V_(n,e){return(t=n,new Yt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Hg(n){const e=Yt.fromString(n);return Ct(H_(e)),e}function Ad(n,e){return V_(n.databaseId,e.path)}function po(n,e){const t=Hg(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(U_(t))}function Sd(n,e){return V_(n.databaseId,e)}function Gg(n){const e=Hg(n);return 4===e.length?Yt.emptyPath():U_(e)}function zg(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U_(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Rw(n,e,t){return{name:Ad(n,e),fields:t.value.mapValue.fields}}function B_(n,e,t){const r=po(n,e.name),o=Gr(e.updateTime),l=new $r({mapValue:{fields:e.fields}}),d=Sn.newFoundDocument(r,o,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function wf(n,e){let t;if(e instanceof mf)t={update:Rw(n,e.key,e.value)};else if(e instanceof vf)t={delete:Ad(n,e.key)};else if(e instanceof Zl)t={update:Rw(n,e.key,e.data),updateMask:HD(e.fieldMask)};else{if(!(e instanceof Vg))return rt();t={verify:Ad(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const d=l.transform;if(d instanceof ql)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ou)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ku)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vd)return{fieldPath:l.field.canonicalString(),increment:d.k};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:xw(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:rt()),t;var o}function If(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Hn.updateTime(Gr(o.updateTime)):void 0!==o.exists?Hn.exists(o.exists):Hn.none():Hn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,d){let m=null;"setToServerValue"in d?(Ct("REQUEST_TIME"===d.setToServerValue),m=new ql):"appendMissingElements"in d?m=new Ou(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new ku(d.removeAllFromArray.values||[]):"increment"in d?m=new vd(l,d.increment):rt();const E=Ar.fromServerFormat(d.fieldPath);return new gf(E,m)}(n,o)):[];var o;if(e.update){const o=po(n,e.update.name),l=new $r({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new cd((e.updateMask.fieldPaths||[]).map(C=>Ar.fromServerFormat(C)));return new Zl(o,l,d,t,r)}return new mf(o,l,t,r)}if(e.delete){const o=po(n,e.delete);return new vf(o,t)}if(e.verify){const o=po(n,e.verify);return new Vg(o,t)}return rt()}function BD(n,e){return{documents:[Sd(n,e.path)]}}function Ow(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Sd(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Sd(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const C=E.map(x=>function(N){if("=="===N.op){if(Cg(N.value))return{unaryFilter:{field:Jl(N.field),op:"IS_NAN"}};if(ew(N.value))return{unaryFilter:{field:Jl(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(Cg(N.value))return{unaryFilter:{field:Jl(N.field),op:"IS_NOT_NAN"}};if(ew(N.value))return{unaryFilter:{field:Jl(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(N.field),op:Fw(N.op),value:N.value}}}(x));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(E){if(0!==E.length)return E.map(C=>{return{field:Jl((x=C).field),direction:jD(x.dir)};var x})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(C=e.limit,n.N||Ru(C)?C:{value:C});var C,m,E;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function kw(n){let e=Gg(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ct(1===r);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=$_(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(x=>{return new yd(Md((N=x).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(x){let N;return N="object"==typeof x?x.value:x,Ru(N)?null:N}(t.limit));let E=null;var x;t.startAt&&(E=new Nu((x=t.startAt).values||[],!!x.before));let C=null;return t.endAt&&(C=function(x){return new Nu(x.values||[],!x.before)}(t.endAt)),hw(e,o,d,l,m,"F",E,C)}function $_(n){return n?void 0!==n.unaryFilter?[Lw(n)]:void 0!==n.fieldFilter?[$D(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>$_(e)).reduce((e,t)=>e.concat(t)):rt():[]}function jD(n){return yA[n]}function Fw(n){return Ef[n]}function Jl(n){return{fieldPath:n.canonicalString()}}function Md(n){return Ar.fromServerFormat(n.fieldPath)}function $D(n){return ni.create(Md(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Lw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Md(n.unaryFilter.field);return ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Md(n.unaryFilter.field);return ni.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Md(n.unaryFilter.field);return ni.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Md(n.unaryFilter.field);return ni.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function HD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function H_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Mr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=G_(e)),e=Vw(n.get(t),e);return G_(e)}function Vw(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function G_(n){return n+"\x01\x01"}function go(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Yt.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&rt(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(l,d),o+="\0";break;case"\x11":o+=n.substring(l,d+1);break;default:rt()}l=d+2}return new Yt(r)}const Uw=["userId","batchId"];function z_(n,e){return[n,Mr(e)]}function W_(n,e,t){return[n,Mr(e),t]}const _A={},vA=["prefixPath","collectionGroup","readTime","documentId"],EA=["prefixPath","collectionGroup","documentId"],wA=["collectionGroup","readTime","prefixPath","documentId"],IA=["canonicalId","targetId"],bA=["targetId","path"],DA=["path","targetId"],CA=["collectionId","parent"],qg=["indexId","uid"],TA=["uid","sequenceNumber"],Bw=["indexId","uid","arrayValue","directionalValue","documentKey"],q_=["indexId","uid","documentKey"],jw=["userId","collectionPath","documentId"],$w=["userId","collectionPath","largestBatchId"],AA=["userId","collectionGroup","largestBatchId"],Zg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hw=[...Zg,"documentOverlays"],Z_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gw=[...Z_,"indexConfiguration","indexState","indexEntries"],GD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let o=0,l=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++l,d&&l===o&&t()},E=>r(E))}),d=!0,l===o&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(o=>o?ge.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class xd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new jr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Kg(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=Ww(r.target.error);this.At.reject(new Kg(e,o))}}static open(e,t,r,o){try{return new xd(t,e.transaction(o,r))}catch(l){throw new Kg(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zD(t)}}class mo{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===mo.Vt((0,Gt.z$)())&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),Xl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Gt.hl)())return!1;if(mo.St())return!0;const e=(0,Gt.z$)(),t=mo.Vt(e),r=0<t&&t<10,o=mo.Dt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{o(new Kg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Re(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Re(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Kg(e,m))},l.onupgradeneeded=d=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,we.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const E=xd.open(l.db,e,d?"readonly":"readwrite",r),C=o(E).next(x=>(E.bt(),x)).catch(x=>(E.abort(x),ge.reject(x))).toPromise();return C.catch(()=>{}),yield E.Rt,C}catch(E){const C="FirebaseError"!==E.name&&m<3;if(ke("SimpleDb","Transaction failed with error:",E.message,"Retrying:",C),l.close(),!C)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class SA{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Xl(this.Ft.delete())}}class Kg extends Re{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rd(n){return"IndexedDbTransactionError"===n.name}class zD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xl(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),Xl(this.store.add(e))}get(e){return Xl(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),Xl(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),Xl(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.Gt(o,(d,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new ge((l,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ge((o,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Qt(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(l,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new ge((r,o)=>{t.onerror=l=>{const d=Ww(l.target.error);o(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Gt(e,t){const r=[];return new ge((o,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const E=new SA(m),C=t(m.primaryKey,m.value,E);if(C instanceof ge){const x=C.catch(N=>(E.done(),ge.reject(N)));r.push(x)}E.isDone?o():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xl(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Ww(r.target.error);t(o)}})}let zw=!1;function Ww(n){const e=mo.Vt((0,Gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zw||(zw=!0,setTimeout(()=>{throw r},0)),r}}return n}class qw extends K_{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function _r(n,e){const t=Ze(n);return mo.xt(t.Ht,e)}class Y_{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ra(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&P_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&P_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(bt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&ld(this.mutations,e.mutations,(t,r)=>wd(t,r))&&ld(this.baseMutations,e.baseMutations,(t,r)=>wd(t,r))}}class vs{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ct(e.mutations.length===r.length);let o=Dw;const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new vs(e,t,r,o)}}class Q_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ia{constructor(e,t,r,o,l=bt.min(),d=bt.min(),m=Sr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Zw{constructor(e){this.Jt=e}}function Yg(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:bf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ad(o=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Ql(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Pu(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:Pu(e.version)}}var o,l;return r}function bf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Pu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ec(n){const e=new ur(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function tc(n,e){const t=(e.baseMutations||[]).map(l=>If(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>If(n.Jt,l)),o=ur.fromMillis(e.localWriteTimeMs);return new Y_(e.batchId,o,t,r)}function Nd(n){const e=ec(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ec(n.lastLimboFreeSnapshotVersion):bt.min();let r;var o;return void 0!==n.query.documents?(Ct(1===(o=n.query).documents.length),r=_s(fo(Gg(o.documents[0])))):r=_s(kw(n.query)),new ia(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Sr.fromBase64String(n.resumeToken))}function Kw(n,e){const t=Pu(e.snapshotVersion),r=Pu(e.lastLimboFreeSnapshotVersion);let o;o=Rg(e.target)?BD(n.Jt,e.target):Ow(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:md(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function J_(n){const e=kw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?RD(e,e.limit,"L"):e}function Df(n,e){return new Q_(e.largestBatchId,If(n.Jt,e.overlayMutation))}function Bs(n,e){const t=e.path.lastSegment();return[n,Mr(e.path.popLast()),t]}class qD{getBundleMetadata(e,t){return ZD(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:ec(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return ZD(e).put({bundleId:(r=t).id,createTime:Pu(Gr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Yw(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:J_(o.bundledQuery),readTime:ec(o.readTime)};var o})}saveNamedQuery(e,t){return Yw(e).put({name:(r=t).name,readTime:Pu(Gr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ZD(n){return _r(n,"bundles")}function Yw(n){return _r(n,"namedQueries")}class Qg{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Qg(e,t.uid||"")}getOverlay(e,t){return Cf(e).get(Bs(this.userId,t)).next(r=>r?Df(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((l,d)=>{const m=new Q_(t,d);o.push(this.Xt(e,m))}),ge.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Mr(d.getCollectionPath())));const l=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Cf(e).Qt("collectionPathOverlayIndex",m))}),ge.waitFor(l)}getOverlaysForCollection(e,t,r){const o=Yl(),l=Mr(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Cf(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const E of m){const C=Df(this.M,E);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=Yl();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cf(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,C,x)=>{const N=Df(this.M,C);l.size()<o||N.largestBatchId===d?(l.set(N.getKey(),N),d=N.largestBatchId):x.done()}).next(()=>l)}Xt(e,t){return Cf(e).put(function(r,o,l){const[d,m,E]=Bs(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:wf(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Cf(n){return _r(n,"documentOverlays")}class Od{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Zn(e.integerValue));else if("doubleValue"in e){const r=Zn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),rf(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(xu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Tg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):rt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),He.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Qw(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Jw(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=Qw(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Od.fe=new Od;class MA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=Jw(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=Jw(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Xw{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class eI{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Jg{constructor(){this.De=new MA,this.Ce=new Xw(this.De),this.xe=new eI(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Fu{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fu(this.indexId,this.documentKey,this.arrayValue,r)}}function Lu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Xg(n.arrayValue,e.arrayValue),0!==t?t:(t=Xg(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function Xg(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class X_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Sg(e);if(void 0!==t&&!this.Be(t))return!1;const r=pd(e);let o=0,l=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const d=r[o];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class tI{constructor(){this.qe=new ev}addToCollectionParentIndex(e,t){return this.qe.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getFieldIndex(e,t){return ge.resolve(null)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class ev{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new In(Yt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new In(Yt.comparator)).toArray()}}const Tf=new Uint8Array(0);class nI{constructor(e){this.user=e,this.Ge=new ev,this.Ke=new Kl(t=>md(t),(t,r)=>lf(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const l={collectionId:r,parent:Mr(o)};return rI(e).put(l)}return ge.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[qE(t),""],!1,!0);return rI(e).qt(o).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(go(d.parent))}return r})}addFieldIndex(e,t){const r=tv(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=tv(e),o=nv(e),l=Af(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Af(e);let o=!0;const l=new Map;return ge.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(m=>{o&&(o=!!m),l.set(d,m)})).next(()=>{if(o){let d=fn();return ge.forEach(l,(m,E)=>{var C;ke("IndexedDbIndexManager",`Using index ${C=m,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(yt=>`${yt.fieldPath}:${yt.kind}`).join(",")}`} to execute ${md(t)}`);const x=function(yt,Mn){const At=Sg(Mn);if(void 0===At)return null;for(const zt of Ng(yt,At.fieldPath))switch(zt.op){case"array-contains-any":return zt.value.arrayValue.values||[];case"array-contains":return[zt.value]}return null}(E,m),N=function(yt,Mn){const At=new Map;for(const zt of pd(Mn))for(const Wt of Ng(yt,zt.fieldPath))switch(Wt.op){case"==":case"in":At.set(zt.fieldPath.canonicalString(),Wt.value);break;case"not-in":case"!=":return At.set(zt.fieldPath.canonicalString(),Wt.value),Array.from(At.values())}return null}(E,m),q=function(yt,Mn){const At=[];let zt=!0;for(const ju of pd(Mn)){let yo,Hf=!0;for(const ri of Ng(yt,ju.fieldPath)){let lr,Im=!0;switch(ri.op){case"<":case"<=":lr="nullValue"in(Wt=ri.value)?XE:"booleanValue"in Wt?{booleanValue:!1}:"integerValue"in Wt||"doubleValue"in Wt?{doubleValue:NaN}:"timestampValue"in Wt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Wt?{stringValue:""}:"bytesValue"in Wt?{bytesValue:""}:"referenceValue"in Wt?Wl(ka.empty(),He.empty()):"geoPointValue"in Wt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Wt?{arrayValue:{}}:"mapValue"in Wt?{mapValue:{}}:rt();break;case"==":case"in":case">=":lr=ri.value;break;case">":lr=ri.value,Im=!1;break;case"!=":case"not-in":lr=XE}tw(yo,lr)===lr&&(yo=lr,Hf=Im)}if(null!==yt.startAt)for(let ri=0;ri<yt.orderBy.length;++ri)if(yt.orderBy[ri].field.isEqual(ju.fieldPath)){const lr=yt.startAt.position[ri];tw(yo,lr)===lr&&(yo=lr,Hf=yt.startAt.inclusive);break}if(void 0===yo)return null;At.push(yo),zt&&(zt=Hf)}var Wt;return new Nu(At,zt)}(E,m),J=function(yt,Mn){const At=[];let zt=!0;for(const ju of pd(Mn)){let yo,Hf=!0;for(const ri of Ng(yt,ju.fieldPath)){let lr,Im=!0;switch(ri.op){case">=":case">":lr="nullValue"in(Wt=ri.value)?{booleanValue:!1}:"booleanValue"in Wt?{doubleValue:NaN}:"integerValue"in Wt||"doubleValue"in Wt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Wt?{stringValue:""}:"stringValue"in Wt?{bytesValue:""}:"bytesValue"in Wt?Wl(ka.empty(),He.empty()):"referenceValue"in Wt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Wt?{arrayValue:{}}:"arrayValue"in Wt?{mapValue:{}}:"mapValue"in Wt?JE:rt(),Im=!1;break;case"==":case"in":case"<=":lr=ri.value;break;case"<":lr=ri.value,Im=!1;break;case"!=":case"not-in":lr=JE}nw(yo,lr)===lr&&(yo=lr,Hf=Im)}if(null!==yt.endAt)for(let ri=0;ri<yt.orderBy.length;++ri)if(yt.orderBy[ri].field.isEqual(ju.fieldPath)){const lr=yt.endAt.position[ri];nw(yo,lr)===lr&&(yo=lr,Hf=yt.endAt.inclusive);break}if(void 0===yo)return null;At.push(yo),zt&&(zt=Hf)}var Wt;return new Nu(At,zt)}(E,m),ye=this.je(m,E,q),Be=this.je(m,E,J),it=this.We(m,E,N),Jt=this.ze(m.indexId,x,ye,!!q&&q.inclusive,Be,!!J&&J.inclusive,it);return ge.forEach(Jt,yt=>r.Kt(yt,t.limit).next(Mn=>{Mn.forEach(At=>{d=d.add(new He(go(At.documentKey)))})}))}).next(()=>d)}return ge.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,l,d,m){const E=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=l?l.length:1),C=E/(null!=t?t.length:1),x=[];for(let N=0;N<E;++N){const q=t?this.He(t[N/C]):Tf,J=r?this.Je(e,q,r[N%C],o):this.Ye(e),ye=l?this.Xe(e,q,l[N%C],d):this.Ye(e+1);x.push(...this.createRange(J,ye,m.map(Be=>this.Je(e,q,Be,!0))))}return x}Je(e,t,r,o){const l=new Fu(e,He.empty(),t,r);return o?l:l.ke()}Xe(e,t,r,o){const l=new Fu(e,He.empty(),t,r);return o?l.ke():l}Ye(e){return new Fu(e,He.empty(),Tf,Tf)}getFieldIndex(e,t){const r=new X_(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{const d=l.filter(m=>r.$e(m));return d.sort((m,E)=>E.fields.length-m.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new Jg;for(const o of pd(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const d=r.Ne(o.kind);Od.fe.Zt(l,d)}return r.Se()}He(e){const t=new Jg;return Od.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new Jg);let l=0;for(const d of pd(e)){const m=r[l++];for(const E of o)if(this.tn(t,d.fieldPath)&&of(m))o=this.en(o,d,m);else{const C=E.Ne(d.kind);Od.fe.Zt(m,C)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of o){const E=new Jg;E.seed(m.Se()),Od.fe.Zt(d,E.Ne(t.kind)),l.push(E)}return l}tn(e,t){return!!e.filters.find(r=>r instanceof ni&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=tv(e),o=nv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return ge.forEach(l,m=>o.get([m.indexId,this.uid]).next(E=>{d.push(function(C,x){const N=x?new Mg(x.sequenceNumber,new Fa(ec(x.readTime),new He(go(x.documentKey)),x.largestBatchId)):Mg.empty(),q=C.fields.map(([J,ye])=>new af(Ar.fromServerFormat(J),ye));return new Ag(C.indexId,C.collectionGroup,q,N)}(m,E))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:Ht(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=tv(e),l=nv(e);return this.sn(e).next(d=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ge.forEach(m,E=>{return l.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Pu((q=r).readTime),documentKey:Mr(q.documentKey.path),largestBatchId:q.largestBatchId});var q})))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(o,l)=>{const d=r.get(o.collectionGroup);return(d?ge.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ge.forEach(m,E=>this.rn(e,o,E).next(C=>{const x=this.on(l,E);return C.isEqual(x)?ge.resolve():this.un(e,l,C,x)}))))})}an(e,t,r){return Af(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Mr(t.key.path)})}cn(e,t,r){return Af(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Mr(t.key.path)])}rn(e,t,r){const o=Af(e);let l=new In(Lu);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Mr(t.path)])},(d,m)=>{l=l.add(new Fu(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}on(e,t){let r=new In(Lu);const o=this.Ze(t,e);if(null==o)return r;const l=Sg(t);if(null!=l){const d=e.data.field(l.fieldPath);if(of(d))for(const m of d.arrayValue.values||[])r=r.add(new Fu(t.indexId,e.key,this.He(m),o))}else r=r.add(new Fu(t.indexId,e.key,Tf,o));return r}un(e,t,r,o){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,m,E,C,x){const N=d.getIterator(),q=m.getIterator();let J=bd(N),ye=bd(q);for(;J||ye;){let Be=!1,it=!1;if(J&&ye){const Jt=E(J,ye);Jt<0?it=!0:Jt>0&&(Be=!0)}else null!=J?it=!0:Be=!0;Be?(C(ye),ye=bd(q)):it?(x(J),J=bd(N)):(J=bd(N),ye=bd(q))}}(r,o,Lu,d=>{l.push(this.an(e,t,d))},d=>{l.push(this.cn(e,t,d))}),ge.waitFor(l)}sn(e){let t=1;return nv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Lu(d,m)).filter((d,m,E)=>!m||0!==Lu(d,E[m-1]));const o=[];o.push(e);for(const d of r){const m=Lu(d,e),E=Lu(d,t);if(0===m)o[0]=e.ke();else if(m>0&&E<0)o.push(d),o.push(d.ke());else if(E>0)break}o.push(t);const l=[];for(let d=0;d<o.length;d+=2)l.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,""],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,""]));return l}}function rI(n){return _r(n,"collectionParents")}function Af(n){return _r(n,"indexEntries")}function tv(n){return _r(n,"indexConfiguration")}function nv(n){return _r(n,"indexState")}const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ki{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ki(e,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iI(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:d},(x,N,q)=>(m++,q.delete()));l.push(E.next(()=>{Ct(1===m)}));const C=[];for(const x of t.mutations){const N=W_(e,x.key.path,t.batchId);l.push(o.delete(N)),C.push(x.key)}return ge.waitFor(l).next(()=>C)}function em(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Ki.DEFAULT_COLLECTION_PERCENTILE=10,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ki.DEFAULT=new Ki(41943040,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ki.DISABLED=new Ki(-1,0,0);class sI{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){Ct(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new sI(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nc(e).Wt({index:"userMutationsIndex",range:r},(o,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Sf(e),d=nc(e);return d.add({}).next(m=>{Ct("number"==typeof m);const E=new Y_(m,t,r,o),C=function(q,J,ye){const Be=ye.baseMutations.map(Jt=>wf(q.Jt,Jt)),it=ye.mutations.map(Jt=>wf(q.Jt,Jt));return{userId:J,batchId:ye.batchId,localWriteTimeMs:ye.localWriteTime.toMillis(),baseMutations:Be,mutations:it}}(this.M,this.userId,E),x=[];let N=new In((q,J)=>Ht(q.canonicalString(),J.canonicalString()));for(const q of o){const J=W_(this.userId,q.key.path,m);N=N.add(q.key.path.popLast()),x.push(d.put(C)),x.push(l.put(J,_A))}return N.forEach(q=>{x.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.hn[m]=E.keys()}),ge.waitFor(x).next(()=>E)})}lookupMutationBatch(e,t){return nc(e).get(t).next(r=>r?(Ct(r.userId===this.userId),tc(this.M,r)):null)}ln(e,t){return this.hn[t]?ge.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return nc(e).Wt({index:"userMutationsIndex",range:o},(d,m,E)=>{m.userId===this.userId&&(Ct(m.batchId>=r),l=tc(this.M,m)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return nc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nc(e).qt("userMutationsIndex",t).next(r=>r.map(o=>tc(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=z_(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Sf(e).Wt({range:o},(d,m,E)=>{const[C,x,N]=d,q=go(x);if(C===this.userId&&t.path.isEqual(q))return nc(e).get(N).next(J=>{if(!J)throw rt();Ct(J.userId===this.userId),l.push(tc(this.M,J))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Ht);const o=[];return t.forEach(l=>{const d=z_(this.userId,l.path),m=IDBKeyRange.lowerBound(d),E=Sf(e).Wt({range:m},(C,x,N)=>{const[q,J,ye]=C,Be=go(J);q===this.userId&&l.path.isEqual(Be)?r=r.add(ye):N.done()});o.push(E)}),ge.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=z_(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new In(Ht);return Sf(e).Wt({range:d},(E,C,x)=>{const[N,q,J]=E,ye=go(q);N===this.userId&&r.isPrefixOf(ye)?ye.length===o&&(m=m.add(J)):x.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(nc(e).get(l).next(d=>{if(null===d)throw rt();Ct(d.userId===this.userId),r.push(tc(this.M,d))}))}),ge.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return iI(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ge.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Sf(e).Wt({range:r},(l,d,m)=>{if(l[0]===this.userId){const E=go(l[1]);o.push(E)}else m.done()}).next(()=>{Ct(0===o.length)})})}containsKey(e,t){return KD(e,this.userId,t)}_n(e){return YD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function KD(n,e,t){const r=z_(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Sf(n).Wt({range:l,jt:!0},(m,E,C)=>{const[x,N,q]=m;x===e&&N===o&&(d=!0),C.done()}).next(()=>d)}function nc(n){return _r(n,"mutations")}function Sf(n){return _r(n,"documentMutations")}function YD(n){return _r(n,"mutationQueues")}class rc{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new rc(0)}static gn(){return new rc(-1)}}class tm{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new rc(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>bt.fromTimestamp(new ur(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>kd(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return kd(e).Wt((d,m)=>{const E=Nd(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,l.push(this.removeTargetData(e,E)))}).next(()=>ge.waitFor(l)).next(()=>o)}forEachTarget(e,t){return kd(e).Wt((r,o)=>{const l=Nd(o);t(l)})}yn(e){return oI(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}pn(e,t){return oI(e).put("targetGlobalKey",t)}In(e,t){return kd(e).put(Kw(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=md(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return kd(e).Wt({range:o,index:"queryTargetsIndex"},(d,m,E)=>{const C=Nd(m);lf(t,C.target)&&(l=C,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Ua(e);return t.forEach(d=>{const m=Mr(d.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),ge.waitFor(o)}removeMatchingKeys(e,t,r){const o=Ua(e);return ge.forEach(t,l=>{const d=Mr(l.path);return ge.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Ua(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Ua(e);let l=fn();return o.Wt({range:r,jt:!0},(d,m,E)=>{const C=go(d[1]),x=new He(C);l=l.add(x)}).next(()=>l)}containsKey(e,t){const r=Mr(t.path),o=IDBKeyRange.bound([r],[qE(r)],!1,!0);let l=0;return Ua(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([d,m],E,C)=>{0!==d&&(l++,C.done())}).next(()=>l>0)}Et(e,t){return kd(e).get(t).next(r=>r?Nd(r):null)}}function kd(n){return _r(n,"targets")}function oI(n){return _r(n,"targetGlobal")}function Ua(n){return _r(n,"targetDocuments")}function Es(n){return nm.apply(this,arguments)}function nm(){return nm=(0,we.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==GD)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),nm.apply(this,arguments)}function rm([n,e],[t,r]){const o=Ht(n,t);return 0===o?Ht(e,r):o}class iv{constructor(e){this.En=e,this.buffer=new In(rm),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rm(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QD{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;ke("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,we.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Rd(o)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Es(o)}yield t.vn(e)}))}}class sv{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(Zi.A);const r=new iv(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(rv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,l,d,m,E,C;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(l=N,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(C=Date.now(),Dg()<=Sl.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-x}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(E-m)+`ms\n\tRemoved ${N} documents in `+(C-E)+`ms\nTotal Duration: ${C-x}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:N})))}}class ov{constructor(e,t){this.db=e,this.garbageCollector=new sv(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return ic(e,r)}removeReference(e,t,r){return ic(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ic(e,t)}Mn(e,t){return function(r,o){let l=!1;return YD(r).zt(d=>KD(r,d,o).next(m=>(m&&(l=!0),ge.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.kn(e,(d,m)=>{if(m<=t){const E=this.Mn(e,d).next(C=>{if(!C)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,bt.min()),Ua(e).delete([0,Mr(d.path)])))});o.push(E)}}).next(()=>ge.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ic(e,t)}kn(e,t){const r=Ua(e);let o,l=Zi.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:E,sequenceNumber:C})=>{0===d?(l!==Zi.A&&t(new He(go(o)),l),l=C,o=E):l=Zi.A}).next(()=>{l!==Zi.A&&t(new He(go(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ic(n,e){return Ua(n).put((r=n.currentSequenceNumber,{targetId:0,path:Mr(e.path),sequenceNumber:r}));var r}class JD{constructor(){this.changes=new Kl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xA{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Vu(e).put(r)}removeEntry(e,t,r){return Vu(e).delete(function(o,l){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],bf(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Sn.newInvalidDocument(t);return Vu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Mf(t))},(o,l)=>{r=this.Fn(t,l)}).next(()=>r)}$n(e,t){let r={size:0,document:Sn.newInvalidDocument(t)};return Vu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Mf(t))},(o,l)=>{r={document:this.Fn(t,l),size:em(l)}}).next(()=>r)}getEntries(e,t){let r=Us();return this.Bn(e,t,(o,l)=>{const d=this.Fn(o,l);r=r.insert(o,d)}).next(()=>r)}Ln(e,t){let r=Us(),o=new Kn(He.comparator);return this.Bn(e,t,(l,d)=>{const m=this.Fn(l,d);r=r.insert(l,m),o=o.insert(l,em(d))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return ge.resolve();let o=new In(uI);t.forEach(E=>o=o.add(E));const l=IDBKeyRange.bound(Mf(o.first()),Mf(o.last())),d=o.getIterator();let m=d.getNext();return Vu(e).Wt({index:"documentKeyIndex",range:l},(E,C,x)=>{const N=He.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&uI(m,N)<0;)r(m,null),m=d.getNext();m&&m.isEqual(N)&&(r(m,C),m=d.hasNext()?d.getNext():null),m?x.Ut(Mf(m)):x.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),bf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vu(e).qt(IDBKeyRange.bound(o,l,!0)).next(d=>{let m=Us();for(const E of d){const C=this.Fn(He.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(C.key,C)}return m})}getAllFromCollectionGroup(e,t,r,o){let l=Us();const d=aI(t,r),m=aI(t,Fa.max());return Vu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(E,C,x)=>{const N=this.Fn(He.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);l=l.insert(N.key,N),l.size===o&&x.done()}).next(()=>l)}newChangeBuffer(e){return new RA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return XD(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}On(e,t){return XD(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function WD(n,e){let t;if(e.document)t=B_(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),o=ec(e.noDocument.readTime);t=Sn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=He.fromSegments(e.unknownDocument.path),o=ec(e.unknownDocument.version);t=Sn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new ur(r[0],r[1]);return bt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return Sn.newInvalidDocument(e)}}class RA extends JD{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Kl(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new In((l,d)=>Ht(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.Gn.get(l);if(t.push(this.qn.removeEntry(e,l,m.readTime)),d.isValidDocument()){const E=Yg(this.qn.M,d);o=o.add(l.path.popLast()),r+=em(E)-m.size,t.push(this.qn.addEntry(e,l,E))}else if(r-=m.size,this.trackRemovals){const E=Yg(this.qn.M,d.convertToNoDocument(bt.min()));t.push(this.qn.addEntry(e,l,E))}}),o.forEach(l=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.qn.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function XD(n){return _r(n,"remoteDocumentGlobal")}function Vu(n){return _r(n,"remoteDocumentsV14")}function Mf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function aI(n,e){const t=e.documentKey.path.toArray();return[n,bf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function uI(n,e){const t=n.path.length-e.path.length;return 0!==t?t:He.comparator(n,e)}class eC{constructor(e){this.M=e}kt(e,t,r,o){const l=new xd("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uw,{unique:!0}),m.createObjectStore("documentMutations"),av(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ge.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),av(e)),d=d.next(()=>function(m){const E=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",C)}(l))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,E){return E.store("mutations").qt().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uw,{unique:!0});const x=E.store("mutations"),N=C.map(q=>x.put(q));return ge.waitFor(N)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Kn(l))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(l)))),r<7&&o>=7&&(d=d.next(()=>this.jn(l))),r<8&&o>=8&&(d=d.next(()=>this.Wn(e,l))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.zn(l))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:jw});E.createIndex("collectionPathOverlayIndex",$w,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",AA,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:vA});E.createIndex("documentKeyIndex",EA),E.createIndex("collectionGroupIndex",wA)}(e)).next(()=>this.Hn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:qg}).createIndex("sequenceNumberIndex",TA,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Bw}).createIndex("documentKeyIndex",q_,{unique:!1})}(e)})),d}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=em(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>ge.forEach(o,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>ge.forEach(m,E=>{Ct(E.userId===l.userId);const C=tc(this.M,E);return iI(e,l.userId,C).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.Wt((d,m)=>{const E=new Yt(d),C=[0,Mr(E)];l.push(t.get(C).next(x=>x?ge.resolve():t.put({targetId:0,path:Mr(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ge.waitFor(l))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:CA});const r=t.store("collectionParents"),o=new ev,l=d=>{if(o.add(d)){const m=d.lastSegment(),E=d.popLast();return r.put({collectionId:m,parent:Mr(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const E=new Yt(d);return l(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,E],C)=>{const x=go(m);return l(x.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const l=Nd(o),d=Kw(this.M,l);return t.put(d)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((l,d)=>{const m=t.store("remoteDocumentsV14"),E=(C=d,C.document?new He(Yt.fromString(C.document.name).popFirst(5)):C.noDocument?He.fromSegments(C.noDocument.path):C.unknownDocument?He.fromSegments(C.unknownDocument.path):rt()).path.toArray();var C;const x={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(x))}).next(()=>ge.waitFor(o))}}function av(n){n.createObjectStore("targetDocuments",{keyPath:bA}).createIndex("documentTargetsIndex",DA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IA,{unique:!0}),n.createObjectStore("targetGlobal")}const im="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sm{constructor(e,t,r,o,l,d,m,E,C,x,N=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=l,this.window=d,this.document=m,this.Yn=C,this.Xn=x,this.Zn=N,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=q=>Promise.resolve(),!sm.vt())throw new Re(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ov(this,o),this.cs=t+"main",this.M=new Zw(E),this.hs=new mo(this.cs,this.Zn,new eC(this.M)),this.ls=new tm(this.referenceDelegate,this.M),this.fs=new xA(this.M),this.ds=new qD,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===x&&$n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(le.FAILED_PRECONDITION,im);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Zi(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,we.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>om(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Rd(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return xf(e).get("owner").next(t=>ge.resolve(this.bs(t)))}Ps(e){return om(e).delete(this.clientId)}Vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=_r(r,"clientMetadata");return o.qt().next(l=>{const d=e.Ss(l,18e5),m=l.filter(E=>-1===d.indexOf(E));return ge.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?ge.resolve(!0):xf(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Re(le.FAILED_PRECONDITION,im);return!1}}return!(!this.networkEnabled||!this.inForeground)||om(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new qw(t,Zi.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>om(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return sI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new nI(e)}getDocumentOverlayCache(e){return Qg.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=14===(d=this.Zn)?Gw:13===d?Z_:12===d?Hw:11===d?Zg:void rt();var d;let m;return this.hs.runTransaction(e,o,l,E=>(m=new qw(E,this.ts?this.ts.next():Zi.A),"readwrite-primary"===t?this.Ts(m).next(C=>!!C||this.Es(m)).next(C=>{if(!C)throw $n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Re(le.FAILED_PRECONDITION,GD);return r(m)}).next(C=>this.Rs(m).next(()=>C)):this.Fs(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Fs(e){return xf(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(le.FAILED_PRECONDITION,im)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xf(e).put("owner",t)}static vt(){return mo.vt()}As(e){const t=xf(e);return t.get("owner").next(r=>this.bs(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ge.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&($n(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Gt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $n("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){$n("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xf(n){return _r(n,"owner")}function om(n){return _r(n,"clientMetadata")}function am(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uv{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return He.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):S_(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new He(t)).next(r=>{let o=Bg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let l=Bg();return this.indexManager.getCollectionParents(e,o).next(d=>ge.forEach(d,m=>{const E=(C=t,x=m.child(o),new La(x,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,x;return this.Ws(e,E,r).next(C=>{C.forEach((x,N)=>{l=l.insert(x,N)})})}).next(()=>l))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const m of d.mutations){const E=m.key;let C=o.get(E);null==C&&(C=Sn.newInvalidDocument(E),o=o.insert(E,C)),P_(m,C,d.localWriteTime),C.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((l,d)=>{Pg(t,d)||(o=o.remove(l))}),o))}}class lI{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=fn(),o=fn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new lI(e,t.fromCache,r,o)}}class lv{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(bt.min())?this.Zs(e,t):this.Xs.qs(e,o).next(l=>{const d=this.ti(t,l);return(hf(t)||Va(t))&&this.ei(t.limitType,d,o,r)?this.Zs(e,t):(Dg()<=Sl.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),M_(t)),this.Xs.Ks(e,t,iw(r,-1)).next(m=>(d.forEach(E=>{m=m.insert(E.key,E)}),m)))});var l}ti(e,t){let r=new In(gw(e));return t.forEach((o,l)=>{Pg(e,l)&&(r=r.add(l))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Zs(e,t){return Dg()<=Sl.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",M_(t)),this.Xs.Ks(e,t,Fa.min())}}class cv{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new Kn(Ht),this.ii=new Kl(l=>md(l),lf),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new uv(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function cI(n,e,t,r){return new cv(n,e,t,r)}function dI(n,e){return hI.apply(this,arguments)}function hI(){return hI=(0,we.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(l=>(o=l,t.ui(e),t.$s.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let E=fn();for(const C of o){d.push(C.batchId);for(const x of C.mutations)E=E.add(x.key)}for(const C of l){m.push(C.batchId);for(const x of C.mutations)E=E.add(x.key)}return t.ai.qs(r,E).next(C=>({ci:C,removedBatchIds:d,addedBatchIds:m}))})})}),hI.apply(this,arguments)}function NA(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,m,E,C){const x=E.batch,N=x.keys();let q=ge.resolve();return N.forEach(J=>{q=q.next(()=>C.getEntry(m,J)).next(ye=>{const Be=E.docVersions.get(J);Ct(null!==Be),ye.version.compareTo(Be)<0&&(x.applyToRemoteDocument(ye,E),ye.isValidDocument()&&(ye.setReadTime(E.commitVersion),C.addEntry(ye)))})}),q.next(()=>d.$s.removeMutationBatch(m,x))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function tC(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function nC(n,e){const t=Ze(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const m=[];e.targetChanges.forEach((C,x)=>{const N=o.get(x);if(!N)return;m.push(t.ls.removeMatchingKeys(l,C.removedDocuments,x).next(()=>t.ls.addMatchingKeys(l,C.addedDocuments,x)));let q=N.withSequenceNumber(l.currentSequenceNumber);var J,ye,Be;e.targetMismatches.has(x)?q=q.withResumeToken(Sr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):C.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(C.resumeToken,r)),o=o.insert(x,q),ye=q,Be=C,(0===(J=N).resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(l,q))});let E=Us();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),m.push(fI(l,d,e.documentUpdates).next(C=>{E=C})),!r.isEqual(bt.min())){const C=t.ls.getLastRemoteSnapshotVersion(l).next(x=>t.ls.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(C)}return ge.waitFor(m).next(()=>d.apply(l)).next(()=>t.ai.Gs(l,E)).next(()=>E)}).then(l=>(t.si=o,l))}function fI(n,e,t){let r=fn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Us();return t.forEach((d,m)=>{const E=o.get(d);m.isNoDocument()&&m.version.isEqual(bt.min())?(e.removeEntry(d,m.readTime),l=l.insert(d,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),l=l.insert(d,m)):ke("LocalStore","Ignoring outdated watch update for ",d,". Current version:",E.version," Watch version:",m.version)}),l})}function OA(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Rf(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(l=>l?(o=l,ge.resolve(o)):t.ls.allocateTargetId(r).next(d=>(o=new ia(e,d,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Nf(n,e,t){return pI.apply(this,arguments)}function pI(){return pI=(0,we.Z)(function*(n,e,t){const r=Ze(n),o=r.si.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Rd(d))throw d;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),pI.apply(this,arguments)}function dv(n,e,t){const r=Ze(n);let o=bt.min(),l=fn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,E,C){const x=Ze(m),N=x.ii.get(C);return void 0!==N?ge.resolve(x.si.get(N)):x.ls.getTargetData(E,C)}(r,d,_s(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(d,m.targetId).next(E=>{l=E})}).next(()=>r.ni.Ks(d,e,t?o:bt.min(),t?l:fn())).next(m=>(iC(r,pw(e),m),{documents:m,hi:l})))}function gI(n,e){const t=Ze(n),r=Ze(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function rC(n,e){const t=Ze(n),r=t.ri.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,iw(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(iC(t,e,o),o))}function iC(n,e,t){let r=bt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ri.set(e,r)}function mI(){return mI=(0,we.Z)(function*(n,e,t,r){const o=Ze(n);let l=fn(),d=Us();for(const C of t){const x=e.li(C.metadata.name);C.document&&(l=l.add(x));const N=e.fi(C);N.setReadTime(e.di(C.metadata.readTime)),d=d.insert(x,N)}const m=o.oi.newChangeBuffer({trackRemovals:!0}),E=yield Rf(o,(C=r,_s(fo(Yt.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>fI(C,m,d).next(x=>(m.apply(C),x)).next(x=>o.ls.removeMatchingKeysForTargetId(C,E.targetId).next(()=>o.ls.addMatchingKeys(C,l,E.targetId)).next(()=>o.ai.Gs(C,x)).next(()=>x)))}),mI.apply(this,arguments)}function i(n,e){return s.apply(this,arguments)}function s(){return s=(0,we.Z)(function*(n,e,t=fn()){const r=yield Rf(n,_s(J_(e.bundledQuery))),o=Ze(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const d=Gr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.ds.saveNamedQuery(l,e);const m=r.withResumeToken(Sr.EMPTY_BYTE_STRING,d);return o.si=o.si.insert(m.targetId,m),o.ls.updateTargetData(l,m).next(()=>o.ls.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ls.addMatchingKeys(l,t,r.targetId)).next(()=>o.ds.saveNamedQuery(l,e))})}),s.apply(this,arguments)}class a{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ge.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Gr(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:J_(r.bundledQuery),readTime:Gr(r.readTime)}),ge.resolve();var r}}class u{constructor(){this.overlays=new Kn(He.comparator),this.mi=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Xt(e,t,l)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.mi.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const o=Yl(),l=t.length+1,d=new He(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const E=m.getNext().value,C=E.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===l&&E.largestBatchId>r&&o.set(E.getKey(),E)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Kn((C,x)=>C-x);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let x=l.get(C.largestBatchId);null===x&&(x=Yl(),l=l.insert(C.largestBatchId,x)),x.set(C.getKey(),C)}}const m=Yl(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((C,x)=>m.set(C,x)),!(m.size()>=o)););return ge.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const d=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Q_(t,r));let l=this.mi.get(t);void 0===l&&(l=fn(),this.mi.set(t,l)),this.mi.set(t,l.add(r.key))}}class c{constructor(){this.gi=new In(h.yi),this.pi=new In(h.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new h(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new h(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new He(new Yt([])),r=new h(t,e),o=new h(t,e+1),l=[];return this.pi.forEachInRange([r,o],d=>{this.Ei(d),l.push(d.key)}),l}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new He(new Yt([])),r=new h(t,e),o=new h(t,e+1);let l=fn();return this.pi.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new h(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class h{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return He.comparator(e.key,t.key)||Ht(e.Vi,t.Vi)}static Ii(e,t){return Ht(e.Vi,t.Vi)||He.comparator(e.key,t.key)}}class y{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new In(h.yi)}checkEmpty(e){return ge.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const l=this.vi;this.vi++;const d=new Y_(l,t,r,o);this.$s.push(d);for(const m of o)this.Si=this.Si.add(new h(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ge.resolve(d)}lookupMutationBatch(e,t){return ge.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),l=o<0?0:o;return ge.resolve(this.$s.length>l?this.$s[l]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return ge.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new h(t,0),o=new h(t,Number.POSITIVE_INFINITY),l=[];return this.Si.forEachInRange([r,o],d=>{const m=this.Di(d.Vi);l.push(m)}),ge.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new In(Ht);return t.forEach(o=>{const l=new h(o,0),d=new h(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([l,d],m=>{r=r.add(m.Vi)})}),ge.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;He.isDocumentKey(l)||(l=l.child(""));const d=new h(new He(l),0);let m=new In(Ht);return this.Si.forEachWhile(E=>{const C=E.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(E.Vi)),!0)},d),ge.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ct(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return ge.forEach(t.mutations,o=>{const l=new h(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new h(t,0),o=this.Si.firstAfterOrEqual(r);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ge.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class v{constructor(e){this.ki=e,this.docs=new Kn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=Us();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Sn.newInvalidDocument(o))}),ge.resolve(r)}getAllFromCollection(e,t,r){let o=Us();const l=new He(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:m,value:{document:E}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||gd(xg(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,t,r,o){rt()}Mi(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new I(this)}getSize(e){return ge.resolve(this.size)}}class I extends JD{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class T{constructor(e){this.persistence=e,this.Oi=new Kl(t=>md(t),lf),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new c,this.targetCount=0,this.Bi=rc.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),ge.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new rc(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.In(t),ge.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Oi.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ge.waitFor(l).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),ge.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.$i.containsKey(t))}}class S{constructor(e,t){this.Li={},this.overlays={},this.ts=new Zi(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new T(this),this.indexManager=new tI,this.fs=new v(r=>this.referenceDelegate.Ui(r)),this.M=new Zw(t),this.ds=new a(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new u,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new y(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const o=new F(this.ts.next());return this.referenceDelegate.qi(),r(o).next(l=>this.referenceDelegate.Gi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ki(e,t){return ge.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class F extends K_{constructor(e){super(),this.currentSequenceNumber=e}}class ${constructor(e){this.persistence=e,this.Qi=new c,this.ji=null}static Wi(e){return new $(e)}get zi(){if(this.ji)return this.ji;throw rt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.zi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.zi,r=>{const o=He.fromPath(r);return this.Hi(e,o).next(l=>{l||t.removeEntry(o,bt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return ge.or([()=>ge.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function Y(n,e){return`firestore_clients_${n}_${e}`}function ve(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Pe(n,e){return`firestore_targets_${n}_${e}`}class je{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let l,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new Re(o.error.code,o.error.message))),d?new je(e,t,o.state,l):($n("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xe{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Re(r.error.code,r.error.message))),l?new Xe(e,r.state,o):($n("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class De{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=jg();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=QE(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return o?new De(e,l):($n("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ht{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ht(t.clientId,t.onlineState):($n("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $t{constructor(){this.activeTargetIds=jg()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class an{constructor(e,t,r,o,l){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Kn(Ht),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=Y(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new $t),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const l=e.getItem(Y(e.persistenceKey,o));if(l){const d=De.Ji(o,l);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Pe(this.persistenceKey,e));if(r){const o=Xe.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pe(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void $n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(l){let d=Zi.A;if(null!=l)try{const m=JSON.parse(l);Ct("number"==typeof m),d=m}catch(m){$n("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==Zi.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new je(this.currentUser,e,t,r),l=ve(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Yi())}pr(e){const t=ve(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=Pe(this.persistenceKey,e),l=new Xe(e,t,r);this.setItem(o,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return De.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return je.Ji(new yr(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Xe.Ji(o,t)}wr(e){return ht.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),l=this.gr(r),d=[],m=[];return l.forEach(E=>{o.has(E)||d.push(E)}),o.forEach(E=>{l.has(E)||m.push(E)}),this.syncEngine.Or(d,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=jg();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Yi{constructor(){this.Fr=new $t,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new $t,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sc{Br(e){}shutdown(){}}class um{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class fv{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class pv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,l){const d=this.oo(e,t);ke("RestConnection","Sending: ",d,r);const m={};return this.uo(m,o,l),this.ao(e,d,m,r).then(E=>(ke("RestConnection","Received: ",E),E),E=>{throw Jh("RestConnection",`${e} failed with error: `,E,"url: ",d,"request:",r),E})}co(e,t,r,o,l){return this.ro(e,t,r,o,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$l,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}oo(e,t){return`${this.so}/v1/${t}:${hv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((l,d)=>{const m=new CD;m.listenOnce(bD.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ig.NO_ERROR:const C=m.getResponseJson();ke("Connection","XHR received:",JSON.stringify(C)),l(C);break;case Ig.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),d(new Re(le.DEADLINE_EXCEEDED,"Request time out"));break;case Ig.HTTP_ERROR:const x=m.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',x,"response text:",m.getResponseText()),x>0){const N=m.getResponseJson().error;if(N&&N.status&&N.message){const q=function(J){const ye=J.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ye)>=0?ye:le.UNKNOWN}(N.status);d(new Re(q,N.message))}else d(new Re(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Re(le.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=UE(),d=BE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Qh({})),this.uo(m.initMessageHeaders,t,r),(0,Gt.uI)()||(0,Gt.b$)()||(0,Gt.d)()||(0,Gt.w1)()||(0,Gt.Mn)()||(0,Gt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");ke("Connection","Creating WebChannel: "+E,m);const C=l.createWebChannel(E,m);let x=!1,N=!1;const q=new fv({jr:ye=>{N?ke("Connection","Not sending because WebChannel is closed:",ye):(x||(ke("Connection","Opening WebChannel transport."),C.open(),x=!0),ke("Connection","WebChannel sending:",ye),C.send(ye))},Wr:()=>C.close()}),J=(ye,Be,it)=>{ye.listen(Be,Jt=>{try{it(Jt)}catch(yt){setTimeout(()=>{throw yt},0)}})};return J(C,bg.EventType.OPEN,()=>{N||ke("Connection","WebChannel transport opened.")}),J(C,bg.EventType.CLOSE,()=>{N||(N=!0,ke("Connection","WebChannel transport closed"),q.eo())}),J(C,bg.EventType.ERROR,ye=>{N||(N=!0,Jh("Connection","WebChannel transport errored:",ye),q.eo(new Re(le.UNAVAILABLE,"The operation could not be completed")))}),J(C,bg.EventType.MESSAGE,ye=>{var Be;if(!N){const it=ye.data[0];Ct(!!it);const Jt=it,yt=Jt.error||(null===(Be=Jt[0])||void 0===Be?void 0:Be.error);if(yt){ke("Connection","WebChannel received error:",yt);const Mn=yt.status;let At=function(Wt){const ju=tr[Wt];if(void 0!==ju)return bw(ju)}(Mn),zt=yt.message;void 0===At&&(At=le.INTERNAL,zt="Unknown error status: "+Mn+" with message "+yt.message),N=!0,q.eo(new Re(At,zt)),C.close()}else ke("Connection","WebChannel received:",it),q.no(it)}}),J(d,DD.STAT_EVENT,ye=>{ye.stat===jE.PROXY?ke("Connection","Detected buffering proxy"):ye.stat===jE.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{q.Zr()},0),q}}function lm(){return"undefined"!=typeof window?window:null}function Pd(){return"undefined"!=typeof document?document:null}function oc(n){return new UD(n,!0)}class Of{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class cm{constructor(e,t,r,o,l,d,m,E){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Of(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===le.RESOURCE_EXHAUSTED?($n(t.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Re(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YM extends cm{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.M=l}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Nw(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:rt(),o=e.targetChange.targetIds||[],l=function(E,C){return E.N?(Ct(void 0===C||"string"==typeof C),Sr.fromBase64String(C||"")):(Ct(void 0===C||C instanceof Uint8Array),Sr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(E){const C=void 0===E.code?le.UNKNOWN:bw(E.code);return new Re(C,E.message||"")}(d);t=new Tw(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=po(n,r.document.name),l=Gr(r.document.updateTime),d=new $r({mapValue:{fields:r.document.fields}}),m=Sn.newFoundDocument(o,l,d);t=new $g(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=po(n,r.document),l=r.readTime?Gr(r.readTime):bt.min(),d=Sn.newNoDocument(o,l);t=new $g([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=po(n,r.document);t=new $g([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return rt();{const r=e.filter,l=new ww(r.count||0);t=new L_(r.targetId,l)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return bt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?bt.min():l.readTime?Gr(l.readTime):bt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=zg(this.M),t.addTarget=function(o,l){let d;const m=l.target;return d=Rg(m)?{documents:BD(o,m)}:{query:Ow(o,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=Mw(o,l.resumeToken):l.snapshotVersion.compareTo(bt.min())>0&&(d.readTime=Ql(o,l.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function Pw(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=zg(this.M),t.removeTarget=e,this.Oo(t)}}class QM extends cm{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.M=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function j_(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,o){let l=Gr(r.updateTime?r.updateTime:o);return l.isEqual(bt.min())&&(l=Gr(o)),new PD(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.Jo(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=zg(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wf(this.M,r))};this.Oo(t)}}class JM extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new Re(le.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.ro(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(le.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.bo.co(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(le.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class XM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?($n(t),this.su=!1):ke("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class ex{constructor(e,t,r,o,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,we.Z)(function*(){var E;Fd(d)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,we.Z)(function*(C){const x=Ze(C);x.lu.add(4),yield dm(x),x._u.set("Unknown"),x.lu.delete(4),yield gv(x)}),function(C){return E.apply(this,arguments)})(d))}))}),this._u=new XM(r,o)}}function gv(n){return sC.apply(this,arguments)}function sC(){return sC=(0,we.Z)(function*(n){if(Fd(n))for(const e of n.fu)yield e(!0)}),sC.apply(this,arguments)}function dm(n){return oC.apply(this,arguments)}function oC(){return oC=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),oC.apply(this,arguments)}function yI(n,e){const t=Ze(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),lC(t)?uC(t):fm(t).Co()&&aC(t,e))}function mv(n,e){const t=Ze(n),r=fm(t);t.hu.delete(e),r.Co()&&PA(t,e),0===t.hu.size&&(r.Co()?r.ko():Fd(t)&&t._u.set("Unknown"))}function aC(n,e){n.wu.Z(e.targetId),fm(n).Qo(e)}function PA(n,e){n.wu.Z(e),fm(n).jo(e)}function uC(n){n.wu=new Td({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),fm(n).start(),n._u.iu()}function lC(n){return Fd(n)&&!fm(n).Do()&&n.hu.size>0}function Fd(n){return 0===Ze(n).lu.size}function FA(n){n.wu=void 0}function tx(n){return cC.apply(this,arguments)}function cC(){return cC=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{aC(n,e)})}),cC.apply(this,arguments)}function nx(n,e){return dC.apply(this,arguments)}function dC(){return dC=(0,we.Z)(function*(n,e){FA(n),lC(n)?(n._u.uu(e),uC(n)):n._u.set("Unknown")}),dC.apply(this,arguments)}function rx(n,e,t){return hC.apply(this,arguments)}function hC(){return hC=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Tw&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(o,l){const d=l.cause;for(const m of l.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _I(n,r)}else if(e instanceof $g?n.wu.ut(e):e instanceof L_?n.wu._t(e):n.wu.ht(e),!t.isEqual(bt.min()))try{const r=yield tC(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const d=o.wu.yt(l);return d.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.hu.get(E);C&&o.hu.set(E,C.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach(m=>{const E=o.hu.get(m);if(!E)return;o.hu.set(m,E.withResumeToken(Sr.EMPTY_BYTE_STRING,E.snapshotVersion)),PA(o,m);const C=new ia(E.target,m,1,E.sequenceNumber);aC(o,C)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield _I(n,r)}var r}),hC.apply(this,arguments)}function _I(n,e,t){return fC.apply(this,arguments)}function fC(){return fC=(0,we.Z)(function*(n,e,t){if(!Rd(e))throw e;n.lu.add(1),yield dm(n),n._u.set("Offline"),t||(t=()=>tC(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield gv(n)}))}),fC.apply(this,arguments)}function LA(n,e){return e().catch(t=>_I(n,t,e))}function hm(n){return pC.apply(this,arguments)}function pC(){return pC=(0,we.Z)(function*(n){const e=Ze(n),t=Ld(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;ix(e);)try{const o=yield OA(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,sx(e,o)}catch(o){yield _I(e,o)}VA(e)&&UA(e)}),pC.apply(this,arguments)}function ix(n){return Fd(n)&&n.cu.length<10}function sx(n,e){n.cu.push(e);const t=Ld(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function VA(n){return Fd(n)&&!Ld(n).Do()&&n.cu.length>0}function UA(n){Ld(n).start()}function ox(n){return gC.apply(this,arguments)}function gC(){return gC=(0,we.Z)(function*(n){Ld(n).Xo()}),gC.apply(this,arguments)}function ax(n){return mC.apply(this,arguments)}function mC(){return mC=(0,we.Z)(function*(n){const e=Ld(n);for(const t of n.cu)e.Ho(t.mutations)}),mC.apply(this,arguments)}function ux(n,e,t){return yC.apply(this,arguments)}function yC(){return yC=(0,we.Z)(function*(n,e,t){const r=n.cu.shift(),o=vs.from(r,e,t);yield LA(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield hm(n)}),yC.apply(this,arguments)}function lx(n,e){return _C.apply(this,arguments)}function _C(){return _C=(0,we.Z)(function*(n,e){var t;e&&Ld(n).zo&&(yield(t=(0,we.Z)(function*(r,o){if(Iw(l=o.code)&&l!==le.ABORTED){const d=r.cu.shift();Ld(r).No(),yield LA(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield hm(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),VA(n)&&UA(n)}),_C.apply(this,arguments)}function BA(n,e){return vC.apply(this,arguments)}function vC(){return vC=(0,we.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=Fd(t);t.lu.add(3),yield dm(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield gv(t)}),vC.apply(this,arguments)}function EC(n,e){return wC.apply(this,arguments)}function wC(){return wC=(0,we.Z)(function*(n,e){const t=Ze(n);e?(t.lu.delete(2),yield gv(t)):e||(t.lu.add(2),yield dm(t),t._u.set("Unknown"))}),wC.apply(this,arguments)}function fm(n){return n.mu||(n.mu=function(e,t,r){const o=Ze(e);return o.tu(),new YM(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:tx.bind(null,n),Jr:nx.bind(null,n),Ko:rx.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),lC(n)?uC(n):n._u.set("Unknown")):(yield n.mu.stop(),FA(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Ld(n){return n.gu||(n.gu=function(e,t,r){const o=Ze(e);return o.tu(),new QM(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:ox.bind(null,n),Jr:lx.bind(null,n),Yo:ax.bind(null,n),Jo:ux.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield hm(n)):(yield n.gu.stop(),n.cu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class IC{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,m=new IC(e,t,d,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(n,e){if($n("AsyncQueue",`${e}: ${n}`),Rd(n))return new Re(le.UNAVAILABLE,`${e}: ${n}`);throw n}class gm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=Bg(),this.sortedSet=new Kn(this.comparator)}static emptySet(e){return new gm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new gm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jA{constructor(){this.yu=new Kn(He.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):rt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class mm{constructor(e,t,r,o,l,d,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new mm(e,t,gm.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class cx{constructor(){this.Iu=void 0,this.listeners=[]}}class dx{constructor(){this.queries=new Kl(e=>kg(e),_d),this.onlineState="Unknown",this.Tu=new Set}}function bC(n,e){return DC.apply(this,arguments)}function DC(){return DC=(0,we.Z)(function*(n,e){const t=Ze(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new cx),o)try{l.Iu=yield t.onListen(r)}catch(d){const m=pm(d,`Initialization of query '${M_(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&AC(t)}),DC.apply(this,arguments)}function CC(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,we.Z)(function*(n,e){const t=Ze(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),TC.apply(this,arguments)}function hx(n,e){const t=Ze(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.Au(o)&&(r=!0);d.Iu=o}}r&&AC(t)}function fx(n,e,t){const r=Ze(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function AC(n){n.Tu.forEach(e=>{e.next()})}class SC{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new mm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=mm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class px{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class $A{constructor(e){this.M=e}li(e){return po(this.M,e)}fi(e){return e.metadata.exists?B_(this.M,e.document,!1):Sn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Gr(e)}}class gx{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HA(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Yt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new $A(this.M);for(const o of e)if(o.metadata.queries){const l=r.li(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||fn()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function kA(n,e,t,r){return mI.apply(this,arguments)}(e.localStore,new $A(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield i(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function HA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GA{constructor(e){this.key=e}}class zA{constructor(e){this.key=e}}class WA{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=fn(),this.mutatedKeys=fn(),this.Lu=gw(e),this.Uu=new gm(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new jA,o=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const E=hf(this.query)&&o.size===this.query.limit?o.last():null,C=Va(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,N)=>{const q=o.get(x),J=Pg(this.query,N)?N:null,ye=!!q&&this.mutatedKeys.has(q.key),Be=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let it=!1;q&&J?q.data.isEqual(J.data)?ye!==Be&&(r.track({type:3,doc:J}),it=!0):this.Qu(q,J)||(r.track({type:2,doc:J}),it=!0,(E&&this.Lu(J,E)>0||C&&this.Lu(J,C)<0)&&(m=!0)):!q&&J?(r.track({type:0,doc:J}),it=!0):q&&!J&&(r.track({type:1,doc:q}),it=!0,(E||C)&&(m=!0)),it&&(J?(d=d.add(J),l=Be?l.add(x):l.delete(x)):(d=d.delete(x),l=l.delete(x)))}),hf(this.query)||Va(this.query))for(;d.size>this.query.limit;){const x=hf(this.query)?d.last():d.first();d=d.delete(x.key),l=l.delete(x.key),r.track({type:1,doc:x})}return{Uu:d,Ku:r,ei:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Ku.pu();l.sort((C,x)=>function(N,q){const J=ye=>{switch(ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return J(N)-J(q)}(C.type,x.type)||this.Lu(C.doc,x.doc)),this.ju(r);const d=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,E=m!==this.$u;return this.$u=m,0!==l.length||E?{snapshot:new mm(this.query,e.Uu,o,l,e.mutatedKeys,0===m,E,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new jA,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=fn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new zA(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new GA(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=fn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return mm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class mx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class yx{constructor(e){this.key=e,this.Xu=!1}}class _x{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new Kl(m=>kg(m),_d),this.ea=new Map,this.na=new Set,this.sa=new Kn(He.comparator),this.ia=new Map,this.ra=new c,this.oa={},this.ua=new Map,this.aa=rc.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function vx(n,e){return MC.apply(this,arguments)}function MC(){return MC=(0,we.Z)(function*(n,e){const t=JC(n);let r,o;const l=t.ta.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.Yu();else{const d=yield Rf(t.localStore,_s(e));t.isPrimaryClient&&yI(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield xC(t,e,r,"current"===m)}return o}),MC.apply(this,arguments)}function xC(n,e,t,r){return RC.apply(this,arguments)}function RC(){return RC=(0,we.Z)(function*(n,e,t,r){n.ha=(x,N,q)=>{return(J=(0,we.Z)(function*(ye,Be,it,Jt){let yt=Be.view.Gu(it);yt.ei&&(yt=yield dv(ye.localStore,Be.query,!1).then(({documents:zt})=>Be.view.Gu(zt,yt)));const Mn=Jt&&Jt.targetChanges.get(Be.targetId),At=Be.view.applyChanges(yt,ye.isPrimaryClient,Mn);return jC(ye,Be.targetId,At.zu),At.snapshot}),function(ye,Be,it,Jt){return J.apply(this,arguments)})(n,x,N,q);var J};const o=yield dv(n.localStore,e,!0),l=new WA(e,o.hi),d=l.Gu(o.documents),m=Cd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=l.applyChanges(d,n.isPrimaryClient,m);jC(n,t,E.zu);const C=new mx(e,t,l);return n.ta.set(e,C),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),E.snapshot}),RC.apply(this,arguments)}function Ex(n,e){return NC.apply(this,arguments)}function NC(){return NC=(0,we.Z)(function*(n,e){const t=Ze(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(l=>!_d(l,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Nf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),mv(t.remoteStore,r.targetId),ym(t,r.targetId)}).catch(Es))):(ym(t,r.targetId),yield Nf(t.localStore,r.targetId,!0))}),NC.apply(this,arguments)}function OC(){return OC=(0,we.Z)(function*(n,e,t){const r=XC(n);try{const o=yield function(l,d){const m=Ze(l),E=ur.now(),C=d.reduce((N,q)=>N.add(q.key),fn());let x;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>m.ai.qs(N,C).next(q=>{x=q;const J=[];for(const ye of d){const Be=F_(ye,x.get(ye.key));null!=Be&&J.push(new Zl(ye.key,Be,rw(Be.value.mapValue),Hn.exists(!0)))}return m.$s.addMutationBatch(N,E,J,d)})).then(N=>(N.applyToLocalDocumentSet(x),{batchId:N.batchId,changes:x}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,d,m){let E=l.oa[l.currentUser.toKey()];E||(E=new Kn(Ht)),E=E.insert(d,m),l.oa[l.currentUser.toKey()]=E}(r,o.batchId,t),yield ac(r,o.changes),yield hm(r.remoteStore)}catch(o){const l=pm(o,"Failed to persist write");t.reject(l)}}),OC.apply(this,arguments)}function qA(n,e){return kC.apply(this,arguments)}function kC(){return kC=(0,we.Z)(function*(n,e){const t=Ze(n);try{const r=yield nC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.ia.get(l);d&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Xu=!0:o.modifiedDocuments.size>0?Ct(d.Xu):o.removedDocuments.size>0&&(Ct(d.Xu),d.Xu=!1))}),yield ac(t,r,e)}catch(r){yield Es(r)}}),kC.apply(this,arguments)}function ZA(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((l,d)=>{const m=d.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(l,d){const m=Ze(l);m.onlineState=d;let E=!1;m.queries.forEach((C,x)=>{for(const N of x.listeners)N.Eu(d)&&(E=!0)}),E&&AC(m)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ix(n,e,t){return PC.apply(this,arguments)}function PC(){return PC=(0,we.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),l=o&&o.key;if(l){let d=new Kn(He.comparator);d=d.insert(l,Sn.newNoDocument(l,bt.min()));const m=fn().add(l),E=new Dd(bt.min(),new Map,new In(Ht),d,m);yield qA(r,E),r.sa=r.sa.remove(l),r.ia.delete(e),$C(r)}else yield Nf(r.localStore,e,!1).then(()=>ym(r,e,t)).catch(Es)}),PC.apply(this,arguments)}function bx(n,e){return FC.apply(this,arguments)}function FC(){return FC=(0,we.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const o=yield NA(t.localStore,e);BC(t,r,null),UC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ac(t,o)}catch(o){yield Es(o)}}),FC.apply(this,arguments)}function Dx(n,e,t){return LC.apply(this,arguments)}function LC(){return LC=(0,we.Z)(function*(n,e,t){const r=Ze(n);try{const o=yield function(l,d){const m=Ze(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let C;return m.$s.lookupMutationBatch(E,d).next(x=>(Ct(null!==x),C=x.keys(),m.$s.removeMutationBatch(E,x))).next(()=>m.$s.performConsistencyCheck(E)).next(()=>m.ai.qs(E,C))})}(r.localStore,e);BC(r,e,t),UC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ac(r,o)}catch(o){yield Es(o)}}),LC.apply(this,arguments)}function VC(){return VC=(0,we.Z)(function*(n,e){const t=Ze(n);Fd(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=Ze(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=pm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),VC.apply(this,arguments)}function UC(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function BC(n,e,t){const r=Ze(n);let o=r.oa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||KA(n,r)})}function KA(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(mv(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),$C(n))}function jC(n,e,t){for(const r of t)r instanceof GA?(n.ra.addReference(r.key,e),Tx(n,r)):r instanceof zA?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||KA(n,r.key)):rt()}function Tx(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.na.add(r),$C(n))}function $C(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new He(Yt.fromString(e)),r=n.aa.next();n.ia.set(r,new yx(t)),n.sa=n.sa.insert(t,r),yI(n.remoteStore,new ia(_s(fo(t.path)),r,2,Zi.A))}}function ac(n,e,t){return HC.apply(this,arguments)}function HC(){return HC=(0,we.Z)(function*(n,e,t){const r=Ze(n),o=[],l=[],d=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,E)=>{d.push(r.ha(E,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,C.fromCache?"not-current":"current"),o.push(C);const x=lI.Js(E.targetId,C);l.push(x)}}))}),yield Promise.all(d),r.Zu.Ko(o),yield(m=(0,we.Z)(function*(E,C){const x=Ze(E);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ge.forEach(C,q=>ge.forEach(q.zs,J=>x.persistence.referenceDelegate.addReference(N,q.targetId,J)).next(()=>ge.forEach(q.Hs,J=>x.persistence.referenceDelegate.removeReference(N,q.targetId,J)))))}catch(N){if(!Rd(N))throw N;ke("LocalStore","Failed to update sequence numbers: "+N)}for(const N of C){const q=N.targetId;if(!N.fromCache){const J=x.si.get(q),Be=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);x.si=x.si.insert(q,Be)}}}),function(E,C){return m.apply(this,arguments)})(r.localStore,l))}),HC.apply(this,arguments)}function Ax(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,we.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield dI(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(d=>{d.forEach(m=>{m.reject(new Re(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ac(t,r.ci)}var o}),GC.apply(this,arguments)}function Sx(n,e){const t=Ze(n),r=t.ia.get(e);if(r&&r.Xu)return fn().add(r.key);{let o=fn();const l=t.ea.get(e);if(!l)return o;for(const d of l){const m=t.ta.get(d);o=o.unionWith(m.view.qu)}return o}}function Mx(n,e){return zC.apply(this,arguments)}function zC(){return zC=(0,we.Z)(function*(n,e){const t=Ze(n),r=yield dv(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&jC(t,e.targetId,o.zu),o}),zC.apply(this,arguments)}function xx(n,e){return WC.apply(this,arguments)}function WC(){return WC=(0,we.Z)(function*(n,e){const t=Ze(n);return rC(t.localStore,e).then(r=>ac(t,r))}),WC.apply(this,arguments)}function Rx(n,e,t,r){return qC.apply(this,arguments)}function qC(){return qC=(0,we.Z)(function*(n,e,t,r){const o=Ze(n),l=yield function(d,m){const E=Ze(d),C=Ze(E.$s);return E.persistence.runTransaction("Lookup mutation documents","readonly",x=>C.ln(x,m).next(N=>N?E.ai.qs(x,N):ge.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield hm(o.remoteStore):"acknowledged"===t||"rejected"===t?(BC(o,e,r||null),UC(o,e),m=e,Ze(Ze(o.localStore).$s).dn(m)):rt(),yield ac(o,l)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),qC.apply(this,arguments)}function ZC(){return ZC=(0,we.Z)(function*(n,e){const t=Ze(n);if(JC(t),XC(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield YA(t,r.toArray());t.ca=!0,yield EC(t.remoteStore,!0);for(const l of o)yI(t.remoteStore,l)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(ym(t,d),Nf(t.localStore,d,!0))),mv(t.remoteStore,d)}),yield o,yield YA(t,r),function(l){const d=Ze(l);d.ia.forEach((m,E)=>{mv(d.remoteStore,E)}),d.ra.bi(),d.ia=new Map,d.sa=new Kn(He.comparator)}(t),t.ca=!1,yield EC(t.remoteStore,!1)}}),ZC.apply(this,arguments)}function YA(n,e,t){return KC.apply(this,arguments)}function KC(){return KC=(0,we.Z)(function*(n,e,t){const r=Ze(n),o=[],l=[];for(const d of e){let m;const E=r.ea.get(d);if(E&&0!==E.length){m=yield Rf(r.localStore,_s(E[0]));for(const C of E){const x=r.ta.get(C),N=yield Mx(r,x);N.snapshot&&l.push(N.snapshot)}}else{const C=yield gI(r.localStore,d);m=yield Rf(r.localStore,C),yield xC(r,QA(C),d,!1)}o.push(m)}return r.Zu.Ko(l),o}),KC.apply(this,arguments)}function QA(n){return hw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Ox(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).Os()}function kx(n,e,t,r){return YC.apply(this,arguments)}function YC(){return YC=(0,we.Z)(function*(n,e,t,r){const o=Ze(n);if(o.ca)return void ke("SyncEngine","Ignoring unexpected query state notification.");const l=o.ea.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield rC(o.localStore,pw(l[0])),m=Dd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ac(o,d,m);break}case"rejected":yield Nf(o.localStore,e,!0),ym(o,e,r);break;default:rt()}}),YC.apply(this,arguments)}function Px(n,e,t){return QC.apply(this,arguments)}function QC(){return QC=(0,we.Z)(function*(n,e,t){const r=JC(n);if(r.ca){for(const o of e){if(r.ea.has(o)){ke("SyncEngine","Adding an already active target "+o);continue}const l=yield gI(r.localStore,o),d=yield Rf(r.localStore,l);yield xC(r,QA(l),d.targetId,!1),yI(r.remoteStore,d)}for(const o of t)r.ea.has(o)&&(yield Nf(r.localStore,o,!1).then(()=>{mv(r.remoteStore,o),ym(r,o)}).catch(Es))}}),QC.apply(this,arguments)}function JC(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ix.bind(null,e),e.Zu.Ko=hx.bind(null,e.eventManager),e.Zu.la=fx.bind(null,e.eventManager),e}function XC(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dx.bind(null,e),e}class JA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=oc(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return cI(this.persistence,new lv,e.initialUser,this.M)}_a(e){return new S($.Wi,this.M)}da(e){return new Yi}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XA extends JA{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield XC(r.ga.syncEngine),yield hm(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return cI(this.persistence,new lv,e.initialUser,this.M)}wa(e){return new QD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=am(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ki.withCacheSize(this.cacheSizeBytes):Ki.DEFAULT;return new sm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,lm(),Pd(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Yi}}class Lx extends XA{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof an&&(r.sharedClientState.syncEngine={kr:Rx.bind(null,o),Mr:kx.bind(null,o),Or:Px.bind(null,o),Os:Ox.bind(null,o),Nr:xx.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var l=(0,we.Z)(function*(d){yield function Nx(n,e){return ZC.apply(this,arguments)}(r.ga.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}da(e){const t=lm();if(!an.vt(t))throw new Re(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=am(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new an(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class eT{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>ZA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ax.bind(null,r.syncEngine),yield EC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dx}createDatastore(e){const t=oc(e.databaseInfo.databaseId),r=new pv(e.databaseInfo);return new JM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>ZA(this.syncEngine,m,0),d=um.vt()?new um:new sc,new ex(t,r,o,l,d);var t,r,o,l,d}createSyncEngine(e,t){return function(r,o,l,d,m,E,C){const x=new _x(r,o,l,d,m,E);return C&&(x.ca=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=Ze(t);ke("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield dm(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eS(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Vx{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new jr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,we.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const l=yield e.ba(o);return new px(JSON.parse(l),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,we.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Ux{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,we.Z)(function*(l,d){const m=Ze(l),E=zg(m.M)+"/documents",C={documents:d.map(J=>Ad(m.M,J))},x=yield m.co("BatchGetDocuments",E,C),N=new Map;x.forEach(J=>{const ye=function Wg(n,e){return"found"in e?function(t,r){Ct(!!r.found);const o=po(t,r.found.name),l=Gr(r.found.updateTime),d=new $r({mapValue:{fields:r.found.fields}});return Sn.newFoundDocument(o,l,d)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const o=po(t,r.missing),l=Gr(r.readTime);return Sn.newNoDocument(o,l)}(n,e):rt()}(m.M,J);N.set(ye.key.toString(),ye)});const q=[];return d.forEach(J=>{const ye=N.get(J.toString());Ct(!!ye),q.push(ye)}),q}),function(l,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=He.fromPath(o);e.mutations.push(new Vg(l,e.precondition(l)))}),yield(r=(0,we.Z)(function*(o,l){const d=Ze(o),m=zg(d.M)+"/documents",E={writes:l.map(C=>wf(d.M,C))};yield d.ro("Commit",m,E)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Hn.updateTime(t):Hn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Re(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hn.updateTime(t)}return Hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Bx{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new Of(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new Ux(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Ca(l)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!Ru(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Iw(t)}return!1}}class jx{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=yr.UNAUTHENTICATED,this.clientId=WE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,we.Z)(function*(m){ke("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ke("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=pm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function tS(n,e){return tT.apply(this,arguments)}function tT(){return tT=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,we.Z)(function*(l){r.isEqual(l)||(yield dI(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),tT.apply(this,arguments)}function nS(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield rT(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>BA(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>BA(e.remoteStore,l)),n.onlineComponents=e}),nT.apply(this,arguments)}function rT(n){return iT.apply(this,arguments)}function iT(){return iT=(0,we.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield tS(n,new JA)),n.offlineComponents}),iT.apply(this,arguments)}function EI(n){return sT.apply(this,arguments)}function sT(){return sT=(0,we.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield nS(n,new eT)),n.onlineComponents}),sT.apply(this,arguments)}function rS(n){return rT(n).then(e=>e.persistence)}function oT(n){return rT(n).then(e=>e.localStore)}function iS(n){return EI(n).then(e=>e.remoteStore)}function aT(n){return EI(n).then(e=>e.syncEngine)}function _m(n){return uT.apply(this,arguments)}function uT(){return uT=(0,we.Z)(function*(n){const e=yield EI(n),t=e.eventManager;return t.onListen=vx.bind(null,e.syncEngine),t.onUnlisten=Ex.bind(null,e.syncEngine),t}),uT.apply(this,arguments)}function sS(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(o,l,d,m,E){const C=new vI({next:N=>{l.enqueueAndForget(()=>CC(o,x));const q=N.docs.has(d);!q&&N.fromCache?E.reject(new Re(le.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&m&&"server"===m.source?E.reject(new Re(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(N)},error:N=>E.reject(N)}),x=new SC(fo(d.path),C,{includeMetadataChanges:!0,Du:!0});return bC(o,x)}(yield _m(n),n.asyncQueue,e,t,r)})),r.promise}function oS(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(o,l,d,m,E){const C=new vI({next:N=>{l.enqueueAndForget(()=>CC(o,x)),N.fromCache&&"server"===m.source?E.reject(new Re(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(N)},error:N=>E.reject(N)}),x=new SC(d,C,{includeMetadataChanges:!0,Du:!0});return bC(o,x)}(yield _m(n),n.asyncQueue,e,t,r)})),r.promise}const aS=new Map;function lT(n,e,t){if(!t)throw new Re(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uS(n,e,t,r){if(!0===e&&!0===r)throw new Re(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lS(n){if(!He.isDocumentKey(n))throw new Re(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cS(n){if(He.isDocumentKey(n))throw new Re(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wI(n);throw new Re(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dS(n,e){if(e<=0)throw new Re(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hS({}),this._settingsFrozen=!1,e instanceof ka?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Re(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(o.options.projectId)}(e))}get app(){if(!this._app)throw new Re(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new hA;switch(t.type){case"gapi":const r=t.client;return Ct(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zE(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aS.get(e);t&&(ke("ComponentProvider","Removing Datastore"),aS.delete(e),t.terminate())}(this),Promise.resolve()}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class Qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class Uu extends Qi{constructor(e,t,r){super(e,t,fo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new He(e))}withConverter(e){return new Uu(this.firestore,e,this._path)}}function fS(n,e,...t){if(n=(0,Gt.m9)(n),lT("collection","path",e),n instanceof yv){const r=Yt.fromString(e,...t);return cS(r),new Uu(n,null,r)}{if(!(n instanceof Yn||n instanceof Uu))throw new Re(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return cS(r),new Uu(n.firestore,null,r)}}function II(n,e,...t){if(n=(0,Gt.m9)(n),1===arguments.length&&(e=WE.R()),lT("doc","path",e),n instanceof yv){const r=Yt.fromString(e,...t);return lS(r),new Yn(n,null,new He(r))}{if(!(n instanceof Yn||n instanceof Uu))throw new Re(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return lS(r),new Yn(n.firestore,n instanceof Uu?n.converter:null,new He(r))}}function pS(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),(n instanceof Yn||n instanceof Uu)&&(e instanceof Yn||e instanceof Uu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gS(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),n instanceof Qi&&e instanceof Qi&&n.firestore===e.firestore&&_d(n._query,e._query)&&n.converter===e.converter}class Jx{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Of(this,"async_queue_retry"),this.Ua=()=>{const t=Pd();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Pd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=Pd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new jr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,we.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Rd(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,$n("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=IC.createAndSchedule(this,e,t,r,l=>this.Qa(l));return this.Oa.push(o),o}qa(){this.Fa&&rt()}verifyOperationInProgress(){}ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function cT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Xx{constructor(){this._progressObserver={},this._taskCompletionResolver=new jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nr extends yv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Jx,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mS(this),this._firestoreClient.terminate()}}function t1(n=(0,vu.getApp)()){return(0,vu._getProvider)(n,"firestore").getImmediate()}function zr(n){return n._firestoreClient||mS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mS(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new I_(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new jx(n._authCredentials,n._appCheckCredentials,n._queue,r)}function yS(n,e,t){const r=new jr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield tS(n,t),yield nS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===le.FAILED_PRECONDITION||l.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function _S(n){if(n._initialized||n._terminated)throw new Re(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bu(Sr.fromBase64String(e))}catch(t){throw new Re(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bu(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kf{constructor(e){this._methodName=e}}class bI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const c1=/^__.*__$/;class d1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Zl(e,this.data,this.fieldMask,t,this.fieldTransforms):new mf(e,this.data,t,this.fieldTransforms)}}class vS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ES(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class DI{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===l&&this.Ja(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new DI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return AI(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(ES(this.Ya)&&c1.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class h1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||oc(e)}uc(e,t,r,o=!1){return new DI({Ya:e,methodName:t,oc:r,path:Ar.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Pf(n){const e=n._freezeSettings(),t=oc(n._databaseId);return new h1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CI(n,e,t,r,o,l={}){const d=n.uc(l.merge||l.mergeFields?2:0,e,t,o);pT("Data must be an object, but it was:",d,r);const m=bS(r,d);let E,C;if(l.merge)E=new cd(d.fieldMask),C=d.fieldTransforms;else if(l.mergeFields){const x=[];for(const N of l.mergeFields){const q=gT(e,N,t);if(!d.contains(q))throw new Re(le.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);CS(x,q)||x.push(q)}E=new cd(x),C=d.fieldTransforms.filter(N=>E.covers(N.field))}else E=null,C=d.fieldTransforms;return new d1(new $r(m),E,C)}class _v extends kf{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _v}}function wS(n,e,t){return new DI({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class dT extends kf{_toFieldTransform(e){return new gf(e.path,new ql)}isEqual(e){return e instanceof dT}}class f1 extends kf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=wS(this,e,!0),r=this.ac.map(l=>Ff(l,t)),o=new Ou(r);return new gf(e.path,o)}isEqual(e){return this===e}}class p1 extends kf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=wS(this,e,!0),r=this.ac.map(l=>Ff(l,t)),o=new ku(r);return new gf(e.path,o)}isEqual(e){return this===e}}class g1 extends kf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new vd(e.M,_w(e.M,this.cc));return new gf(e.path,t)}isEqual(e){return this===e}}function hT(n,e,t,r){const o=n.uc(1,e,t);pT("Data must be an object, but it was:",o,r);const l=[],d=$r.empty();Hl(r,(E,C)=>{const x=TI(e,E,t);C=(0,Gt.m9)(C);const N=o.nc(x);if(C instanceof _v)l.push(x);else{const q=Ff(C,N);null!=q&&(l.push(x),d.set(x,q))}});const m=new cd(l);return new vS(d,m,o.fieldTransforms)}function fT(n,e,t,r,o,l){const d=n.uc(1,e,t),m=[gT(e,r,t)],E=[o];if(l.length%2!=0)throw new Re(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<l.length;q+=2)m.push(gT(e,l[q])),E.push(l[q+1]);const C=[],x=$r.empty();for(let q=m.length-1;q>=0;--q)if(!CS(C,m[q])){const J=m[q];let ye=E[q];ye=(0,Gt.m9)(ye);const Be=d.nc(J);if(ye instanceof _v)C.push(J);else{const it=Ff(ye,Be);null!=it&&(C.push(J),x.set(J,it))}}const N=new cd(C);return new vS(x,N,d.fieldTransforms)}function IS(n,e,t,r=!1){return Ff(t,n.uc(r?4:3,e))}function Ff(n,e){if(DS(n=(0,Gt.m9)(n)))return pT("Unsupported field value:",e,n),bS(n,e);if(n instanceof kf)return function(t,r){if(!ES(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const d of t){let m=Ff(d,r.sc(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _w(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=ur.fromDate(t);return{timestampValue:Ql(r.M,o)}}if(t instanceof ur){const o=new ur(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ql(r.M,o)}}if(t instanceof bI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bu)return{bytesValue:Mw(r.M,t._byteString)};if(t instanceof Yn){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.ic(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:V_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${wI(t)}`)}(n,e)}function bS(n,e){const t={};return Gl(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(n,(r,o)=>{const l=Ff(o,e.Za(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function DS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ur||n instanceof bI||n instanceof Bu||n instanceof Yn||n instanceof kf)}function pT(n,e,t){if(!DS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=wI(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function gT(n,e,t){if((e=(0,Gt.m9)(e))instanceof uc)return e._internalPath;if("string"==typeof e)return TI(n,e);throw AI("Field path arguments must be of type string or ",n,!1,void 0,t)}const m1=new RegExp("[~\\*/\\[\\]]");function TI(n,e,t){if(e.search(m1)>=0)throw AI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uc(...e.split("."))._internalPath}catch(r){throw AI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function AI(n,e,t,r,o){const l=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(l||d)&&(E+=" (found",l&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new Re(le.INVALID_ARGUMENT,m+n+E)}function CS(n,e){return n.some(t=>t.isEqual(e))}class vv{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new y1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class y1 extends vv{data(){return super.data()}}function SI(n,e){return"string"==typeof e?TI(n,e):e instanceof uc?e._internalPath:e._delegate._internalPath}class Lf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lc extends vv{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ev(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ev extends lc{data(e={}){return super.data(e)}}class Vd{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Lf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ev(this._firestore,this._userDataWriter,r.key,r,new Lf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Ev(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Lf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new Ev(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Lf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,C=-1;return 0!==d.type&&(E=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),C=l.indexOf(d.doc.key)),{type:_1(d.type),doc:m,oldIndex:E,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function TS(n,e){return n instanceof lc&&e instanceof lc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vd&&e instanceof Vd&&n._firestore===e._firestore&&gS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function AS(n){if(Va(n)&&0===n.explicitOrderBy.length)throw new Re(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wv{}function Ud(n,...e){for(const t of e)n=t._apply(n);return n}class v1 extends wv{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Pf(e.firestore),r=function(o,l,d,m,E,C,x){let N;if(E.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Re(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){OS(x,C);const J=[];for(const ye of x)J.push(NS(m,o,ye));N={arrayValue:{values:J}}}else N=NS(m,o,x)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||OS(x,C),N=IS(d,"where",x,"in"===C||"not-in"===C);const q=ni.create(E,C,N);return function(J,ye){if(ye.S()){const it=Og(J);if(null!==it&&!it.isEqual(ye.field))throw new Re(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${it.toString()}' and '${ye.field.toString()}'`);const Jt=fw(J);null!==Jt&&kS(0,ye.field,Jt)}const Be=function(it,Jt){for(const yt of it.filters)if(Jt.indexOf(yt.op)>=0)return yt.op;return null}(J,function(it){switch(it){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ye.op));if(null!==Be)throw new Re(le.INVALID_ARGUMENT,Be===ye.op?`Invalid query. You cannot use more than one '${ye.op.toString()}' filter.`:`Invalid query. You cannot use '${ye.op.toString()}' filters with '${Be.toString()}' filters.`)}(o,q),q}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Qi(e.firestore,e.converter,function(o,l){const d=o.filters.concat([l]);return new La(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class w1 extends wv{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Re(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new yd(o,l);return function(m,E){if(null===fw(m)){const C=Og(m);null!==C&&kS(0,C,E.field)}}(r,d),d}(e._query,this.hc,this.dc);return new Qi(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new La(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class SS extends wv{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Qi(e.firestore,e.converter,RD(e._query,this._c,this.wc))}}class MS extends wv{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=RS(e,this.type,this.mc,this.gc);return new Qi(e.firestore,e.converter,(o=t,new La((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class xS extends wv{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=RS(e,this.type,this.mc,this.gc);return new Qi(e.firestore,e.converter,(o=t,new La((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function RS(n,e,t,r){if(t[0]=(0,Gt.m9)(t[0]),t[0]instanceof vv)return function(o,l,d,m,E){if(!m)throw new Re(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const x of ff(o))if(x.field.isKeyField())C.push(Wl(l,m.key));else{const N=m.data.field(x.field);if(w_(N))throw new Re(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const q=x.field.canonicalString();throw new Re(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}C.push(N)}return new Nu(C,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Pf(n.firestore);return function(l,d,m,E,C,x){const N=l.explicitOrderBy;if(C.length>N.length)throw new Re(le.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let J=0;J<C.length;J++){const ye=C[J];if(N[J].field.isKeyField()){if("string"!=typeof ye)throw new Re(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof ye}`);if(!S_(l)&&-1!==ye.indexOf("/"))throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${ye}' contains a slash.`);const Be=l.path.child(Yt.fromString(ye));if(!He.isDocumentKey(Be))throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Be}' is not because it contains an odd number of segments.`);const it=new He(Be);q.push(Wl(d,it))}else{const Be=IS(m,E,ye);q.push(Be)}}return new Nu(q,x)}(n._query,n.firestore._databaseId,o,e,t,r)}}function NS(n,e,t){if("string"==typeof(t=(0,Gt.m9)(t))){if(""===t)throw new Re(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S_(e)&&-1!==t.indexOf("/"))throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Yt.fromString(t));if(!He.isDocumentKey(r))throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wl(n,new He(r))}if(t instanceof Yn)return Wl(n,t._key);throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wI(t)}.`)}function OS(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function kS(n,e,t){if(!t.isEqual(e))throw new Re(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class mT{convertValue(e,t="none"){switch(zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return Hl(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new bI(Zn(e.latitude),Zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=YE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nf(e));default:return null}}convertTimestamp(e){const t=Mu(e);return new ur(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yt.fromString(e);Ct(H_(r));const o=new ka(r.get(1),r.get(3)),l=new He(r.popFirst(5));return o.isEqual(t)||$n(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function MI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class M1 extends mT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class PS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pf(e)}set(e,t,r){this._verifyNotCommitted();const o=Bd(e,this._firestore),l=MI(o.converter,t,r),d=CI(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Hn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Bd(e,this._firestore);let d;return d="string"==typeof(t=(0,Gt.m9)(t))||t instanceof uc?fT(this._dataReader,"WriteBatch.update",l._key,t,r,o):hT(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bd(e,this._firestore);return this._mutations=this._mutations.concat(new vf(t._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bd(n,e){if((n=(0,Gt.m9)(n)).firestore!==e)throw new Re(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Vf extends mT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function FS(n,e,t){n=rn(n,Yn);const r=rn(n.firestore,nr),o=MI(n.converter,e,t);return vm(r,[CI(Pf(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Hn.none())])}function LS(n,e,t,...r){n=rn(n,Yn);const o=rn(n.firestore,nr),l=Pf(o);let d;return d="string"==typeof(e=(0,Gt.m9)(e))||e instanceof uc?fT(l,"updateDoc",n._key,e,t,r):hT(l,"updateDoc",n._key,e),vm(o,[d.toMutation(n._key,Hn.exists(!0))])}function VS(n,...e){var t,r,o;n=(0,Gt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||cT(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(cT(e[d])){const N=e[d];e[d]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[d+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[d+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let E,C,x;if(n instanceof Yn)C=rn(n.firestore,nr),x=fo(n._key.path),E={next:N=>{e[d]&&e[d](yT(C,n,N))},error:e[d+1],complete:e[d+2]};else{const N=rn(n,Qi);C=rn(N.firestore,nr),x=N._query;const q=new Vf(C);E={next:J=>{e[d]&&e[d](new Vd(C,q,N,J))},error:e[d+1],complete:e[d+2]},AS(n._query)}return function(N,q,J,ye){const Be=new vI(ye),it=new SC(q,Be,J);return N.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return bC(yield _m(N),it)})),()=>{Be.pa(),N.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return CC(yield _m(N),it)}))}}(zr(C),x,m,E)}function vm(n,e){return function(t,r){const o=new jr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function wx(n,e,t){return OC.apply(this,arguments)}(yield aT(t),r,o)})),o.promise}(zr(n),e)}function yT(n,e,t){const r=t.docs.get(e._key),o=new Vf(n);return new lc(n,o,e._key,r,new Lf(t.hasPendingWrites,t.fromCache),e.converter)}class U1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Pf(e)}get(e){const t=Bd(e,this._firestore),r=new M1(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return rt();const l=o[0];if(l.isFoundDocument())return new vv(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new vv(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const o=Bd(e,this._firestore),l=MI(o.converter,t,r),d=CI(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const l=Bd(e,this._firestore);let d;return d="string"==typeof(t=(0,Gt.m9)(t))||t instanceof uc?fT(this._dataReader,"Transaction.update",l._key,t,r,o):hT(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Bd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bd(e,this._firestore),r=new Vf(this._firestore);return super.get(e).then(o=>new lc(this._firestore,r,t._key,o._document,new Lf(!1,!1),t.converter))}}function _T(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BS(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function jS(){if(!function KE(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){$l=vu.SDK_VERSION,(0,vu._registerComponent)(new Gi.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new nr(o,new pA(t.getProvider("auth-internal")),new AD(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,vu.registerVersion)($E,"3.4.7",n),(0,vu.registerVersion)($E,"3.4.7","esm2017")}();class Iv{constructor(e){this._delegate=e}static fromBase64String(e){return jS(),new Iv(Bu.fromBase64String(e))}static fromUint8Array(e){return BS(),new Iv(Bu.fromUint8Array(e))}toBase64(){return jS(),this._delegate.toBase64()}toUint8Array(){return BS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vT(n){return function Z1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class K1{enableIndexedDbPersistence(e,t){return function n1(n,e){_S(n=rn(n,nr));const t=zr(n),r=n._freezeSettings(),o=new eT;return yS(t,o,new XA(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function r1(n){_S(n=rn(n,nr));const e=zr(n),t=n._freezeSettings(),r=new eT;return yS(e,r,new Lx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function i1(n){if(n._initialized&&!n._terminated)throw new Re(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new jr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!mo.vt())return Promise.resolve();const o=r+"main";yield mo.delete(o)}),function(r){return t.apply(this,arguments)})(am(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $S{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ka||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Yx(n,e,t,r={}){var o;const l=(n=rn(n,yv))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Jh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=yr.MOCK_USER;else{d=(0,Gt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Re(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new yr(E)}n._authCredentials=new fA(new GE(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function o1(n){return function $x(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield rS(n),t=yield iS(n);return e.setNetworkEnabled(!0),function(r){const o=Ze(r);return o.lu.delete(0),gv(o)}(t)}))}(zr(n=rn(n,nr)))}(this._delegate)}disableNetwork(){return function a1(n){return function Hx(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield rS(n),t=yield iS(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(o){const l=Ze(o);l.lu.add(0),yield dm(l),l._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(zr(n=rn(n,nr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function s1(n){return function(e){const t=new jr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function Cx(n,e){return VC.apply(this,arguments)}(yield aT(e),t)})),t.promise}(zr(n=rn(n,nr)))}(this._delegate)}onSnapshotsInSync(e){return function V1(n,e){return function Wx(n,e){const t=new vI(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield _m(n),o=t,Ze(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield _m(n),o=t,void Ze(r).Tu.delete(o);var r,o}))}}(zr(n=rn(n,nr)),cT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Em(this,fS(this._delegate,e))}catch(t){throw ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,II(this._delegate,e))}catch(t){throw ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Is(this,function Qx(n,e){if(n=rn(n,yv),lT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(n,null,(t=e,new La(Yt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function B1(n,e){return function qx(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const r=yield(o=n,EI(o).then(l=>l.datastore));var o;new Bx(n.asyncQueue,r,e,t).run()})),t.promise}(zr(n=rn(n,nr)),t=>e(new U1(n,t)))}(this._delegate,t=>e(new HS(this,t)))}batch(){return zr(this._delegate),new GS(new PS(this._delegate,e=>vm(this._delegate,e)))}loadBundle(e){return function u1(n,e){const t=zr(n=rn(n,nr)),r=new Xx;return function Zx(n,e,t,r){const o=function(l,d){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,C){if(E instanceof Uint8Array)return eS(E,C);if(E instanceof ArrayBuffer)return eS(new Uint8Array(E),C);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Vx(E,d);var E}(t,oc(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function Fx(n,e,t){const r=Ze(n);var o;(o=(0,we.Z)(function*(l,d,m){try{const E=yield d.getMetadata();if(yield function(q,J){const ye=Ze(q),Be=Gr(J.createTime);return ye.persistence.runTransaction("hasNewerBundle","readonly",it=>ye.ds.getBundleMetadata(it,J.id)).then(it=>!!it&&it.createTime.compareTo(Be)>=0)}(l.localStore,E))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=E).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(HA(E));const C=new gx(E,l.localStore,d.M);let x=yield d.fa();for(;x;){const q=yield C.Nu(x);q&&m._updateProgress(q),x=yield d.fa()}const N=yield C.complete();return yield ac(l,N.Ou,void 0),yield function(q,J){const ye=Ze(q);return ye.persistence.runTransaction("Save bundle","readwrite",Be=>ye.ds.saveBundleMetadata(Be,J))}(l.localStore,E),m._completeWith(N.progress),Promise.resolve(N.Mu)}catch(E){return Jh("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var q}),function(l,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield aT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function l1(n,e){return function Kx(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const o=Ze(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.ds.getNamedQuery(l,r))}(yield oT(n),e)}))}(zr(n=rn(n,nr)),e).then(t=>t?new Qi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Is(this,t):null)}}class xI extends mT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iv(new Bu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class HS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xI(e)}get(e){const t=Bf(e);return this._delegate.get(t).then(r=>new bv(this._firestore,new lc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Bf(e);return r?(_T("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Bf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Bf(e);return this._delegate.delete(t),this}}class GS{constructor(e){this._delegate=e}set(e,t,r){const o=Bf(e);return r?(_T("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Bf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Bf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Uf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ev(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Uf.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Uf(e,new xI(e),t),o.set(t,l)),l}}Uf.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new Yn(t._delegate,r,new He(e)))}static forKey(e,t,r){return new sa(t,new Yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Em(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Em(this.firestore,fS(this._delegate,e))}catch(t){throw ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Yn&&pS(this._delegate,e)}set(e,t){t=_T("DocumentReference.set",t);try{return t?FS(this._delegate,e,t):FS(this._delegate,e)}catch(r){throw ws(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LS(this._delegate,e):LS(this._delegate,e,t,...r)}catch(o){throw ws(o,"updateDoc()","DocumentReference.update()")}}delete(){return function F1(n){return vm(rn(n.firestore,nr),[new vf(n._key,Hn.none())])}(this._delegate)}onSnapshot(...e){const t=zS(e),r=WS(e,o=>new bv(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return VS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function R1(n){n=rn(n,Yn);const e=rn(n.firestore,nr),t=zr(e),r=new Vf(e);return function Gx(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(o,l,d){try{const m=yield function(E,C){const x=Ze(E);return x.persistence.runTransaction("read document","readonly",N=>x.ai.Bs(N,C))}(o,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Re(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=pm(m,`Failed to get document '${l} from cache`);d.reject(E)}}),function(o,l,d){return r.apply(this,arguments)})(yield oT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new lc(e,r,n._key,o,new Lf(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function N1(n){n=rn(n,Yn);const e=rn(n.firestore,nr);return sS(zr(e),n._key,{source:"server"}).then(t=>yT(e,n,t))}(this._delegate):function x1(n){n=rn(n,Yn);const e=rn(n.firestore,nr);return sS(zr(e),n._key).then(t=>yT(e,n,t))}(this._delegate),t.then(r=>new bv(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?Uf.getInstance(this.firestore,e):null))}}function ws(n,e,t){return n.message=n.message.replace(e,t),n}function zS(n){for(const e of n)if("object"==typeof e&&!vT(e))return e;return{}}function WS(n,e){var t,r;let o;return o=vT(n[0])?n[0]:vT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class bv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return TS(this._delegate,e._delegate)}}class Dv extends bv{data(e){const t=this._delegate.data(e);return function HE(n,e){n||rt()}(void 0!==t),t}}class Is{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xI(e)}where(e,t,r){try{return new Is(this.firestore,Ud(this._delegate,function E1(n,e,t){const r=e,o=SI("where",n);return new v1(o,r,t)}(e,t,r)))}catch(o){throw ws(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Is(this.firestore,Ud(this._delegate,function I1(n,e="asc"){const t=e,r=SI("orderBy",n);return new w1(r,t)}(e,t)))}catch(r){throw ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Is(this.firestore,Ud(this._delegate,function b1(n){return dS("limit",n),new SS("limit",n,"F")}(e)))}catch(t){throw ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Is(this.firestore,Ud(this._delegate,function D1(n){return dS("limitToLast",n),new SS("limitToLast",n,"L")}(e)))}catch(t){throw ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Is(this.firestore,Ud(this._delegate,function C1(...n){return new MS("startAt",n,!0)}(...e)))}catch(t){throw ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Is(this.firestore,Ud(this._delegate,function T1(...n){return new MS("startAfter",n,!1)}(...e)))}catch(t){throw ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Is(this.firestore,Ud(this._delegate,function A1(...n){return new xS("endBefore",n,!1)}(...e)))}catch(t){throw ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Is(this.firestore,Ud(this._delegate,function S1(...n){return new xS("endAt",n,!0)}(...e)))}catch(t){throw ws(t,"endAt()","Query.endAt()")}}isEqual(e){return gS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function k1(n){n=rn(n,Qi);const e=rn(n.firestore,nr),t=zr(e),r=new Vf(e);return function zx(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(o,l,d){try{const m=yield dv(o,l,!0),E=new WA(l,m.hi),C=E.Gu(m.documents),x=E.applyChanges(C,!1);d.resolve(x.snapshot)}catch(m){const E=pm(m,`Failed to execute query '${l} against cache`);d.reject(E)}}),function(o,l,d){return r.apply(this,arguments)})(yield oT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Vd(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function P1(n){n=rn(n,Qi);const e=rn(n.firestore,nr),t=zr(e),r=new Vf(e);return oS(t,n._query,{source:"server"}).then(o=>new Vd(e,r,n,o))}(this._delegate):function O1(n){n=rn(n,Qi);const e=rn(n.firestore,nr),t=zr(e),r=new Vf(e);return AS(n._query),oS(t,n._query).then(o=>new Vd(e,r,n,o))}(this._delegate),t.then(r=>new ET(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=zS(e),r=WS(e,o=>new ET(this.firestore,new Vd(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return VS(this._delegate,t,r)}withConverter(e){return new Is(this.firestore,this._delegate.withConverter(e?Uf.getInstance(this.firestore,e):null))}}class Q1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Dv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ET{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Q1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Dv(this._firestore,r))})}isEqual(e){return TS(this._delegate,e._delegate)}}class Em extends Is{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?II(this._delegate):II(this._delegate,e))}catch(t){throw ws(t,"doc()","CollectionReference.doc()")}}add(e){return function L1(n,e){const t=rn(n.firestore,nr),r=II(n),o=MI(n.converter,e);return vm(t,[CI(Pf(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return pS(this._delegate,e._delegate)}withConverter(e){return new Em(this.firestore,this._delegate.withConverter(e?Uf.getInstance(this.firestore,e):null))}}function Bf(n){return rn(n,Yn)}class wT{constructor(...e){this._delegate=new uc(...e)}static documentId(){return new wT(Ar.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof uc&&this._delegate._internalPath.isEqual(e._internalPath)}}class jf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $1(){return new dT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new jf(e)}static delete(){const e=function j1(){return new _v("deleteField")}();return e._methodName="FieldValue.delete",new jf(e)}static arrayUnion(...e){const t=function H1(...n){return new f1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new jf(t)}static arrayRemove(...e){const t=function G1(...n){return new p1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new jf(t)}static increment(e){const t=function z1(n){return new g1("increment",n)}(e);return t._methodName="FieldValue.increment",new jf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const J1={Firestore:$S,GeoPoint:bI,Timestamp:ur,Blob:Iv,Transaction:HS,WriteBatch:GS,DocumentReference:sa,DocumentSnapshot:bv,Query:Is,QueryDocumentSnapshot:Dv,QuerySnapshot:ET,CollectionReference:Em,FieldPath:wT,FieldValue:jf,setLogLevel:function Y1(n){!function TD(n){Oa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function eR(n){(function X1(n,e){n.INTERNAL.registerComponent(new Gi.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},J1)))})(n,(e,t)=>new $S(e,t,new K1)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(q0.Z);var tR=k(6451),RI=k(5363),nR=k(6063);class rR extends os.x{constructor(e=1/0,t=1/0,r=nR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!o&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const d=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=d;E+=2)m=E;m&&r.splice(0,m+1)}}}var iR=k(3099);function qS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,iR.B)({connector:()=>new rR(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function ZS(n,e){return(0,Lo.m)(e)?Bn(()=>n,e):Bn(()=>n)}var IT=k(9468),$f=k(5867);class wm{constructor(e){return e}}class KS{constructor(){return(0,$f.C6)()}}const bT=new f.OlP("angularfire2._apps"),oR={provide:wm,useFactory:function sR(n){return n&&1===n.length?n[0]:new wm((0,$f.Mq)())},deps:[[new f.FiY,bT]]},aR={provide:KS,deps:[[new f.FiY,bT]]};function uR(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wm(r)}}let lR=(()=>{class n{constructor(t){(0,$f.KN)("angularfire",En.q4.full,"core"),(0,$f.KN)("angularfire",En.q4.full,"app"),(0,$f.KN)("angular",f.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[oR,aR]}),n})();function cR(n,...e){return{ngModule:lR,providers:[{provide:bT,useFactory:uR(n),multi:!0,deps:[f.R0b,f.zs3,En.HU,...e]}]}}const dR=(0,En.u3)($f.ZF,!0),YS=new Map,hR={activated:!1,tokenObservers:[]},fR={initialized:!1,enabled:!1};function _i(n){return YS.get(n)||hR}function Ba(n,e){YS.set(n,e)}function NI(){return fR}class _R{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Gt.BH,yield function vR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const bs=new Gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JS(n){if(!_i(n).activated)throw bs.create("use-before-activation",{appName:n.name})}function TT(n,e){return AT.apply(this,arguments)}function AT(){return AT=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(N){throw bs.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==d.status)throw bs.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(N){throw bs.create("fetch-parse-error",{originalErrorMessage:N.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw bs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(E[1]),x=Date.now();return{token:m.attestationToken,expireTimeMillis:x+C,issuedAtTimeMillis:x}}),AT.apply(this,arguments)}function DR(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Cv="firebase-app-check-store";let PI=null;function eM(){return PI||(PI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(bs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Cv,{keyPath:"compositeKey"})}}catch(t){e(bs.create("storage-open",{originalErrorMessage:t.message}))}}),PI)}function ST(){return ST=(0,we.Z)(function*(n,e){const r=(yield eM()).transaction(Cv,"readwrite"),l=r.objectStore(Cv).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=E=>{d()},r.onerror=E=>{var C;m(bs.create("storage-set",{originalErrorMessage:null===(C=E.target.error)||void 0===C?void 0:C.message}))}})}),ST.apply(this,arguments)}const Tv=new Sl.Yd("@firebase/app-check");function iM(n,e){return(0,Gt.hl)()?function SR(n,e){return function tM(n,e){return ST.apply(this,arguments)}(function rM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Tv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sM(){return NI().enabled}function oM(){return NT.apply(this,arguments)}function NT(){return NT=(0,we.Z)(function*(){const n=NI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),NT.apply(this,arguments)}const kR={error:"UNKNOWN_ERROR"};function PR(n){return Gt.US.encodeString(JSON.stringify(n),!1)}function FI(n){return OT.apply(this,arguments)}function OT(){return OT=(0,we.Z)(function*(n,e=!1){const t=n.app;JS(t);const r=_i(t);let l,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&LI(E)&&(o=E)}if(!e&&o&&LI(o))return{token:o.token};let m,d=!1;if(sM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=TT(DR(t,yield oM()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),d=!0);const E=yield r.exchangeTokenPromise;return yield iM(t,E),Ba(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Tv.warn(E.message):Tv.error(E),l=E}return o?(m={token:o.token},Ba(t,Object.assign(Object.assign({},r),{token:o})),yield iM(t,o)):m=LR(l),d&&uM(t,m),m}),OT.apply(this,arguments)}function PT(n,e){const t=_i(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ba(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function aM(n){const{app:e}=n,t=_i(e);let r=t.tokenRefresher;r||(r=function FR(n){const{app:e}=n;return new _R((0,we.Z)(function*(){let r;if(r=_i(e).token?yield FI(n,!0):yield FI(n),r.error)throw r.error}),()=>!0,()=>{const t=_i(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ba(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function uM(n,e){const t=_i(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function LI(n){return n.expireTimeMillis-Date.now()>0}function LR(n){return{token:PR(kR),error:n}}class VR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_i(this.app);for(const t of e)PT(this.app,t.next);return Promise.resolve()}}const mM="app-check-internal";!function JR(){(0,vu._registerComponent)(new Gi.wA("app-check",n=>function UR(n,e){return new VR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mM).initialize()})),(0,vu._registerComponent)(new Gi.wA(mM,n=>function BR(n){return{getToken:e=>FI(n,e),addTokenListener:e=>function kT(n,e,t,r){const{app:o}=n,l=_i(o),d={next:t,error:r,type:e};if(Ba(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&LI(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),aM(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>aM(n))}(n,"INTERNAL",e),removeTokenListener:e=>PT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,vu.registerVersion)("@firebase/app-check","0.5.5")}();class UI{constructor(){return(0,En.vb)("app-check")}}"undefined"!=typeof window&&window;var rN=k(127);const _M=new f.OlP("angularfire2.auth.use-emulator"),vM=new f.OlP("angularfire2.auth.settings"),EM=new f.OlP("angularfire2.auth.tenant-id"),wM=new f.OlP("angularfire2.auth.langugage-code"),IM=new f.OlP("angularfire2.auth.use-device-language"),bM=new f.OlP("angularfire.auth.persistence"),DM=(n,e,t,r,o,l,d,m)=>(0,gs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,l&&E.useDeviceLanguage(),d)for(const[C,x]of Object.entries(d))E.settings[C]=x;return m&&E.setPersistence(m),E},[t,r,o,l,d,m]);let CM=(()=>{class n{constructor(t,r,o,l,d,m,E,C,x,N,q,J){const ye=new os.x,Be=ft(void 0).pipe((0,RI.Q)(d.outsideAngular),Bn(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,Pt.U)(()=>(0,gs.on)(t,l,r)),(0,Pt.U)(it=>DM(it,l,m,C,x,N,E,q)),qS({bufferSize:1,refCount:!1}));if(Do(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ft(null);else{Be.pipe(eo()).subscribe();const Jt=Be.pipe(Bn(At=>At.getRedirectResult().then(zt=>zt,()=>null)),En.iC,qS({bufferSize:1,refCount:!1})),yt=Be.pipe(Bn(At=>new or.y(zt=>({unsubscribe:l.runOutsideAngular(()=>At.onAuthStateChanged(Wt=>zt.next(Wt),Wt=>zt.error(Wt),()=>zt.complete()))})))),Mn=Be.pipe(Bn(At=>new or.y(zt=>({unsubscribe:l.runOutsideAngular(()=>At.onIdTokenChanged(Wt=>zt.next(Wt),Wt=>zt.error(Wt),()=>zt.complete()))}))));this.authState=Jt.pipe(ZS(yt),(0,IT.R)(d.outsideAngular),(0,RI.Q)(d.insideAngular)),this.user=Jt.pipe(ZS(Mn),(0,IT.R)(d.outsideAngular),(0,RI.Q)(d.insideAngular)),this.idToken=this.user.pipe(Bn(At=>At?(0,Tn.D)(At.getIdToken()):ft(null))),this.idTokenResult=this.user.pipe(Bn(At=>At?(0,Tn.D)(At.getIdTokenResult()):ft(null))),this.credential=(0,tR.T)(Jt,ye,this.authState.pipe(ds(At=>!At))).pipe((0,Pt.U)(At=>(null==At?void 0:At.user)?At:null),(0,IT.R)(d.outsideAngular),(0,RI.Q)(d.insideAngular))}return(0,gs.pX)(this,Be,l,{spy:{apply:(it,Jt,yt)=>{(it.startsWith("signIn")||it.startsWith("createUser"))&&yt.then(Mn=>ye.next(Mn))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(gs.Dh),f.LFG(gs.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(En.HU),f.LFG(_M,8),f.LFG(vM,8),f.LFG(EM,8),f.LFG(wM,8),f.LFG(IM,8),f.LFG(bM,8),f.LFG(UI,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function TM(n,e){return function sN(n,e=W0.z){return new or.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function BT(n,e){return TM(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function BI(n,e){return BT(n,e).pipe(Di(void 0),My(),(0,Pt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const E=o.find(x=>x.doc.ref.isEqual(d.ref)),C=null==t?void 0:t.payload.docs.find(x=>x.ref.isEqual(d.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(d.metadata)||!E&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function AM(n,e,t){return BI(n,t).pipe(li((r,o)=>function aN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function uN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return jT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function uA(n,e=Ui.y){return n=null!=n?n:lA,(0,pr.e)((t,r)=>{let o,l=!0;t.subscribe((0,An.x)(r,d=>{const m=e(d);(l||!n(o,m))&&(l=!1,o=m,r.next(d))}))})}(),(0,Pt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function jT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function SM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class MM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=BI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Di(void 0),My(),ds(([r,o])=>o.length>0||!r),(0,Pt.U)(([r,o])=>o),En.iC)}auditTrail(e){return this.stateChanges(e).pipe(li((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SM(e);return AM(this.query,t,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(e={}){return BT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),En.iC)}get(e){return(0,Tn.D)(this.query.get(e)).pipe(En.iC)}add(e){return this.ref.add(e)}doc(e){return new xM(this.ref.doc(e),this.afs)}}class xM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=OM(r,t);return new MM(o,l,this.afs)}snapshotChanges(){return function oN(n,e){return TM(n,e).pipe(Di(void 0),My(),(0,Pt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Tn.D)(this.ref.get(e)).pipe(En.iC)}}class lN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?BI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ds(t=>t.length>0),En.iC):BI(this.query,this.afs.schedulers.outsideAngular).pipe(En.iC)}auditTrail(e){return this.stateChanges(e).pipe(li((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=SM(e);return AM(this.query,t,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(e={}){return BT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),En.iC)}get(e){return(0,Tn.D)(this.query.get(e)).pipe(En.iC)}}const RM=new f.OlP("angularfire2.enableFirestorePersistence"),NM=new f.OlP("angularfire2.firestore.persistenceSettings"),cN=new f.OlP("angularfire2.firestore.settings"),dN=new f.OlP("angularfire2.firestore.use-emulator");function OM(n,e=(t=>t)){return{query:e(n),ref:n}}let kM=(()=>{class n{constructor(t,r,o,l,d,m,E,C,x,N,q,J,ye,Be,it,Jt,yt){this.schedulers=E;const Mn=(0,gs.on)(t,m,r),At=x;N&&DM(Mn,m,q,ye,Be,it,J,Jt),[this.firestore,this.persistenceEnabled$]=(0,gs.cc)(`${Mn.name}.firestore`,"AngularFirestore",Mn.name,()=>{const zt=m.runOutsideAngular(()=>Mn.firestore());if(l&&zt.settings(l),At&&zt.useEmulator(...At),o&&!Do(d)){const Wt=()=>{try{return(0,Tn.D)(zt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(ju){return"undefined"!=typeof console&&console.warn(ju),ft(!1)}};return[zt,m.runOutsideAngular(Wt)]}return[zt,ft(!1)]},[l,At,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=OM(o,r),m=this.schedulers.ngZone.run(()=>l);return new MM(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),l=this.firestore.collectionGroup(t);return new lN(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new xM(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(gs.Dh),f.LFG(gs.xv,8),f.LFG(RM,8),f.LFG(cN,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(En.HU),f.LFG(NM,8),f.LFG(dN,8),f.LFG(CM,8),f.LFG(_M,8),f.LFG(vM,8),f.LFG(EM,8),f.LFG(wM,8),f.LFG(IM,8),f.LFG(bM,8),f.LFG(UI,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hN=(()=>{class n{constructor(){rN.Z.registerVersion("angularfire",En.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:RM,useValue:!0},{provide:NM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[kM]}),n})(),Av=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("tasks-list").add(t)}getAll(t){return this._client.collection("tasks-list",r=>r.orderBy("text","asc")).valueChanges({idField:"id"}).pipe((0,Pt.U)(r=>((n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(o=>((o,l,d)=>void 0===o.find(m=>l[m]!==d[m]))(t,o,e))})(r,t)))}set(t){this._client.doc("tasks-list/"+t.id).update(t)}remove(t){this._client.doc("tasks-list/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(kM))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const PM=new f.OlP("GETS_ALL_TASK_DTO"),FM=new f.OlP("SETS_TASK_DTO"),LM=new f.OlP("REMOVES_TASK_DTO");let VM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Av,{provide:H0,useExisting:Av},{provide:PM,useExisting:Av},{provide:FM,useExisting:Av},{provide:LM,useExisting:Av}],imports:[[hN]]}),n})(),pN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Fi,Ls.forChild([{path:"",component:z0}]),Xv,Kb,VM]]}),n})();function gN(n,e){if(1&n&&(f.TgZ(0,"div",6),f._uU(1),f.ALo(2,"async"),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.hij("",f.lcZ(2,1,t.count$)," Task complited!\n")}}function mN(n,e){1&n&&(f.TgZ(0,"div",7),f._uU(1," Task deleted!\n"),f.qZA())}const yN=function(n){return{"bg-success":n}},_N=function(n){return{"text-decoration-line-through":n}};function vN(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"label",8)(1,"input",9),f.NdJ("click",function(){const l=f.CHM(t).$implicit;return f.oxw().onClickStrikethroughtasked(l)})("click",function(){const l=f.CHM(t).$implicit;return f.oxw().counter(l)})("click",function(){return f.CHM(t),f.oxw().showAlert()}),f.qZA(),f.TgZ(2,"div",10),f._uU(3),f.qZA(),f.TgZ(4,"button",11),f._uU(5," ... "),f.qZA(),f.TgZ(6,"ul",12)(7,"button",13),f._uU(8," Delete task "),f.qZA(),f.TgZ(9,"button",14),f._uU(10," Edit task "),f.qZA()()()}if(2&n){const t=e.$implicit;f.xp6(1),f.Q6J("ngClass",f.VKq(4,yN,!0===t.checked))("checked",t.checked),f.xp6(1),f.Q6J("ngClass",f.VKq(6,_N,!0===t.checked)),f.xp6(1),f.hij(" ",t.text," ")}}function EN(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",26),f.NdJ("click",function(){f.CHM(t);const o=f.oxw(2);return o.onClickDeletealltasksed(o.tasksList$)}),f._uU(1,"Delete all tasks"),f.qZA()}}function wN(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"h5",19),f._uU(5," Delete task "),f.qZA(),f._UZ(6,"button",20),f.qZA(),f.TgZ(7,"div",21),f._uU(8,"Are you sure you want to delete this task?"),f.qZA(),f.TgZ(9,"div",22)(10,"button",23),f._uU(11," Close "),f.qZA(),f.TgZ(12,"button",24),f.NdJ("click",function(){const l=f.CHM(t).$implicit;return f.oxw().onClickDeletetasked(l.id)})("click",function(){return f.CHM(t),f.oxw().showDeleteAlert()}),f._uU(13,"Delete task"),f.qZA(),f.YNc(14,EN,2,0,"button",25),f.qZA()()()()}if(2&n){const t=f.oxw();f.xp6(14),f.Q6J("ngIf",t.backToHomePage)}}function IN(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",27)(1,"div",28)(2,"div",17)(3,"div",18),f.O4$(),f.TgZ(4,"svg",29),f._UZ(5,"path",30)(6,"path",31),f.qZA(),f.kcU(),f.TgZ(7,"h6",32),f._uU(8,"Edit task"),f.qZA(),f._UZ(9,"button",20),f.qZA(),f.TgZ(10,"h6",21),f._uU(11," Priority"),f._UZ(12,"br"),f.O4$(),f.TgZ(13,"svg",33),f._UZ(14,"path",34),f.qZA(),f.TgZ(15,"svg",35),f._UZ(16,"path",34),f.qZA(),f.TgZ(17,"svg",36),f._UZ(18,"path",34),f.qZA(),f.TgZ(19,"svg",37),f._UZ(20,"path",34),f.qZA()(),f.kcU(),f.TgZ(21,"div",18),f.O4$(),f.TgZ(22,"svg",38),f.NdJ("click",function(){const l=f.CHM(t).$implicit;return f.oxw().onClickDeletetasked(l.id)}),f._UZ(23,"path",39)(24,"path",40),f.qZA(),f.kcU(),f.TgZ(25,"h6",32),f._uU(26,"Delete task"),f.qZA(),f._UZ(27,"button",20),f.qZA()()()()}}let bN=(()=>{class n{constructor(t,r,o,l){this._getsAllTaskDto=t,this._setsTaskDto=r,this._removesTaskDto=o,this.router=l,this.tasksList$=this._getsAllTaskDto.getAll().pipe((0,Pr.b)(d=>this.backToHomePage(d))),this.count$=this.tasksList$.pipe((0,Pt.U)(d=>d.filter(m=>m.checked).length)),this.setTask=new Tl({text:new Fp}),this.count=0,this.completeAlert=!1,this.deleteAlert=!1}onClickStrikethroughtasked(t){this._setsTaskDto.set(!1===t.checked?{id:t.id,checked:!0}:{id:t.id,checked:!1})}showAlert(){this.completeAlert=!0,this.deleteAlert=!1}showDeleteAlert(){this.completeAlert=!1,this.deleteAlert=!0}counter(t){!0===t.checked?this.count-=1:this.count+=1}onClickDeletetasked(t){this._removesTaskDto.remove(t)}onClickDeletealltasksed(t){t.doc("text.id").delete()}backToHomePage(t){t.length<1&&this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(PM),f.Y36(FM),f.Y36(LM),f.Y36(fi))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-task-list"]],decls:9,vars:12,consts:[["class","counter alert alert-success style-css border-2","role","alert",4,"ngIf"],["class","counter alert alert-danger style-css border-2","role","alert",4,"ngIf"],[1,"form-check","form-check-inline","position-relative","d-flex","flex-column","mb-4","ms-5","ms-md-0",3,"formGroup"],["class","position-relative form-check-label py-2 w-75",4,"ngFor","ngForOf"],["class","modal fade","id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngFor","ngForOf"],["class","modal fade","id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",4,"ngFor","ngForOf"],["role","alert",1,"counter","alert","alert-success","style-css","border-2"],["role","alert",1,"counter","alert","alert-danger","style-css","border-2"],[1,"position-relative","form-check-label","py-2","w-75"],["ng-model","deleted","role","button","type","checkbox","id","inlineCheckbox1","value","option1",1,"form-check-input","rounded-circle","hover-gray","p-2",3,"ngClass","checked","click"],[3,"ngClass"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"position-absolute","bottom-0","mt-5","end-0","btn","line-height-0","mb-2"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","text-left"],["type","button","role","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-light","p-2","bg-hover","border-0","w-100"],["type","button","role","button","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","btn-light","p-2","bg-hover","border-0","w-100"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","text-uppercase"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-warning",3,"click"],["id","liveAlertBtn","type","button","class","btn btn-danger","data-bs-dismiss","modal",3,"click",4,"ngIf"],["id","liveAlertBtn","type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","role","button","viewBox","0 0 16 16",1,"bi","bi-pencil-square","me-2"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],["id","staticBackdropLabel",1,"modal-title"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","role","button","viewBox","0 0 16 16",1,"bi","bi-flag","me-2","mt-2","text-danger"],["d","M14.778.085A.5.5 0 0 1 15 .5V8a.5.5 0 0 1-.314.464L14.5 8l.186.464-.003.001-.006.003-.023.009a12.435 12.435 0 0 1-.397.15c-.264.095-.631.223-1.047.35-.816.252-1.879.523-2.71.523-.847 0-1.548-.28-2.158-.525l-.028-.01C7.68 8.71 7.14 8.5 6.5 8.5c-.7 0-1.638.23-2.437.477A19.626 19.626 0 0 0 3 9.342V15.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 1 0v.282c.226-.079.496-.17.79-.26C4.606.272 5.67 0 6.5 0c.84 0 1.524.277 2.121.519l.043.018C9.286.788 9.828 1 10.5 1c.7 0 1.638-.23 2.437-.477a19.587 19.587 0 0 0 1.349-.476l.019-.007.004-.002h.001M14 1.221c-.22.078-.48.167-.766.255-.81.252-1.872.523-2.734.523-.886 0-1.592-.286-2.203-.534l-.008-.003C7.662 1.21 7.139 1 6.5 1c-.669 0-1.606.229-2.415.478A21.294 21.294 0 0 0 3 1.845v6.433c.22-.078.48-.167.766-.255C4.576 7.77 5.638 7.5 6.5 7.5c.847 0 1.548.28 2.158.525l.028.01C9.32 8.29 9.86 8.5 10.5 8.5c.668 0 1.606-.229 2.415-.478A21.317 21.317 0 0 0 14 7.655V1.222z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","role","button","viewBox","0 0 16 16",1,"bi","bi-flag","me-2","mt-2","text-warning"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","role","button","viewBox","0 0 16 16",1,"bi","bi-flag","text-primary","me-2","mt-2","fw-bold"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","role","button","viewBox","0 0 16 16",1,"bi","bi-flag","text-primary","mt-2","text-secondary"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","role","button","data-bs-dismiss","modal","viewBox","0 0 16 16",1,"bi","bi-trash","me-2",3,"click"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,r){1&t&&(f.YNc(0,gN,3,3,"div",0),f.YNc(1,mN,2,0,"div",1),f.TgZ(2,"div",2),f.YNc(3,vN,11,8,"label",3),f.ALo(4,"async"),f.qZA(),f.YNc(5,wN,15,1,"div",4),f.ALo(6,"async"),f.YNc(7,IN,28,0,"div",5),f.ALo(8,"async")),2&t&&(f.Q6J("ngIf",r.completeAlert),f.xp6(1),f.Q6J("ngIf",r.deleteAlert),f.xp6(1),f.Q6J("formGroup",r.setTask),f.xp6(1),f.Q6J("ngForOf",f.lcZ(4,6,r.tasksList$)),f.xp6(2),f.Q6J("ngForOf",f.lcZ(6,8,r.tasksList$)),f.xp6(2),f.Q6J("ngForOf",f.lcZ(8,10,r.tasksList$)))},directives:[Rr,Dp,Al,sr,Oi],pipes:[jd],encapsulation:2,changeDetection:0}),n})(),DN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-my-list-page"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"border-bottom","ms-5","border-dark","w-75","text-center"],[1,"container","mt-4","ms-sm-5"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0)(1,"div",1),f._UZ(2,"lib-task-list"),f.qZA()(),f._UZ(3,"p",2),f.TgZ(4,"section",3),f._UZ(5,"lib-add-task"),f.qZA())},directives:[bN,G0],encapsulation:2,changeDetection:0}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Fi,Sy,Ls]]}),n})(),TN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Fi,Ls.forChild([{path:"",component:DN}]),Kb,VM,CN]]}),n})();const AN=[{path:"",loadChildren:()=>ry},{path:"tasks",loadChildren:()=>pN},{path:"my-list",loadChildren:()=>TN}];let SN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ls.forRoot(AN)],Ls]}),n})(),MN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-navbar"]],decls:4,vars:0,consts:[[1,"navbar",2,"background-color","#7300e6"],[1,"container-fluid"],["routerLink","/",1,"nav-link","navbar-brand","h2","text-light","ps-5","text-uppercase"]],template:function(t,r){1&t&&(f.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),f._uU(3,"awesome todo app"),f.qZA()()())},directives:[pp],encapsulation:2,changeDetection:0}),n})(),xN=(()=>{class n{constructor(){this.date=new Date}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-date"]],decls:8,vars:4,consts:[[1,"navbar","navbar-light"],[1,"container-fluid"],[1,"navbar-brand","ps-5","fw-bold","text-uppercase","fs-1"],[1,"ms-2","fw-normal","fs-6"],[1,"border-bottom","ms-5","border-dark","w-75","text-center"]],template:function(t,r){1&t&&(f.TgZ(0,"nav",0)(1,"div",1)(2,"h2",2),f._uU(3,"Today"),f.TgZ(4,"span",3),f._uU(5),f.ALo(6,"date"),f.qZA()()(),f._UZ(7,"p",4),f.qZA()),2&t&&(f.xp6(5),f.hij(" ",f.xi3(6,1,r.date,"EEE d MMMM"),""))},pipes:[Gu],encapsulation:2,changeDetection:0}),n})(),RN=(()=>{class n{constructor(){this.title="todo-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&f._UZ(0,"lib-navbar")(1,"lib-date")(2,"router-outlet")},directives:[MN,xN,vl],styles:["input[type=checkbox][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{text-decoration:line-through}"]}),n})(),NN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Fi,Ls]]}),n})(),ON=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Fi]]}),n})();const $T_firebase={projectId:"lowgular-team",appId:"1:229029381419:web:4a0524004e1a1dfd43f16e",storageBucket:"lowgular-team.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBudRiQYQ0sTGbrnxa8GGx3Gl1qEgIKTqU",authDomain:"lowgular-team.firebaseapp.com",messagingSenderId:"229029381419"};k(424);class BM{constructor(){return(0,En.vb)("auth")}}class zT{constructor(e){return e}}const jM="firestore",WT=new f.OlP("angularfire2.firestore-instances");function UN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new zT(r)}}const BN={provide:class LN{constructor(){return(0,En.vb)(jM)}},deps:[[new f.FiY,WT]]},jN={provide:zT,useFactory:function VN(n,e){const t=(0,En.JM)(jM,n,e);return t&&new zT(t)},deps:[[new f.FiY,WT],wm]};let $N=(()=>{class n{constructor(){(0,$f.KN)("angularfire",En.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[jN,BN]}),n})();function HN(n,...e){return{ngModule:$N,providers:[{provide:WT,useFactory:UN(n),multi:!0,deps:[f.R0b,f.zs3,En.HU,KS,[new f.FiY,BM],[new f.FiY,UI],...e]}]}}const GN=(0,En.u3)(t1,!0);let zN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[RN]}),n.\u0275inj=f.cJS({providers:[],imports:[[Zs,SN,NN,ON,cR(()=>dR($T_firebase)),HN(()=>GN()),gs.hO.initializeApp($T_firebase)]]}),n})();(0,f.G48)(),fa().bootstrapModule(zN).catch(n=>console.error(n))},5867:(lt,Te,k)=>{k.d(Te,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=k(9681);(0,f.registerVersion)("firebase","9.6.10","app")},127:(lt,Te,k)=>{k.d(Te,{Z:()=>f.Z});var f=k(3942);f.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(lt,Te,k)=>{k.r(Te);var f=k(5861),j=k(3942),R=k(424),re=k(2090),ue=(k(9681),k(1877),k(4859));function oe(){return window}function H(){return(H=(0,f.Z)(function*(O,L,B){var se;const{BuildInfo:Le}=oe();(0,R.ap)(L.sessionId,"AuthEvent did not contain a session ID");const ze=yield Ie(L.sessionId),_t={};return(0,R.aq)()?_t.ibi=Le.packageName:(0,R.ar)()?_t.apn=Le.packageName:(0,R.as)(O,"operation-not-supported-in-this-environment"),Le.displayName&&(_t.appDisplayName=Le.displayName),_t.sessionId=ze,(0,R.at)(O,B,L.type,void 0,null!==(se=L.eventId)&&void 0!==se?se:void 0,_t)})).apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(O){const{BuildInfo:L}=oe(),B={};(0,R.aq)()?B.iosBundleId=L.packageName:(0,R.ar)()?B.androidPackageName=L.packageName:(0,R.as)(O,"operation-not-supported-in-this-environment"),yield(0,R.au)(O,B)})).apply(this,arguments)}function Fe(){return(Fe=(0,f.Z)(function*(O,L,B){const{cordova:se}=oe();let Le=()=>{};try{yield new Promise((ze,_t)=>{let Je=null;function Dt(){var jt;ze();const wr=null===(jt=se.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof wr&&wr(),"function"==typeof(null==B?void 0:B.close)&&B.close()}function _n(){Je||(Je=window.setTimeout(()=>{_t((0,R.av)(O,"redirect-cancelled-by-user"))},2e3))}function Qn(){"visible"===(null==document?void 0:document.visibilityState)&&_n()}L.addPassiveListener(Dt),document.addEventListener("resume",_n,!1),(0,R.ar)()&&document.addEventListener("visibilitychange",Qn,!1),Le=()=>{L.removePassiveListener(Dt),document.removeEventListener("resume",_n,!1),document.removeEventListener("visibilitychange",Qn,!1),Je&&window.clearTimeout(Je)}})}finally{Le()}})).apply(this,arguments)}function Ie(O){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,f.Z)(function*(O){const L=Ue(O),B=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(B)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ue(O){if((0,R.ap)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(O);const L=new ArrayBuffer(O.length),B=new Uint8Array(L);for(let se=0;se<O.length;se++)B[se]=O.charCodeAt(se);return B}class Ae extends R.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(L)),super.onEvent(L)}initialized(){var L=this;return(0,f.Z)(function*(){yield L.initPromise})()}}function ee(O){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,f.Z)(function*(O){const L=yield ae()._get(he(O));return L&&(yield ae()._remove(he(O))),L})).apply(this,arguments)}function ce(){const O=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const se=Math.floor(Math.random()*L.length);O.push(L.charAt(se))}return O.join("")}function ae(){return(0,R.ax)(R.b)}function he(O){return(0,R.ay)("authEvent",O.config.apiKey,O.name)}function wt(O){if(!(null==O?void 0:O.includes("?")))return{};const[L,...B]=O.split("?");return(0,re.zd)(B.join("?"))}function ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.av)("no-auth-event")}}function qt(){var O;return(null===(O=null==self?void 0:self.location)||void 0===O?void 0:O.protocol)||null}function bn(O=(0,re.z$)()){return!("file:"!==qt()&&"ionic:"!==qt()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function si(){try{const O=self.localStorage,L=R.aG();if(O)return O.setItem(L,"1"),O.removeItem(L),!function xi(O=(0,re.z$)()){return function vr(){return(0,re.w1)()&&11===(null==document?void 0:document.documentMode)}()||function cr(O=(0,re.z$)()){return/Edge\/\d+/.test(O)}(O)}()||(0,re.hl)()}catch(O){return ir()&&(0,re.hl)()}return!1}function ir(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function dr(){return(function Kt(){return"http:"===qt()||"https:"===qt()}()||(0,re.ru)()||bn())&&!function rr(){return(0,re.b$)()||(0,re.UG)()}()&&si()&&!ir()}function Ji(){return bn()&&"undefined"!=typeof document}function Er(){return(Er=(0,f.Z)(function*(){return!!Ji()&&new Promise(O=>{const L=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(L),O(!0)})})})).apply(this,arguments)}const en={LOCAL:"local",NONE:"none",SESSION:"session"},Vn=R.aw,oi="persistence";function Dn(O){return xr.apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(O){yield O._initializationPromise;const L=Ft(),B=R.ay(oi,O.config.apiKey,O.name);L&&L.setItem(B,O._getPersistence())})).apply(this,arguments)}function Ft(){var O;try{return(null===(O=function Rn(){return"undefined"!=typeof window?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch(L){return null}}const at=R.aw;class et{constructor(){this.browserResolver=R.ax(R.k),this.cordovaResolver=R.ax(class xn{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aA}_initialize(L){var B=this;return(0,f.Z)(function*(){const se=L._key();let Le=B.eventManagers.get(se);return Le||(Le=new Ae(L),B.eventManagers.set(se,Le),B.attachCallbackListeners(L,Le)),Le})()}_openPopup(L){(0,R.as)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,B,se,Le){var ze=this;return(0,f.Z)(function*(){!function pe(O){var L,B,se,Le,ze,_t,Je,Dt,_n,Qn;const jt=oe();(0,R.aw)("function"==typeof(null===(L=null==jt?void 0:jt.universalLinks)||void 0===L?void 0:L.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aw)(void 0!==(null===(B=null==jt?void 0:jt.BuildInfo)||void 0===B?void 0:B.packageName),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aw)("function"==typeof(null===(ze=null===(Le=null===(se=null==jt?void 0:jt.cordova)||void 0===se?void 0:se.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ze?void 0:ze.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(Dt=null===(Je=null===(_t=null==jt?void 0:jt.cordova)||void 0===_t?void 0:_t.plugins)||void 0===Je?void 0:Je.browsertab)||void 0===Dt?void 0:Dt.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(Qn=null===(_n=null==jt?void 0:jt.cordova)||void 0===_n?void 0:_n.InAppBrowser)||void 0===Qn?void 0:Qn.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const _t=yield ze._initialize(L);yield _t.initialized(),_t.resetRedirect(),(0,R.aB)(),yield ze._originValidation(L);const Je=function Ee(O,L,B=null){return{type:L,eventId:B,urlResponse:null,sessionId:ce(),postBody:null,tenantId:O.tenantId,error:(0,R.av)(O,"no-auth-event")}}(L,se,Le);yield function We(O,L){return ae()._set(he(O),L)}(L,Je);const Dt=yield function G(O,L,B){return H.apply(this,arguments)}(L,Je,B),_n=yield function xe(O){const{cordova:L}=oe();return new Promise(B=>{L.plugins.browsertab.isAvailable(se=>{let Le=null;se?L.plugins.browsertab.openUrl(O):Le=L.InAppBrowser.open(O,(0,R.ao)()?"_blank":"_system","location=yes"),B(Le)})})}(Dt);return function Oe(O,L,B){return Fe.apply(this,arguments)}(L,_t,_n)})()}_isIframeWebStorageSupported(L,B){throw new Error("Method not implemented.")}_originValidation(L){const B=L._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function X(O){return Ge.apply(this,arguments)}(L)),this.originValidationPromises[B]}attachCallbackListeners(L,B){const{universalLinks:se,handleOpenURL:Le,BuildInfo:ze}=oe(),_t=setTimeout((0,f.Z)(function*(){yield ee(L),B.onEvent(ct())}),500),Je=function(){var Qn=(0,f.Z)(function*(jt){clearTimeout(_t);const wr=yield ee(L);let vi=null;wr&&(null==jt?void 0:jt.url)&&(vi=function K(O,L){var B,se;const Le=function ie(O){const L=wt(O),B=L.link?decodeURIComponent(L.link):void 0,se=wt(B).link,Le=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return wt(Le).link||Le||se||B||O}(L);if(Le.includes("/__/auth/callback")){const ze=wt(Le),_t=ze.firebaseError?function Ne(O){try{return JSON.parse(O)}catch(L){return null}}(decodeURIComponent(ze.firebaseError)):null,Je=null===(se=null===(B=null==_t?void 0:_t.code)||void 0===B?void 0:B.split("auth/"))||void 0===se?void 0:se[1],Dt=Je?(0,R.av)(Je):null;return Dt?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:Dt,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:Le,postBody:null}}return null}(wr,jt.url)),B.onEvent(vi||ct())});return function(wr){return Qn.apply(this,arguments)}}();void 0!==se&&"function"==typeof se.subscribe&&se.subscribe(null,Je);const Dt=Le,_n=`${ze.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var Qn=(0,f.Z)(function*(jt){if(jt.toLowerCase().startsWith(_n)&&Je({url:jt}),"function"==typeof Dt)try{Dt(jt)}catch(wr){console.error(wr)}});return function(jt){return Qn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aA}_initialize(L){var B=this;return(0,f.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,B,se,Le){var ze=this;return(0,f.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openPopup(L,B,se,Le)})()}_openRedirect(L,B,se,Le){var ze=this;return(0,f.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openRedirect(L,B,se,Le)})()}_isIframeWebStorageSupported(L,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,B)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return Ji()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return at(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,f.Z)(function*(){if(L.underlyingResolver)return;const B=yield function ot(){return Er.apply(this,arguments)}();L.underlyingResolver=B?L.cordovaResolver:L.browserResolver})()}}function Wr(O){return O.unwrap()}function Vt(O){return On(O)}function On(O){const{_tokenResponse:L}=O instanceof re.ZR?O.customData:O;if(!L)return null;if(!(O instanceof re.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return R.P.credentialFromResult(O);const B=L.providerId;if(!B||B===R.o.PASSWORD)return null;let se;switch(B){case R.o.GOOGLE:se=R.N;break;case R.o.FACEBOOK:se=R.M;break;case R.o.GITHUB:se=R.Q;break;case R.o.TWITTER:se=R.V;break;default:const{oauthIdToken:Le,oauthAccessToken:ze,oauthTokenSecret:_t,pendingToken:Je,nonce:Dt}=L;return ze||_t||Le||Je?Je?B.startsWith("saml.")?R.aJ._create(B,Je):R.I._fromParams({providerId:B,signInMethod:B,pendingToken:Je,idToken:Le,accessToken:ze}):new R.T(B).credential({idToken:Le,accessToken:ze,rawNonce:Dt}):null}return O instanceof re.ZR?se.credentialFromError(O):se.credentialFromResult(O)}function tn(O,L){return L.catch(B=>{throw B instanceof re.ZR&&function Ni(O,L){var B;const se=null===(B=L.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===L.code)L.resolver=new Ut(O,R.am(O,L));else if(se){const Le=On(L),ze=L;Le&&(ze.credential=Le,ze.tenantId=se.tenantId||void 0,ze.email=se.email||void 0,ze.phoneNumber=se.phoneNumber||void 0)}}(O,B),B}).then(B=>{const Le=B.user;return{operationType:B.operationType,credential:Vt(B),additionalUserInfo:R.ak(B),user:$e.getOrCreate(Le)}})}function dt(O,L){return kn.apply(this,arguments)}function kn(){return(kn=(0,f.Z)(function*(O,L){const B=yield L;return{verificationId:B.verificationId,confirm:se=>tn(O,B.confirm(se))}})).apply(this,arguments)}class Ut{constructor(L,B){this.resolver=B,this.auth=function Ri(O){return O.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return tn(Wr(this.auth),this.resolver.resolveSignIn(L))}}class $e{constructor(L){this._delegate=L,this.multiFactor=R.an(L)}static getOrCreate(L){return $e.USER_MAP.has(L)||$e.USER_MAP.set(L,new $e(L)),$e.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var B=this;return(0,f.Z)(function*(){return tn(B.auth,R.Y(B._delegate,L))})()}linkWithPhoneNumber(L,B){var se=this;return(0,f.Z)(function*(){return dt(se.auth,R.l(se._delegate,L,B))})()}linkWithPopup(L){var B=this;return(0,f.Z)(function*(){return tn(B.auth,R.d(B._delegate,L,et))})()}linkWithRedirect(L){var B=this;return(0,f.Z)(function*(){return yield Dn(R.aC(B.auth)),R.g(B._delegate,L,et)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var B=this;return(0,f.Z)(function*(){return tn(B.auth,R.Z(B._delegate,L))})()}reauthenticateWithPhoneNumber(L,B){return dt(this.auth,R.r(this._delegate,L,B))}reauthenticateWithPopup(L){return tn(this.auth,R.e(this._delegate,L,et))}reauthenticateWithRedirect(L){var B=this;return(0,f.Z)(function*(){return yield Dn(R.aC(B.auth)),R.h(B._delegate,L,et)})()}sendEmailVerification(L){return R.aa(this._delegate,L)}unlink(L){var B=this;return(0,f.Z)(function*(){return yield R.aj(B._delegate,L),B})()}updateEmail(L){return R.af(this._delegate,L)}updatePassword(L){return R.ag(this._delegate,L)}updatePhoneNumber(L){return R.u(this._delegate,L)}updateProfile(L){return R.ae(this._delegate,L)}verifyBeforeUpdateEmail(L,B){return R.ab(this._delegate,L,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$e.USER_MAP=new WeakMap;const be=R.aw;let Qe=(()=>{class O{constructor(B,se){if(this.app=B,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=B.options;be(Le,"invalid-api-key",{appName:B.name}),be(Le,"invalid-api-key",{appName:B.name});const ze="undefined"!=typeof window?et:void 0;this._delegate=se.initialize({options:{persistence:St(Le,B.name),popupRedirectResolver:ze}}),this._delegate._updateErrorMap(R.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$e.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,se){R.E(this._delegate,B,se)}applyActionCode(B){return R.a1(this._delegate,B)}checkActionCode(B){return R.a2(this._delegate,B)}confirmPasswordReset(B,se){return R.a0(this._delegate,B,se)}createUserWithEmailAndPassword(B,se){var Le=this;return(0,f.Z)(function*(){return tn(Le._delegate,R.a4(Le._delegate,B,se))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return R.a9(this._delegate,B)}isSignInWithEmailLink(B){return R.a7(this._delegate,B)}getRedirectResult(){var B=this;return(0,f.Z)(function*(){be(dr(),B._delegate,"operation-not-supported-in-this-environment");const se=yield R.j(B._delegate,et);return se?tn(B._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function un(O,L){(0,R.aC)(O)._logFramework(L)}(this._delegate,B)}onAuthStateChanged(B,se,Le){const{next:ze,error:_t,complete:Je}=ut(B,se,Le);return this._delegate.onAuthStateChanged(ze,_t,Je)}onIdTokenChanged(B,se,Le){const{next:ze,error:_t,complete:Je}=ut(B,se,Le);return this._delegate.onIdTokenChanged(ze,_t,Je)}sendSignInLinkToEmail(B,se){return R.a6(this._delegate,B,se)}sendPasswordResetEmail(B,se){return R.$(this._delegate,B,se||void 0)}setPersistence(B){var se=this;return(0,f.Z)(function*(){let Le;switch(function Nn(O,L){Vn(Object.values(en).includes(L),O,"invalid-persistence-type"),(0,re.b$)()?Vn(L!==en.SESSION,O,"unsupported-persistence-type"):(0,re.UG)()?Vn(L===en.NONE,O,"unsupported-persistence-type"):ir()?Vn(L===en.NONE||L===en.LOCAL&&(0,re.hl)(),O,"unsupported-persistence-type"):Vn(L===en.NONE||si(),O,"unsupported-persistence-type")}(se._delegate,B),B){case en.SESSION:Le=R.a;break;case en.LOCAL:Le=(yield R.ax(R.i)._isAvailable())?R.i:R.b;break;case en.NONE:Le=R.K;break;default:return R.as("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return tn(this._delegate,R.W(this._delegate))}signInWithCredential(B){return tn(this._delegate,R.X(this._delegate,B))}signInWithCustomToken(B){return tn(this._delegate,R._(this._delegate,B))}signInWithEmailAndPassword(B,se){return tn(this._delegate,R.a5(this._delegate,B,se))}signInWithEmailLink(B,se){return tn(this._delegate,R.a8(this._delegate,B,se))}signInWithPhoneNumber(B,se){return dt(this._delegate,R.s(this._delegate,B,se))}signInWithPopup(B){var se=this;return(0,f.Z)(function*(){return be(dr(),se._delegate,"operation-not-supported-in-this-environment"),tn(se._delegate,R.c(se._delegate,B,et))})()}signInWithRedirect(B){var se=this;return(0,f.Z)(function*(){return be(dr(),se._delegate,"operation-not-supported-in-this-environment"),yield Dn(se._delegate),R.f(se._delegate,B,et)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return R.a3(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=en,O})();function ut(O,L,B){let se=O;"function"!=typeof O&&({next:se,error:L,complete:B}=O);const Le=se;return{next:_t=>Le(_t&&$e.getOrCreate(_t)),error:L,complete:B}}function St(O,L){const B=function js(O,L){const B=Ft();if(!B)return[];const se=R.ay(oi,O,L);switch(B.getItem(se)){case en.NONE:return[R.K];case en.LOCAL:return[R.i,R.a];case en.SESSION:return[R.a];default:return[]}}(O,L);if("undefined"!=typeof self&&!B.includes(R.i)&&B.push(R.i),"undefined"!=typeof window)for(const se of[R.b,R.a])B.includes(se)||B.push(se);return B.includes(R.K)||B.push(R.K),B}class Mt{constructor(){this.providerId="phone",this._delegate=new R.P(Wr(j.Z.auth()))}static credential(L,B){return R.P.credential(L,B)}verifyPhoneNumber(L,B){return this._delegate.verifyPhoneNumber(L,B)}unwrap(){return this._delegate}}Mt.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Mt.PROVIDER_ID=R.P.PROVIDER_ID;const z=R.aw;class U{constructor(L,B,se=j.Z.app()){var Le;z(null===(Le=se.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new R.R(L,B,se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function de(O){O.INTERNAL.registerComponent(new ue.wA("auth-compat",L=>{const B=L.getProvider("app-compat").getImmediate(),se=L.getProvider("auth");return new Qe(B,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.L,FacebookAuthProvider:R.M,GithubAuthProvider:R.Q,GoogleAuthProvider:R.N,OAuthProvider:R.T,SAMLAuthProvider:R.U,PhoneAuthProvider:Mt,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:U,TwitterAuthProvider:R.V,Auth:Qe,AuthCredential:R.G,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.2.11")}(j.Z)},8306:(lt,Te,k)=>{k.d(Te,{y:()=>G});var f=k(2961),j=k(727),R=k(8822),re=k(4671);var ue=k(2416),oe=k(576),fe=k(2806);let G=(()=>{class xe{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const pe=new xe;return pe.source=this,pe.operator=Fe,pe}subscribe(Fe,pe,Ie){const Ye=function Ge(xe){return xe&&xe instanceof f.Lv||function X(xe){return xe&&(0,oe.m)(xe.next)&&(0,oe.m)(xe.error)&&(0,oe.m)(xe.complete)}(xe)&&(0,j.Nn)(xe)}(Fe)?Fe:new f.Hp(Fe,pe,Ie);return(0,fe.x)(()=>{const{operator:Ue,source:Me}=this;Ye.add(Ue?Ue.call(Ye,Me):Me?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(pe){Fe.error(pe)}}forEach(Fe,pe){return new(pe=H(pe))((Ie,Ye)=>{const Ue=new f.Hp({next:Me=>{try{Fe(Me)}catch(Ae){Ye(Ae),Ue.unsubscribe()}},error:Ye,complete:Ie});this.subscribe(Ue)})}_subscribe(Fe){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Fe)}[R.L](){return this}pipe(...Fe){return function _e(xe){return 0===xe.length?re.y:1===xe.length?xe[0]:function(Fe){return xe.reduce((pe,Ie)=>Ie(pe),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=H(Fe))((pe,Ie)=>{let Ye;this.subscribe(Ue=>Ye=Ue,Ue=>Ie(Ue),()=>pe(Ye))})}}return xe.create=Oe=>new xe(Oe),xe})();function H(xe){var Oe;return null!==(Oe=null!=xe?xe:ue.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(lt,Te,k)=>{k.d(Te,{x:()=>ue});var f=k(8306),j=k(727);const re=(0,k(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=k(8737),_e=k(2806);let ue=(()=>{class fe extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const X=new oe(this,this);return X.operator=H,X}_throwIfClosed(){if(this.closed)throw new re}next(H){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(H)}})}error(H){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:X}=this;for(;X.length;)X.shift().error(H)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:X,isStopped:Ge,observers:xe}=this;return X||Ge?j.Lc:(this.currentObservers=null,xe.push(H),new j.w0(()=>{this.currentObservers=null,(0,te.P)(xe,H)}))}_checkFinalizedStatuses(H){const{hasError:X,thrownError:Ge,isStopped:xe}=this;X?H.error(Ge):xe&&H.complete()}asObservable(){const H=new f.y;return H.source=this,H}}return fe.create=(G,H)=>new oe(G,H),fe})();class oe extends ue{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===X||X.call(H,G)}error(G){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===X||X.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,X;return null!==(X=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==X?X:j.Lc}}},2961:(lt,Te,k)=>{k.d(Te,{Hp:()=>Fe,Lv:()=>X});var f=k(576),j=k(727),R=k(2416),re=k(7849);function te(){}const _e=fe("C",void 0,void 0);function fe(Me,Ae,Ee){return{kind:Me,value:Ae,error:Ee}}var G=k(3410),H=k(2806);class X extends j.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,j.Nn)(Ae)&&Ae.add(this)):this.destination=Ue}static create(Ae,Ee,We){return new Fe(Ae,Ee,We)}next(Ae){this.isStopped?Ye(function oe(Me){return fe("N",Me,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?Ye(function ue(Me){return fe("E",void 0,Me)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?Ye(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function xe(Me,Ae){return Ge.call(Me,Ae)}class Oe{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ae)}catch(We){pe(We)}}error(Ae){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ae)}catch(We){pe(We)}else pe(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Ee){pe(Ee)}}}class Fe extends X{constructor(Ae,Ee,We){let ee;if(super(),(0,f.m)(Ae)||!Ae)ee={next:null!=Ae?Ae:void 0,error:null!=Ee?Ee:void 0,complete:null!=We?We:void 0};else{let Ke;this&&R.v.useDeprecatedNextContext?(Ke=Object.create(Ae),Ke.unsubscribe=()=>this.unsubscribe(),ee={next:Ae.next&&xe(Ae.next,Ke),error:Ae.error&&xe(Ae.error,Ke),complete:Ae.complete&&xe(Ae.complete,Ke)}):ee=Ae}this.destination=new Oe(ee)}}function pe(Me){R.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Me):(0,re.h)(Me)}function Ye(Me,Ae){const{onStoppedNotification:Ee}=R.v;Ee&&G.z.setTimeout(()=>Ee(Me,Ae))}const Ue={closed:!0,next:te,error:function Ie(Me){throw Me},complete:te}},727:(lt,Te,k)=>{k.d(Te,{Lc:()=>_e,w0:()=>te,Nn:()=>ue});var f=k(576);const R=(0,k(3888).d)(fe=>function(H){fe(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((X,Ge)=>`${Ge+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var re=k(8737);class te{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const xe of H)xe.remove(this);else H.remove(this);const{initialTeardown:X}=this;if((0,f.m)(X))try{X()}catch(xe){G=xe instanceof R?xe.errors:[xe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const xe of Ge)try{oe(xe)}catch(Oe){G=null!=G?G:[],Oe instanceof R?G=[...G,...Oe.errors]:G.push(Oe)}}if(G)throw new R(G)}}add(G){var H;if(G&&G!==this)if(this.closed)oe(G);else{if(G instanceof te){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,re.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,re.P)(H,G),G instanceof te&&G._removeParent(this)}}te.EMPTY=(()=>{const fe=new te;return fe.closed=!0,fe})();const _e=te.EMPTY;function ue(fe){return fe instanceof te||fe&&"closed"in fe&&(0,f.m)(fe.remove)&&(0,f.m)(fe.add)&&(0,f.m)(fe.unsubscribe)}function oe(fe){(0,f.m)(fe)?fe():fe.unsubscribe()}},2416:(lt,Te,k)=>{k.d(Te,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Te,k)=>{k.d(Te,{E:()=>j});const j=new(k(8306).y)(te=>te.complete())},8996:(lt,Te,k)=>{k.d(Te,{D:()=>Ae});var f=k(8421),j=k(5363),R=k(9468),_e=k(8306),oe=k(2202),fe=k(576),G=k(9672);function X(Ee,We){if(!Ee)throw new Error("Iterable cannot be null");return new _e.y(ee=>{(0,G.f)(ee,We,()=>{const Ke=Ee[Symbol.asyncIterator]();(0,G.f)(ee,We,()=>{Ke.next().then(K=>{K.done?ee.complete():ee.next(K.value)})},0,!0)})})}var Ge=k(3670),xe=k(8239),Oe=k(1144),Fe=k(6495),pe=k(2206),Ie=k(4532),Ye=k(3260);function Ae(Ee,We){return We?function Me(Ee,We){if(null!=Ee){if((0,Ge.c)(Ee))return function re(Ee,We){return(0,f.Xf)(Ee).pipe((0,R.R)(We),(0,j.Q)(We))}(Ee,We);if((0,Oe.z)(Ee))return function ue(Ee,We){return new _e.y(ee=>{let Ke=0;return We.schedule(function(){Ke===Ee.length?ee.complete():(ee.next(Ee[Ke++]),ee.closed||this.schedule())})})}(Ee,We);if((0,xe.t)(Ee))return function te(Ee,We){return(0,f.Xf)(Ee).pipe((0,R.R)(We),(0,j.Q)(We))}(Ee,We);if((0,pe.D)(Ee))return X(Ee,We);if((0,Fe.T)(Ee))return function H(Ee,We){return new _e.y(ee=>{let Ke;return(0,G.f)(ee,We,()=>{Ke=Ee[oe.h](),(0,G.f)(ee,We,()=>{let K,ce;try{({value:K,done:ce}=Ke.next())}catch(ae){return void ee.error(ae)}ce?ee.complete():ee.next(K)},0,!0)}),()=>(0,fe.m)(null==Ke?void 0:Ke.return)&&Ke.return()})}(Ee,We);if((0,Ye.L)(Ee))return function Ue(Ee,We){return X((0,Ye.Q)(Ee),We)}(Ee,We)}throw(0,Ie.z)(Ee)}(Ee,We):(0,f.Xf)(Ee)}},8421:(lt,Te,k)=>{k.d(Te,{Xf:()=>Ge});var f=k(655),j=k(1144),R=k(8239),re=k(8306),te=k(3670),_e=k(2206),ue=k(4532),oe=k(6495),fe=k(3260),G=k(576),H=k(7849),X=k(8822);function Ge(Me){if(Me instanceof re.y)return Me;if(null!=Me){if((0,te.c)(Me))return function xe(Me){return new re.y(Ae=>{const Ee=Me[X.L]();if((0,G.m)(Ee.subscribe))return Ee.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,j.z)(Me))return function Oe(Me){return new re.y(Ae=>{for(let Ee=0;Ee<Me.length&&!Ae.closed;Ee++)Ae.next(Me[Ee]);Ae.complete()})}(Me);if((0,R.t)(Me))return function Fe(Me){return new re.y(Ae=>{Me.then(Ee=>{Ae.closed||(Ae.next(Ee),Ae.complete())},Ee=>Ae.error(Ee)).then(null,H.h)})}(Me);if((0,_e.D)(Me))return Ie(Me);if((0,oe.T)(Me))return function pe(Me){return new re.y(Ae=>{for(const Ee of Me)if(Ae.next(Ee),Ae.closed)return;Ae.complete()})}(Me);if((0,fe.L)(Me))return function Ye(Me){return Ie((0,fe.Q)(Me))}(Me)}throw(0,ue.z)(Me)}function Ie(Me){return new re.y(Ae=>{(function Ue(Me,Ae){var Ee,We,ee,Ke;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,f.KL)(Me);!(We=yield Ee.next()).done;)if(Ae.next(We.value),Ae.closed)return}catch(K){ee={error:K}}finally{try{We&&!We.done&&(Ke=Ee.return)&&(yield Ke.call(Ee))}finally{if(ee)throw ee.error}}Ae.complete()})})(Me,Ae).catch(Ee=>Ae.error(Ee))})}},6451:(lt,Te,k)=>{k.d(Te,{T:()=>_e});var f=k(8189),j=k(8421),R=k(515),re=k(7669),te=k(8996);function _e(...ue){const oe=(0,re.yG)(ue),fe=(0,re._6)(ue,1/0),G=ue;return G.length?1===G.length?(0,j.Xf)(G[0]):(0,f.J)(fe)((0,te.D)(G,oe)):R.E}},5403:(lt,Te,k)=>{k.d(Te,{x:()=>j});var f=k(2961);function j(re,te,_e,ue,oe){return new R(re,te,_e,ue,oe)}class R extends f.Lv{constructor(te,_e,ue,oe,fe,G){super(te),this.onFinalize=fe,this.shouldUnsubscribe=G,this._next=_e?function(H){try{_e(H)}catch(X){te.error(X)}}:super._next,this._error=oe?function(H){try{oe(H)}catch(X){te.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(H){te.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},4004:(lt,Te,k)=>{k.d(Te,{U:()=>R});var f=k(4482),j=k(5403);function R(re,te){return(0,f.e)((_e,ue)=>{let oe=0;_e.subscribe((0,j.x)(ue,fe=>{ue.next(re.call(te,fe,oe++))}))})}},8189:(lt,Te,k)=>{k.d(Te,{J:()=>R});var f=k(5577),j=k(4671);function R(re=1/0){return(0,f.z)(j.y,re)}},5577:(lt,Te,k)=>{k.d(Te,{z:()=>oe});var f=k(4004),j=k(8421),R=k(4482),re=k(9672),te=k(5403),ue=k(576);function oe(fe,G,H=1/0){return(0,ue.m)(G)?oe((X,Ge)=>(0,f.U)((xe,Oe)=>G(X,xe,Ge,Oe))((0,j.Xf)(fe(X,Ge))),H):("number"==typeof G&&(H=G),(0,R.e)((X,Ge)=>function _e(fe,G,H,X,Ge,xe,Oe,Fe){const pe=[];let Ie=0,Ye=0,Ue=!1;const Me=()=>{Ue&&!pe.length&&!Ie&&G.complete()},Ae=We=>Ie<X?Ee(We):pe.push(We),Ee=We=>{xe&&G.next(We),Ie++;let ee=!1;(0,j.Xf)(H(We,Ye++)).subscribe((0,te.x)(G,Ke=>{null==Ge||Ge(Ke),xe?Ae(Ke):G.next(Ke)},()=>{ee=!0},void 0,()=>{if(ee)try{for(Ie--;pe.length&&Ie<X;){const Ke=pe.shift();Oe?(0,re.f)(G,Oe,()=>Ee(Ke)):Ee(Ke)}Me()}catch(Ke){G.error(Ke)}}))};return fe.subscribe((0,te.x)(G,Ae,()=>{Ue=!0,Me()})),()=>{null==Fe||Fe()}}(X,Ge,fe,H)))}},5363:(lt,Te,k)=>{k.d(Te,{Q:()=>re});var f=k(9672),j=k(4482),R=k(5403);function re(te,_e=0){return(0,j.e)((ue,oe)=>{ue.subscribe((0,R.x)(oe,fe=>(0,f.f)(oe,te,()=>oe.next(fe),_e),()=>(0,f.f)(oe,te,()=>oe.complete(),_e),fe=>(0,f.f)(oe,te,()=>oe.error(fe),_e)))})}},3099:(lt,Te,k)=>{k.d(Te,{B:()=>_e});var f=k(8996),j=k(5698),R=k(7579),re=k(2961),te=k(4482);function _e(oe={}){const{connector:fe=(()=>new R.x),resetOnError:G=!0,resetOnComplete:H=!0,resetOnRefCountZero:X=!0}=oe;return Ge=>{let xe=null,Oe=null,Fe=null,pe=0,Ie=!1,Ye=!1;const Ue=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Me=()=>{Ue(),xe=Fe=null,Ie=Ye=!1},Ae=()=>{const Ee=xe;Me(),null==Ee||Ee.unsubscribe()};return(0,te.e)((Ee,We)=>{pe++,!Ye&&!Ie&&Ue();const ee=Fe=null!=Fe?Fe:fe();We.add(()=>{pe--,0===pe&&!Ye&&!Ie&&(Oe=ue(Ae,X))}),ee.subscribe(We),xe||(xe=new re.Hp({next:Ke=>ee.next(Ke),error:Ke=>{Ye=!0,Ue(),Oe=ue(Me,G,Ke),ee.error(Ke)},complete:()=>{Ie=!0,Ue(),Oe=ue(Me,H),ee.complete()}}),(0,f.D)(Ee).subscribe(xe))})(Ge)}}function ue(oe,fe,...G){return!0===fe?(oe(),null):!1===fe?null:fe(...G).pipe((0,j.q)(1)).subscribe(()=>oe())}},9468:(lt,Te,k)=>{k.d(Te,{R:()=>j});var f=k(4482);function j(R,re=0){return(0,f.e)((te,_e)=>{_e.add(R.schedule(()=>te.subscribe(_e),re))})}},5698:(lt,Te,k)=>{k.d(Te,{q:()=>re});var f=k(515),j=k(4482),R=k(5403);function re(te){return te<=0?()=>f.E:(0,j.e)((_e,ue)=>{let oe=0;_e.subscribe((0,R.x)(ue,fe=>{++oe<=te&&(ue.next(fe),te<=oe&&ue.complete())}))})}},8505:(lt,Te,k)=>{k.d(Te,{b:()=>te});var f=k(576),j=k(4482),R=k(5403),re=k(4671);function te(_e,ue,oe){const fe=(0,f.m)(_e)||ue||oe?{next:_e,error:ue,complete:oe}:_e;return fe?(0,j.e)((G,H)=>{var X;null===(X=fe.subscribe)||void 0===X||X.call(fe);let Ge=!0;G.subscribe((0,R.x)(H,xe=>{var Oe;null===(Oe=fe.next)||void 0===Oe||Oe.call(fe,xe),H.next(xe)},()=>{var xe;Ge=!1,null===(xe=fe.complete)||void 0===xe||xe.call(fe),H.complete()},xe=>{var Oe;Ge=!1,null===(Oe=fe.error)||void 0===Oe||Oe.call(fe,xe),H.error(xe)},()=>{var xe,Oe;Ge&&(null===(xe=fe.unsubscribe)||void 0===xe||xe.call(fe)),null===(Oe=fe.finalize)||void 0===Oe||Oe.call(fe)}))}):re.y}},4408:(lt,Te,k)=>{k.d(Te,{o:()=>te});var f=k(727);class j extends f.w0{constructor(ue,oe){super()}schedule(ue,oe=0){return this}}const R={setInterval(_e,ue,...oe){const{delegate:fe}=R;return(null==fe?void 0:fe.setInterval)?fe.setInterval(_e,ue,...oe):setInterval(_e,ue,...oe)},clearInterval(_e){const{delegate:ue}=R;return((null==ue?void 0:ue.clearInterval)||clearInterval)(_e)},delegate:void 0};var re=k(8737);class te extends j{constructor(ue,oe){super(ue,oe),this.scheduler=ue,this.work=oe,this.pending=!1}schedule(ue,oe=0){if(this.closed)return this;this.state=ue;const fe=this.id,G=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(G,fe,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(G,this.id,oe),this}requestAsyncId(ue,oe,fe=0){return R.setInterval(ue.flush.bind(ue,this),fe)}recycleAsyncId(ue,oe,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return oe;R.clearInterval(oe)}execute(ue,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ue,oe);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,oe){let G,fe=!1;try{this.work(ue)}catch(H){fe=!0,G=H||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ue,scheduler:oe}=this,{actions:fe}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(fe,this),null!=ue&&(this.id=this.recycleAsyncId(oe,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Te,k)=>{k.d(Te,{v:()=>R});var f=k(6063);class j{constructor(te,_e=j.now){this.schedulerActionCtor=te,this.now=_e}schedule(te,_e=0,ue){return new this.schedulerActionCtor(this,te).schedule(ue,_e)}}j.now=f.l.now;class R extends j{constructor(te,_e=j.now){super(te,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:_e}=this;if(this._active)return void _e.push(te);let ue;this._active=!0;do{if(ue=te.execute(te.state,te.delay))break}while(te=_e.shift());if(this._active=!1,ue){for(;te=_e.shift();)te.unsubscribe();throw ue}}}},4986:(lt,Te,k)=>{k.d(Te,{z:()=>R});var f=k(4408);const R=new(k(7565).v)(f.o)},6063:(lt,Te,k)=>{k.d(Te,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(lt,Te,k)=>{k.d(Te,{z:()=>f});const f={setTimeout(j,R,...re){const{delegate:te}=f;return(null==te?void 0:te.setTimeout)?te.setTimeout(j,R,...re):setTimeout(j,R,...re)},clearTimeout(j){const{delegate:R}=f;return((null==R?void 0:R.clearTimeout)||clearTimeout)(j)},delegate:void 0}},2202:(lt,Te,k)=>{k.d(Te,{h:()=>j});const j=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Te,k)=>{k.d(Te,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(lt,Te,k)=>{k.d(Te,{_6:()=>_e,jO:()=>re,yG:()=>te});var f=k(576);function R(ue){return ue[ue.length-1]}function re(ue){return(0,f.m)(R(ue))?ue.pop():void 0}function te(ue){return function j(ue){return ue&&(0,f.m)(ue.schedule)}(R(ue))?ue.pop():void 0}function _e(ue,oe){return"number"==typeof R(ue)?ue.pop():oe}},8737:(lt,Te,k)=>{function f(j,R){if(j){const re=j.indexOf(R);0<=re&&j.splice(re,1)}}k.d(Te,{P:()=>f})},3888:(lt,Te,k)=>{function f(j){const re=j(te=>{Error.call(te),te.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}k.d(Te,{d:()=>f})},2806:(lt,Te,k)=>{k.d(Te,{O:()=>re,x:()=>R});var f=k(2416);let j=null;function R(te){if(f.v.useDeprecatedSynchronousErrorHandling){const _e=!j;if(_e&&(j={errorThrown:!1,error:null}),te(),_e){const{errorThrown:ue,error:oe}=j;if(j=null,ue)throw oe}}else te()}function re(te){f.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=te)}},9672:(lt,Te,k)=>{function f(j,R,re,te=0,_e=!1){const ue=R.schedule(function(){re(),_e?j.add(this.schedule(null,te)):this.unsubscribe()},te);if(j.add(ue),!_e)return ue}k.d(Te,{f:()=>f})},4671:(lt,Te,k)=>{function f(j){return j}k.d(Te,{y:()=>f})},1144:(lt,Te,k)=>{k.d(Te,{z:()=>f});const f=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(lt,Te,k)=>{k.d(Te,{D:()=>j});var f=k(576);function j(R){return Symbol.asyncIterator&&(0,f.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(lt,Te,k)=>{function f(j){return"function"==typeof j}k.d(Te,{m:()=>f})},3670:(lt,Te,k)=>{k.d(Te,{c:()=>R});var f=k(8822),j=k(576);function R(re){return(0,j.m)(re[f.L])}},6495:(lt,Te,k)=>{k.d(Te,{T:()=>R});var f=k(2202),j=k(576);function R(re){return(0,j.m)(null==re?void 0:re[f.h])}},8239:(lt,Te,k)=>{k.d(Te,{t:()=>j});var f=k(576);function j(R){return(0,f.m)(null==R?void 0:R.then)}},3260:(lt,Te,k)=>{k.d(Te,{L:()=>re,Q:()=>R});var f=k(655),j=k(576);function R(te){return(0,f.FC)(this,arguments,function*(){const ue=te.getReader();try{for(;;){const{value:oe,done:fe}=yield(0,f.qq)(ue.read());if(fe)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(oe)}}finally{ue.releaseLock()}})}function re(te){return(0,j.m)(null==te?void 0:te.getReader)}},4482:(lt,Te,k)=>{k.d(Te,{A:()=>j,e:()=>R});var f=k(576);function j(re){return(0,f.m)(null==re?void 0:re.lift)}function R(re){return te=>{if(j(te))return te.lift(function(_e){try{return re(_e,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(lt,Te,k)=>{k.d(Te,{h:()=>R});var f=k(2416),j=k(3410);function R(re){j.z.setTimeout(()=>{const{onUnhandledError:te}=f.v;if(!te)throw re;te(re)})}},4532:(lt,Te,k)=>{function f(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Te,{z:()=>f})},655:(lt,Te,k)=>{function re(K,ce){var ae={};for(var he in K)Object.prototype.hasOwnProperty.call(K,he)&&ce.indexOf(he)<0&&(ae[he]=K[he]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(he=Object.getOwnPropertySymbols(K);Ne<he.length;Ne++)ce.indexOf(he[Ne])<0&&Object.prototype.propertyIsEnumerable.call(K,he[Ne])&&(ae[he[Ne]]=K[he[Ne]])}return ae}function oe(K,ce,ae,he){return new(ae||(ae=Promise))(function(ie,wt){function Zt(ct){try{st(he.next(ct))}catch(un){wt(un)}}function xn(ct){try{st(he.throw(ct))}catch(un){wt(un)}}function st(ct){ct.done?ie(ct.value):function Ne(ie){return ie instanceof ae?ie:new ae(function(wt){wt(ie)})}(ct.value).then(Zt,xn)}st((he=he.apply(K,ce||[])).next())})}function pe(K){return this instanceof pe?(this.v=K,this):new pe(K)}function Ie(K,ce,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,he=ae.apply(K,ce||[]),ie=[];return Ne={},wt("next"),wt("throw"),wt("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function wt(sn){he[sn]&&(Ne[sn]=function(ii){return new Promise(function(Xt,qt){ie.push([sn,ii,Xt,qt])>1||Zt(sn,ii)})})}function Zt(sn,ii){try{!function xn(sn){sn.value instanceof pe?Promise.resolve(sn.value.v).then(st,ct):un(ie[0][2],sn)}(he[sn](ii))}catch(Xt){un(ie[0][3],Xt)}}function st(sn){Zt("next",sn)}function ct(sn){Zt("throw",sn)}function un(sn,ii){sn(ii),ie.shift(),ie.length&&Zt(ie[0][0],ie[0][1])}}function Ue(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ce=K[Symbol.asyncIterator];return ce?ce.call(K):(K=function X(K){var ce="function"==typeof Symbol&&Symbol.iterator,ae=ce&&K[ce],he=0;if(ae)return ae.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&he>=K.length&&(K=void 0),{value:K&&K[he++],done:!K}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ae={},he("next"),he("throw"),he("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function he(ie){ae[ie]=K[ie]&&function(wt){return new Promise(function(Zt,xn){!function Ne(ie,wt,Zt,xn){Promise.resolve(xn).then(function(st){ie({value:st,done:Zt})},wt)}(Zt,xn,(wt=K[ie](wt)).done,wt.value)})}}}k.d(Te,{FC:()=>Ie,KL:()=>Ue,_T:()=>re,mG:()=>oe,qq:()=>pe})},5e3:(lt,Te,k)=>{k.d(Te,{$8M:()=>wa,$Z:()=>eg,AFp:()=>jw,ALo:()=>N_,AaK:()=>oe,CHM:()=>zd,CRH:()=>Cw,CZH:()=>q_,CqO:()=>Vh,EJc:()=>mo,EpF:()=>dE,F4k:()=>Zy,FYo:()=>ow,FiY:()=>Ai,G48:()=>Af,GfV:()=>aw,Gpc:()=>H,JOm:()=>Zo,LFG:()=>Ve,LSH:()=>Pc,Lbi:()=>Z_,NdJ:()=>rg,O4$:()=>vc,OlP:()=>Ln,PXZ:()=>Cf,Q6J:()=>tg,QGY:()=>Na,Qsj:()=>lf,R0b:()=>vs,RDi:()=>As,Rgc:()=>wd,SBq:()=>uf,Sil:()=>Xl,Suo:()=>fn,TTD:()=>bo,TgZ:()=>Fh,VKq:()=>Pg,VLi:()=>J_,X6Q:()=>rI,XFs:()=>ot,Xpm:()=>Mt,Y36:()=>Fl,YKP:()=>hf,YNc:()=>J0,Yjl:()=>Le,Yz7:()=>Xt,ZZ4:()=>uv,_Bn:()=>Sn,_UZ:()=>ng,_Vd:()=>xg,_c5:()=>nC,_uU:()=>TE,aQg:()=>cv,c2e:()=>K_,cJS:()=>Kt,cg1:()=>Bl,dDg:()=>tc,deG:()=>Qf,dqk:()=>Vt,eFA:()=>Qw,ekj:()=>rd,g9A:()=>Hw,h0i:()=>fo,hGG:()=>fI,hij:()=>dg,iGM:()=>Dw,ifc:()=>Ft,ip1:()=>Bw,kL8:()=>y_,kcU:()=>Dm,lG2:()=>se,lcZ:()=>O_,n5z:()=>al,oAB:()=>O,oxw:()=>Uh,q4F:()=>uw,qLn:()=>cp,qOj:()=>Sh,qZA:()=>Lh,sBO:()=>Ki,sIi:()=>xh,s_b:()=>_f,soG:()=>xd,tBr:()=>$i,tb:()=>Gw,tp0:()=>Si,uIk:()=>ei,vHH:()=>Oe,vpe:()=>ra,wAp:()=>Et,xi3:()=>k_,xp6:()=>iy,z2F:()=>Xg,zSh:()=>$p,zs3:()=>Qo});var f=k(7579),j=k(727),R=k(8306),re=k(6451),te=k(3099);function _e(i){for(let s in i)if(i[s]===_e)return s;throw Error("Could not find renamed property on target object.")}function ue(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function oe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(oe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function fe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const G=_e({__forward_ref__:_e});function H(i){return i.__forward_ref__=H,i.toString=function(){return oe(this())},i}function X(i){return Ge(i)?i():i}function Ge(i){return"function"==typeof i&&i.hasOwnProperty(G)&&i.__forward_ref__===H}class Oe extends Error{constructor(s,a){super(function Fe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function pe(i){return"string"==typeof i?i:null==i?"":String(i)}function Ie(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():pe(i)}function Ae(i,s){const a=s?` in ${s}`:"";throw new Oe(-201,`No provider for ${Ie(i)} found${a}`)}function st(i,s){null==i&&function ct(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Kt(i){return{providers:i.providers||[],imports:i.imports||[]}}function bn(i){return rr(i,si)||rr(i,dr)}function rr(i,s){return i.hasOwnProperty(s)?i[s]:null}function xi(i){return i&&(i.hasOwnProperty(ir)||i.hasOwnProperty(Ji))?i[ir]:null}const si=_e({\u0275prov:_e}),ir=_e({\u0275inj:_e}),dr=_e({ngInjectableDef:_e}),Ji=_e({ngInjectorDef:_e});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Er;function en(i){const s=Er;return Er=i,s}function Vn(i,s,a){const u=bn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ot.Optional?null:void 0!==s?s:void Ae(oe(i),"Injector")}function Nn(i){return{toString:i}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),Ft=(()=>{return(i=Ft||(Ft={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ft;var i})();const at="undefined"!=typeof globalThis&&globalThis,et="undefined"!=typeof window&&window,Wr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Vt=at||"undefined"!=typeof global&&global||et||Wr,tn={},dt=[],kn=_e({\u0275cmp:_e}),Ut=_e({\u0275dir:_e}),$e=_e({\u0275pipe:_e}),be=_e({\u0275mod:_e}),Qe=_e({\u0275fac:_e}),ut=_e({__NG_ELEMENT_ID__:_e});let St=0;function Mt(i){return Nn(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||dt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ft.Emulated,id:"c",styles:i.styles||dt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,h=i.features,y=i.pipes;return u.id+=St++,u.inputs=B(i.inputs,a),u.outputs=B(i.outputs),h&&h.forEach(v=>v(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(U):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(W):null,u})}function U(i){return ze(i)||function _t(i){return i[Ut]||null}(i)}function W(i){return function Je(i){return i[$e]||null}(i)}const de={};function O(i){return Nn(()=>{const s={type:i.type,bootstrap:i.bootstrap||dt,declarations:i.declarations||dt,imports:i.imports||dt,exports:i.exports||dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(de[i.id]=i.type),s})}function B(i,s){if(null==i)return tn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),a[c]=u,s&&(s[c]=h)}return a}const se=Mt;function Le(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function ze(i){return i[kn]||null}function Dt(i,s){const a=i[be]||null;if(!a&&!0===s)throw new Error(`Type ${oe(i)} does not have '\u0275mod' property.`);return a}function qr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Pi(i){return Array.isArray(i)&&!0===i[1]}function Ha(i){return 0!=(8&i.flags)}function vo(i){return 2==(2&i.flags)}function Eo(i){return 1==(1&i.flags)}function Ei(i){return null!==i.template}function Hu(i){return 0!=(512&i[2])}function ai(i,s){return i.hasOwnProperty(Qe)?i[Qe]:null}class $d{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function bo(){return Wa}function Wa(i){return i.type.prototype.ngOnChanges&&(i.setInput=ua),Hd}function Hd(){const i=wi(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===tn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function ua(i,s,a,u){const c=wi(i)||function ns(i,s){return i[Fi]=s}(i,{previous:tn,current:null}),h=c.current||(c.current={}),y=c.previous,v=this.declaredInputs[a],I=y[v];h[v]=new $d(I&&I.currentValue,s,y===tn),i[u]=s}bo.ngInherit=!0;const Fi="__ngSimpleChanges__";function wi(i){return i[Fi]||null}let Za;function As(i){Za=i}function gn(i){return!!i.listen}const zs={createRenderer:(i,s)=>function Gs(){return void 0!==Za?Za:"undefined"!=typeof document?document:void 0}()};function dn(i){for(;Array.isArray(i);)i=i[0];return i}function Ss(i,s){return dn(s[i])}function hr(i,s){return dn(s[i.index])}function Ka(i,s){return i.data[s]}function ui(i,s){return i[s]}function Nr(i,s){const a=s[i];return qr(a)?a:a[0]}function rs(i){return 4==(4&i[2])}function qs(i){return 128==(128&i[2])}function Ii(i,s){return null==s?null:i[s]}function Li(i){i[18]=0}function is(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const pt={lFrame:Xu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Mo(){return pt.bindingsEnabled}function Ce(){return pt.lFrame.lView}function kt(){return pt.lFrame.tView}function zd(i){return pt.lFrame.contextLView=i,i[8]}function mn(){let i=Ya();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ya(){return pt.lFrame.currentTNode}function bi(i,s){const a=pt.lFrame;a.currentTNode=i,a.isParent=s}function Zu(){return pt.lFrame.isParent}function xo(){return pt.isInCheckNoChangesMode}function Ro(i){pt.isInCheckNoChangesMode=i}function Xn(){const i=pt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Oo(){return pt.lFrame.bindingIndex++}function yc(i,s){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Yu(s)}function Yu(i){pt.lFrame.currentDirectiveIndex=i}function qd(){return pt.lFrame.currentQueryIndex}function Qu(i){pt.lFrame.currentQueryIndex=i}function Ju(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Qa(i,s,a){if(a&ot.SkipSelf){let c=s,h=i;for(;!(c=c.parent,null!==c||a&ot.Host||(c=Ju(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;s=c,i=h}const u=pt.lFrame=Ks();return u.currentTNode=s,u.lView=i,!0}function pa(i){const s=Ks(),a=i[1];pt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ks(){const i=pt.lFrame,s=null===i?null:i.child;return null===s?Xu(i):s}function Xu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Zd(){const i=pt.lFrame;return pt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const _c=Zd;function Ys(){const i=Zd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Or(){return pt.lFrame.selectedIndex}function Rs(i){pt.lFrame.selectedIndex=i}function Fn(){const i=pt.lFrame;return Ka(i.tView,i.selectedIndex)}function vc(){pt.lFrame.currentNamespace="svg"}function Dm(){!function tl(){pt.lFrame.currentNamespace=null}()}function ga(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:S}=h;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function nl(i,s,a){wc(i,s,3,a)}function Ja(i,s,a,u){(3&i[2])===a&&wc(i,s,a,u)}function Wn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function wc(i,s,a,u){const h=null!=u?u:-1,y=s.length-1;let v=0;for(let I=void 0!==u?65535&i[18]:0;I<y;I++)if("number"==typeof s[I+1]){if(v=s[I],null!=u&&v>=u)break}else s[I]<0&&(i[18]+=65536),(v<h||-1==h)&&(Ic(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function Ic(i,s,a,u){const c=a[u]<0,h=a[u+1],v=i[c?-a[u]:a[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class Xa{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function ft(i,s,a){const u=gn(i);let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const y=a[c++],v=a[c++],I=a[c++];u?i.setAttribute(s,v,I,y):s.setAttributeNS(y,v,I)}else{const y=h,v=a[++c];Yr(y)?u&&i.setProperty(s,y,v):u?i.setAttribute(s,y,v):s.setAttribute(y,v),c++}}return c}function os(i){return 3===i||4===i||6===i}function Yr(i){return 64===i.charCodeAt(0)}function or(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?a=c:0===a||Dc(i,a,c,null,-1===a||2===a?s[++u]:null)}}return i}function Dc(i,s,a,u,c){let h=0,y=i.length;if(-1===s)y=-1;else for(;h<i.length;){const v=i[h++];if("number"==typeof v){if(v===s){y=-1;break}if(v>s){y=h-1;break}}}for(;h<i.length;){const v=i[h];if("number"==typeof v)break;if(v===a){if(null===u)return void(null!==c&&(i[h+1]=c));if(u===i[h+1])return void(i[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==y&&(i.splice(y,0,s),h=y+1),i.splice(h++,0,a),null!==u&&i.splice(h++,0,u),null!==c&&i.splice(h++,0,c)}function Un(i){return-1!==i}function Ns(i){return 32767&i}function as(i,s){let a=function rl(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Fo=!0;function Ui(i){const s=Fo;return Fo=i,s}let ya=0;function An(i,s){const a=sl(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Os(u.data,i),Os(s,null),Os(u.blueprint,null));const c=kr(i,s),h=i.injectorIndex;if(Un(c)){const y=Ns(c),v=as(c,s),I=v[1].data;for(let T=0;T<8;T++)s[h+T]=v[y+T]|I[y+T]}return s[h+8]=c,h}function Os(i,s){i.push(0,0,0,0,0,0,0,0,s)}function sl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function kr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,c=s;for(;null!==c;){const h=c[1],y=h.type;if(u=2===y?h.declTNode:1===y?c[6]:null,null===u)return-1;if(a++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Js(i,s,a){!function _a(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ut)&&(u=a[ut]),null==u&&(u=a[ut]=ya++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function ks(i,s,a){if(a&ot.Optional)return i;Ae(s,"NodeInjector")}function va(i,s,a,u){if(a&ot.Optional&&void 0===u&&(u=null),0==(a&(ot.Self|ot.Host))){const c=i[9],h=en(void 0);try{return c?c.get(s,u,a&ot.Optional):Vn(s,u,a&ot.Optional)}finally{en(h)}}return ks(u,s,a)}function Xs(i,s,a,u=ot.Default,c){if(null!==i){const h=function Uo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ut)?i[ut]:void 0;return"number"==typeof s?s>=0?255&s:ol:s}(a);if("function"==typeof h){if(!Qa(s,i,u))return u&ot.Host?ks(c,a,u):va(s,a,u,c);try{const y=h(u);if(null!=y||u&ot.Optional)return y;Ae(a)}finally{_c()}}else if("number"==typeof h){let y=null,v=sl(i,s),I=-1,T=u&ot.Host?s[16][6]:null;for((-1===v||u&ot.SkipSelf)&&(I=-1===v?kr(i,s):s[v+8],-1!==I&&pr(u,!1)?(y=s[1],v=Ns(I),s=as(I,s)):v=-1);-1!==v;){const S=s[1];if(Ea(h,v,S.data)){const F=Qd(v,s,a,y,u,T);if(F!==us)return F}I=s[v+8],-1!==I&&pr(u,s[1].data[v+8]===T)&&Ea(h,v,s)?(y=S,v=Ns(I),s=as(I,s)):v=-1}}}return va(s,a,u,c)}const us={};function ol(){return new ls(mn(),Ce())}function Qd(i,s,a,u,c,h){const y=s[1],v=y.data[i+8],S=Ps(v,y,a,null==u?vo(v)&&Fo:u!=y&&0!=(3&v.type),c&ot.Host&&h===v);return null!==S?Vo(s,y,S,v):us}function Ps(i,s,a,u,c){const h=i.providerIndexes,y=s.data,v=1048575&h,I=i.directiveStart,S=h>>20,$=c?v+S:i.directiveEnd;for(let Y=u?v:v+S;Y<$;Y++){const ve=y[Y];if(Y<I&&a===ve||Y>=I&&ve.type===a)return Y}if(c){const Y=y[I];if(Y&&Ei(Y)&&Y.type===a)return I}return null}function Vo(i,s,a,u){let c=i[a];const h=s.data;if(function ma(i){return i instanceof Xa}(c)){const y=c;y.resolving&&function Ye(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ie(h[a]));const v=Ui(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?en(y.injectImpl):null;Qa(i,u,ot.Default);try{c=i[a]=y.factory(void 0,h,i,u),s.firstCreatePass&&a>=u.directiveStart&&function Qs(i,s,a){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=s.type.prototype;if(u){const y=Wa(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==I&&en(I),Ui(v),y.resolving=!1,_c()}}return c}function Ea(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function pr(i,s){return!(i&ot.Self||i&ot.Host&&s)}class ls{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Xs(this._tNode,this._lView,s,u,a)}}function al(i){return Nn(()=>{const s=i.prototype.constructor,a=s[Qe]||Bn(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const h=c[Qe]||Bn(c);if(h&&h!==a)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Bn(i){return Ge(i)?()=>{const s=Bn(X(i));return s&&s()}:ai(i)}function wa(i){return function Lo(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let c=0;for(;c<u;){const h=a[c];if(os(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof a[c];)c++;else{if(h===s)return a[c+1];c+=2}}}return null}(mn(),i)}const cs="__parameters__";function wn(i,s,a){return Nn(()=>{const u=function Bi(i){return function(...a){if(i){const u=i(...a);for(const c in u)this[c]=u[c]}}}(s);function c(...h){if(this instanceof c)return u.apply(this,h),this;const y=new c(...h);return v.annotation=y,v;function v(I,T,S){const F=I.hasOwnProperty(cs)?I[cs]:Object.defineProperty(I,cs,{value:[]})[cs];for(;F.length<=S;)F.push(null);return(F[S]=F[S]||[]).push(y),I}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Ln{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Qf=new Ln("AnalyzeForEntryComponents");function Fr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),Fr(u,s)):s!==i&&s.push(u)}return s}function Ci(i,s){i.forEach(a=>Array.isArray(a)?Ci(a,s):s(a))}function $o(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Da(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ar(i,s,a){let u=hs(i,s);return u>=0?i[1|u]=a:(u=~u,function ll(i,s,a,u){let c=i.length;if(c==s)i.push(a,u);else if(1===c)i.push(u,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function dl(i,s){const a=hs(i,s);if(a>=0)return i[1|a]}function hs(i,s){return function tu(i,s,a){let u=0,c=i.length>>a;for(;c!==u;){const h=u+(c-u>>1),y=i[h<<a];if(s===y)return h<<a;y>s?c=h:u=h+1}return~(c<<a)}(i,s,1)}const Fs={},ru="__NG_DI_FLAG__",zo="ngTempTokenPath",b=/\n/gm,M="__source",V=_e({provide:String,useValue:_e});let Z;function ne(i){const s=Z;return Z=i,s}function me(i,s=ot.Default){if(void 0===Z)throw new Oe(203,"");return null===Z?Vn(i,void 0,s):Z.get(i,s&ot.Optional?null:void 0,s)}function Ve(i,s=ot.Default){return(function Rn(){return Er}()||me)(X(i),s)}const gt=Ve;function Bt(i){const s=[];for(let a=0;a<i.length;a++){const u=X(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Oe(900,"");let c,h=ot.Default;for(let y=0;y<u.length;y++){const v=u[y],I=Dr(v);"number"==typeof I?-1===I?c=v.token:h|=I:c=v}s.push(Ve(c,h))}else s.push(Ve(u))}return s}function vt(i,s){return i[ru]=s,i.prototype[ru]=s,i}function Dr(i){return i[ru]}const $i=vt(wn("Inject",i=>({token:i})),-1),Ai=vt(wn("Optional"),8),Si=vt(wn("SkipSelf"),4);class Nc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Wo(i){return i instanceof Nc?i.changingThisBreaksApplicationSecurity:i}const p=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,w=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var hn=(()=>((hn=hn||{})[hn.NONE=0]="NONE",hn[hn.HTML=1]="HTML",hn[hn.STYLE=2]="STYLE",hn[hn.SCRIPT=3]="SCRIPT",hn[hn.URL=4]="URL",hn[hn.RESOURCE_URL=5]="RESOURCE_URL",hn))();function Pc(i){const s=function du(){const i=Ce();return i&&i[12]}();return s?s.sanitize(hn.URL,i)||"":function so(i,s){const a=function ml(i){return i instanceof Nc&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Wo(i):function A(i){return(i=String(i)).match(p)||i.match(w)?i:"unsafe:"+i}(pe(i))}const Ov="__ngContext__";function hi(i,s){i[Ov]=s}function Bm(i){const s=function dh(i){return i[Ov]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Il(i){return i.ngOriginalError}function XI(i,...s){i.error(...s)}class cp{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function JI(i){return i&&i.ngErrorLogger||XI}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Il(s);for(;a&&Il(a);)a=Il(a);return a||null}}const ub=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Vt))();function ao(i){return i instanceof Function?i():i}var Zo=(()=>((Zo=Zo||{})[Zo.Important=1]="Important",Zo[Zo.DashCase=2]="DashCase",Zo))();function dp(i,s){return undefined(i,s)}function fh(i){const s=i[3];return Pi(s)?s[3]:s}function ph(i){return Hv(i[13])}function fp(i){return Hv(i[4])}function Hv(i){for(;null!==i&&!Pi(i);)i=i[4];return i}function Fc(i,s,a,u,c){if(null!=u){let h,y=!1;Pi(u)?h=u:qr(u)&&(y=!0,u=u[0]);const v=dn(u);0===i&&null!==a?null==c?Ym(s,a,v):ps(s,a,v,c||null,!0):1===i&&null!==a?ps(s,a,v,c||null,!0):2===i?function ey(i,s,a){const u=Ls(i,s);u&&function mb(i,s,a,u){gn(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,v,y):3===i&&s.destroyNode(v),null!=h&&function vb(i,s,a,u,c){const h=a[7];h!==dn(a)&&Fc(s,i,u,h,c);for(let v=10;v<a.length;v++){const I=a[v];yp(I[1],I,i,s,u,h)}}(s,i,h,a,c)}}function zm(i,s,a){if(gn(i))return i.createElement(s,a);{const u=null!==a?function pc(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function zv(i,s){const a=i[9],u=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,is(c,-1)),a.splice(u,1)}function qm(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const c=u[17];null!==c&&c!==i&&zv(c,u),s>0&&(i[a-1][4]=u[4]);const h=Da(i,10+s);!function fi(i,s){yp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=h[19];null!==y&&y.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Zm(i,s){if(!(256&s[2])){const a=s[11];gn(a)&&a.destroyNode&&yp(i,s,a,3,null,null),function Wm(i){let s=i[13];if(!s)return Km(i[1],i);for(;s;){let a=null;if(qr(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)qr(s)&&Km(s[1],s),s=s[3];null===s&&(s=i),qr(s)&&Km(s[1],s),a=s&&s[4]}s=a}}(s)}}function Km(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function qv(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const c=s[a[u]];if(!(c instanceof Xa)){const h=a[u+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const v=c[h[y]],I=h[y+1];try{I.call(v)}finally{}}else try{h.call(c)}finally{}}}}(i,s),function Wv(i,s){const a=i.cleanup,u=s[7];let c=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const y=a[h+1],v="function"==typeof y?y(s):dn(s[y]),I=u[c=a[h+2]],T=a[h+3];"boolean"==typeof T?v.removeEventListener(a[h],I,T):T>=0?u[c=T]():u[c=-T].unsubscribe(),h+=2}else{const y=u[c=a[h+1]];a[h].call(y)}if(null!==u){for(let h=c+1;h<u.length;h++)u[h]();s[7]=null}}(i,s),1===s[1].type&&gn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Pi(s[3])){a!==s[3]&&zv(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function gp(i,s,a){return function gb(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===Ft.None||c===Ft.Emulated)return null}return hr(u,a)}(i,s.parent,a)}function ps(i,s,a,u,c){gn(i)?i.insertBefore(s,a,u,c):s.insertBefore(a,u,c)}function Ym(i,s,a){gn(i)?i.appendChild(s,a):s.appendChild(a)}function Zv(i,s,a,u,c){null!==u?ps(i,s,a,u,c):Ym(i,s,a)}function Ls(i,s){return gn(i)?i.parentNode(s):s.parentNode}let Qm=function Yv(i,s,a){return 40&i.type?hr(i,a):null};function mp(i,s,a,u){const c=gp(i,u,s),h=s[11],v=function Kv(i,s,a){return Qm(i,s,a)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(a))for(let I=0;I<a.length;I++)Zv(h,c,a[I],v,!1);else Zv(h,c,a,v,!1)}function Vc(i,s){if(null!==s){const a=s.type;if(3&a)return hr(s,i);if(4&a)return Xm(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Vc(i,u);{const c=i[s.index];return Pi(c)?Xm(-1,c):dn(c)}}if(32&a)return dp(s,i)()||dn(i[s.index]);{const u=Jv(i,s);return null!==u?Array.isArray(u)?u[0]:Vc(fh(i[16]),u):Vc(i,s.next)}}return null}function Jv(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Xm(i,s){const a=10+i+1;if(a<s.length){const u=s[a],c=u[1].firstChild;if(null!==c)return Vc(u,c)}return s[7]}function ty(i,s,a,u,c,h,y){for(;null!=a;){const v=u[a.index],I=a.type;if(y&&0===s&&(v&&hi(dn(v),u),a.flags|=4),64!=(64&a.flags))if(8&I)ty(i,s,a.child,u,c,h,!1),Fc(s,i,c,v,h);else if(32&I){const T=dp(a,u);let S;for(;S=T();)Fc(s,i,c,S,h);Fc(s,i,c,v,h)}else 16&I?ny(i,s,u,a,c,h):Fc(s,i,c,v,h);a=y?a.projectionNext:a.next}}function yp(i,s,a,u,c,h){ty(a,u,i.firstChild,s,c,h,!1)}function ny(i,s,a,u,c,h){const y=a[16],I=y[6].projection[u.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)Fc(s,i,c,I[T],h);else ty(i,s,I,y[3],c,h,!0)}function e0(i,s,a){gn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function ry(i,s,a){gn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function t0(i,s,a){let u=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=s.length;if(c+h===u||i.charCodeAt(c+h)<=32)return c}a=c+1}}const hu="ng-template";function Ko(i,s,a){let u=0;for(;u<i.length;){let c=i[u++];if(a&&"class"===c){if(c=i[u],-1!==t0(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function n0(i){return 4===i.type&&i.value!==hu}function r0(i,s,a){return s===(4!==i.type||a?i.value:hu)}function wb(i,s,a){let u=4;const c=i.attrs||[],h=function s0(i){for(let s=0;s<i.length;s++)if(os(i[s]))return s;return i.length}(c);let y=!1;for(let v=0;v<s.length;v++){const I=s[v];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!r0(i,I,a)||""===I&&1===s.length){if(uo(u))return!1;y=!0}}else{const T=8&u?I:s[++v];if(8&u&&null!==i.attrs){if(!Ko(i.attrs,T,a)){if(uo(u))return!1;y=!0}continue}const F=Ib(8&u?"class":I,c,n0(i),a);if(-1===F){if(uo(u))return!1;y=!0;continue}if(""!==T){let $;$=F>h?"":c[F+1].toLowerCase();const Y=8&u?$:null;if(Y&&-1!==t0(Y,T,0)||2&u&&T!==$){if(uo(u))return!1;y=!0}}}}else{if(!y&&!uo(u)&&!uo(I))return!1;if(y&&uo(I))continue;y=!1,u=I|1&u}}return uo(u)||y}function uo(i){return 0==(1&i)}function Ib(i,s,a,u){if(null===s)return-1;let c=0;if(u||!a){let h=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let v=s[++c];for(;"string"==typeof v;)v=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function pi(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function gh(i,s,a=!1){for(let u=0;u<s.length;u++)if(wb(i,s[u],a))return!0;return!1}function o0(i,s){return i?":not("+s.trim()+")":s}function YT(i){let s=i[0],a=1,u=2,c="",h=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&u){const v=i[++a];c+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!uo(y)&&(s+=o0(h,c),c=""),u=y,h=h||!uo(u);a++}return""!==c&&(s+=o0(h,c)),s}const Nt={};function iy(i){sy(kt(),Ce(),Or()+i,xo())}function sy(i,s,a,u){if(!u)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&nl(s,h,a)}else{const h=i.preOrderHooks;null!==h&&Ja(s,h,0,a)}Rs(a)}function mh(i,s){return i<<17|s<<2}function Vs(i){return i>>17&32767}function _p(i){return 2|i}function Yo(i){return(131068&i)>>2}function vp(i,s){return-131069&i|s<<2}function Ep(i){return 1|i}function hy(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const c=a[u],h=a[u+1];if(-1!==h){const y=i.data[h];Qu(c),y.contentQueries(2,s[h],h)}}}function Eh(i,s,a,u,c,h,y,v,I,T){const S=s.blueprint.slice();return S[0]=c,S[2]=140|u,Li(S),S[3]=S[15]=i,S[8]=a,S[10]=y||i&&i[10],S[11]=v||i&&i[11],S[12]=I||i&&i[12]||null,S[9]=T||i&&i[9]||null,S[6]=h,S[16]=2==s.type?i[16]:S,S}function wh(i,s,a,u,c){let h=i.data[s];if(null===h)h=function fy(i,s,a,u,c){const h=Ya(),y=Zu(),I=i.data[s]=function v0(i,s,a,u,c,h){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,a,s,u,c);return null===i.firstChild&&(i.firstChild=I),null!==h&&(y?null==h.child&&null!==I.parent&&(h.child=I):null===h.next&&(h.next=I)),I}(i,s,a,u,c),function Wd(){return pt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=a,h.value=u,h.attrs=c;const y=function Ms(){const i=pt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return bi(h,!0),h}function Dl(i,s,a,u){if(0===a)return-1;const c=s.length;for(let h=0;h<a;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Sp(i,s,a){pa(s);try{const u=i.viewQuery;null!==u&&Dh(1,u,a);const c=i.template;null!==c&&py(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&hy(i,s),i.staticViewQueries&&Dh(2,i.viewQuery,a);const h=i.components;null!==h&&function m0(i,s){for(let a=0;a<s.length;a++)Ub(i,s[a])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Ys()}}function yu(i,s,a,u){const c=s[2];if(256==(256&c))return;pa(s);const h=xo();try{Li(s),function No(i){return pt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&py(i,s,a,2,u);const y=3==(3&c);if(!h)if(y){const T=i.preOrderCheckHooks;null!==T&&nl(s,T,null)}else{const T=i.preOrderHooks;null!==T&&Ja(s,T,0,null),Wn(s,0)}if(function T0(i){for(let s=ph(i);null!==s;s=fp(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const c=a[u],h=c[3];0==(1024&c[2])&&is(h,1),c[2]|=1024}}}(s),function iA(i){for(let s=ph(i);null!==s;s=fp(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1];qs(u)&&yu(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&hy(i,s),!h)if(y){const T=i.contentCheckHooks;null!==T&&nl(s,T)}else{const T=i.contentHooks;null!==T&&Ja(s,T,1),Wn(s,1)}!function Ab(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const c=a[u];if(c<0)Rs(~c);else{const h=c,y=a[++u],v=a[++u];yc(y,h),v(2,s[h])}}}finally{Rs(-1)}}(i,s);const v=i.components;null!==v&&function Sb(i,s){for(let a=0;a<s.length;a++)Vb(i,s[a])}(s,v);const I=i.viewQuery;if(null!==I&&Dh(2,I,u),!h)if(y){const T=i.viewCheckHooks;null!==T&&nl(s,T)}else{const T=i.viewHooks;null!==T&&Ja(s,T,2),Wn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,is(s[3],-1))}finally{Ys()}}function Mb(i,s,a,u){const c=s[10],h=!xo(),y=rs(s);try{h&&!y&&c.begin&&c.begin(),y&&Sp(i,s,u),yu(i,s,a,u)}finally{h&&!y&&c.end&&c.end()}}function py(i,s,a,u,c){const h=Or(),y=2&u;try{Rs(-1),y&&s.length>20&&sy(i,s,20,xo()),a(u,c)}finally{Rs(h)}}function Ih(i,s,a){!Mo()||(function bh(i,s,a,u){const c=a.directiveStart,h=a.directiveEnd;i.firstCreatePass||An(a,s),hi(u,s);const y=a.initialInputs;for(let v=c;v<h;v++){const I=i.data[v],T=Ei(I);T&&Pb(s,a,I);const S=Vo(s,i,v,a);hi(S,s),null!==y&&D0(0,v-c,S,I,0,y),T&&(Nr(a.index,s)[8]=S)}}(i,s,a,hr(a,s)),128==(128&a.flags)&&function yy(i,s,a){const u=a.directiveStart,c=a.directiveEnd,y=a.index,v=function fa(){return pt.lFrame.currentDirectiveIndex}();try{Rs(y);for(let I=u;I<c;I++){const T=i.data[I],S=s[I];Yu(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&_y(T,S)}}finally{Rs(-1),Yu(v)}}(i,s,a))}function y0(i,s,a=hr){const u=s.localNames;if(null!==u){let c=s.index+1;for(let h=0;h<u.length;h+=2){const y=u[h+1],v=-1===y?a(s,i):i[y];i[c++]=v}}}function xp(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=_u(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function _u(i,s,a,u,c,h,y,v,I,T){const S=20+u,F=S+c,$=function Rp(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:Nt);return a}(S,F),Y="function"==typeof T?T():T;return $[1]={type:i,blueprint:$,template:a,queries:null,viewQuery:v,declTNode:s,data:$.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Y,incompleteFirstPass:!1}}function Op(i,s,a,u){const c=Up(s);null===a?c.push(u):(c.push(a),i.firstCreatePass&&x0(i).push(u,c.length-1))}function kp(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,c):a[u]=[s,c]}return a}function Tl(i,s,a,u){let c=!1;if(Mo()){const h=function tA(i,s,a){const u=i.directiveRegistry;let c=null;if(u)for(let h=0;h<u.length;h++){const y=u[h];gh(a,y.selectors,!1)&&(c||(c=[]),Js(An(a,s),i,y.type),Ei(y)?(kb(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===u?null:{"":-1};if(null!==h){c=!0,b0(a,i.data.length,h.length);for(let S=0;S<h.length;S++){const F=h[S];F.providersResolver&&F.providersResolver(F)}let v=!1,I=!1,T=Dl(i,s,h.length,null);for(let S=0;S<h.length;S++){const F=h[S];a.mergedAttrs=or(a.mergedAttrs,F.hostAttrs),vy(i,a,s,T,F),rA(T,F,y),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const $=F.type.prototype;!v&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!I&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),T++}!function E0(i,s){const u=s.directiveEnd,c=i.data,h=s.attrs,y=[];let v=null,I=null;for(let T=s.directiveStart;T<u;T++){const S=c[T],F=S.inputs,$=null===h||n0(s)?null:Fb(F,h);y.push($),v=kp(F,T,v),I=kp(S.outputs,T,I)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=v,s.outputs=I}(i,a)}y&&function nA(i,s,a){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const h=a[s[c+1]];if(null==h)throw new Oe(-301,!1);u.push(s[c],h)}}}(a,u,y)}return a.mergedAttrs=or(a.mergedAttrs,a.attrs),c}function I0(i,s,a,u,c,h){const y=h.hostBindings;if(y){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const I=~s.index;(function Ob(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=I&&v.push(I),v.push(u,c,y)}}function _y(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function kb(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function rA(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Ei(s)&&(a[""]=i)}}function b0(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function vy(i,s,a,u,c){i.data[u]=c;const h=c.factory||(c.factory=ai(c.type)),y=new Xa(h,Ei(c),null);i.blueprint[u]=y,a[u]=y,I0(i,s,0,u,Dl(i,a,c.hostVars,Nt),c)}function Pb(i,s,a){const u=hr(s,i),c=xp(a),h=i[10],y=Gc(i,Eh(i,c,null,a.onPush?64:16,u,s,h,h.createRenderer(u,a),null,null));i[s.index]=y}function lo(i,s,a,u,c,h){const y=hr(i,s);!function Lp(i,s,a,u,c,h,y){if(null==h)gn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const v=null==y?pe(h):y(h,u||"",c);gn(i)?i.setAttribute(s,c,v,a):a?s.setAttributeNS(a,c,v):s.setAttribute(c,v)}}(s[11],y,h,i.value,a,u,c)}function D0(i,s,a,u,c,h){const y=h[s];if(null!==y){const v=u.setInput;for(let I=0;I<y.length;){const T=y[I++],S=y[I++],F=y[I++];null!==v?u.setInput(a,F,T,S):a[S]=F}}}function Fb(i,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return a}function C0(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function Vb(i,s){const a=Nr(s,i);if(qs(a)){const u=a[1];80&a[2]?yu(u,a,u.template,a[8]):a[5]>0&&Vp(a)}}function Vp(i){for(let u=ph(i);null!==u;u=fp(u))for(let c=10;c<u.length;c++){const h=u[c];if(1024&h[2]){const y=h[1];yu(y,h,y.template,h[8])}else h[5]>0&&Vp(h)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const c=Nr(a[u],i);qs(c)&&c[5]>0&&Vp(c)}}function Ub(i,s){const a=Nr(s,i),u=a[1];(function A0(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Sp(u,a,a[8])}function Gc(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Ey(i){for(;i;){i[2]|=64;const s=fh(i);if(Hu(i)&&!s)return i;i=s}return null}function Al(i,s,a){const u=s[10];u.begin&&u.begin();try{yu(i,s,i.template,a)}catch(c){throw R0(s,c),c}finally{u.end&&u.end()}}function M0(i){!function wy(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=Bm(a),c=u[1];Mb(c,u,c.template,a)}}(i[8])}function Dh(i,s,a){Qu(0),s(i,a)}const $b=(()=>Promise.resolve(null))();function Up(i){return i[7]||(i[7]=[])}function x0(i){return i.cleanup||(i.cleanup=[])}function R0(i,s){const a=i[9],u=a?a.get(cp,null):null;u&&u.handleError(s)}function Bp(i,s,a,u,c){for(let h=0;h<a.length;){const y=a[h++],v=a[h++],I=s[y],T=i.data[y];null!==T.setInput?T.setInput(I,c,u,v):I[v]=c}}function xa(i,s,a){const u=Ss(s,i);!function Gm(i,s,a){gn(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function jp(i,s,a){let u=a?i.styles:null,c=a?i.classes:null,h=0;if(null!==s)for(let y=0;y<s.length;y++){const v=s[y];"number"==typeof v?h=v:1==h?c=fe(c,v):2==h&&(u=fe(u,v+": "+s[++y]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=c:i.classesWithoutHost=c}const Ch=new Ln("INJECTOR",-1);class O0{get(s,a=Fs){if(a===Fs){const u=new Error(`NullInjectorError: No provider for ${oe(s)}!`);throw u.name="NullInjectorError",u}return a}}const $p=new Ln("Set Injector scope."),Th={},k0={};let Ra;function P0(){return void 0===Ra&&(Ra=new O0),Ra}function Dy(i,s=null,a=null,u){const c=F0(i,s,a,u);return c._resolveInjectorDefTypes(),c}function F0(i,s=null,a=null,u){return new L0(i,a,s||P0(),u)}class L0{constructor(s,a,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];a&&Ci(a,v=>this.processProvider(v,s,a)),Ci([s],v=>this.processInjectorType(v,[],h)),this.records.set(Ch,zc(void 0,this));const y=this.records.get($p);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:oe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Fs,u=ot.Default){this.assertNotDestroyed();const c=ne(this),h=en(void 0);try{if(!(u&ot.SkipSelf)){let v=this.records.get(s);if(void 0===v){const I=function sA(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ln}(s)&&bn(s);v=I&&this.injectableDefInScope(I)?zc(Cy(s),Th):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(u&ot.Self?P0():this.parent).get(s,a=u&ot.Optional&&a===Fs?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[zo]=y[zo]||[]).unshift(oe(s)),c)throw y;return function er(i,s,a,u){const c=i[zo];throw s[M]&&c.unshift(s[M]),i.message=function fs(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=oe(s);if(Array.isArray(s))c=s.map(oe).join(" -> ");else if("object"==typeof s){let h=[];for(let y in s)if(s.hasOwnProperty(y)){let v=s[y];h.push(y+":"+("string"==typeof v?JSON.stringify(v):oe(v)))}c=`{${h.join(", ")}}`}return`${a}${u?"("+u+")":""}[${c}]: ${i.replace(b,"\n  ")}`}("\n"+i.message,c,a,u),i.ngTokenPath=c,i[zo]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{en(h),ne(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(oe(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(s,a,u){if(!(s=X(s)))return!1;let c=xi(s);const h=null==c&&s.ngModule||void 0,y=void 0===h?s:h,v=-1!==u.indexOf(y);if(void 0!==h&&(c=xi(h)),null==c)return!1;if(null!=c.imports&&!v){let S;u.push(y);try{Ci(c.imports,F=>{this.processInjectorType(F,a,u)&&(void 0===S&&(S=[]),S.push(F))})}finally{}if(void 0!==S)for(let F=0;F<S.length;F++){const{ngModule:$,providers:Y}=S[F];Ci(Y,ve=>this.processProvider(ve,$,Y||dt))}}this.injectorDefTypes.add(y);const I=ai(y)||(()=>new y);this.records.set(y,zc(I,Th));const T=c.providers;if(null!=T&&!v){const S=s;Ci(T,F=>this.processProvider(F,S,T))}return void 0!==h&&void 0!==s.providers}processProvider(s,a,u){let c=Wc(s=X(s))?s:X(s&&s.provide);const h=function Hp(i,s,a){return Ay(i)?zc(void 0,i.useValue):zc(Ty(i),Th)}(s);if(Wc(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=zc(void 0,Th,!0),y.factory=()=>Bt(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,h)}hydrate(s,a){return a.value===Th&&(a.value=k0,a.value=a.factory()),"object"==typeof a.value&&a.value&&function B0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=X(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Cy(i){const s=bn(i),a=null!==s?s.factory:ai(i);if(null!==a)return a;if(i instanceof Ln)throw new Oe(204,!1);if(i instanceof Function)return function Gb(i){const s=i.length;if(s>0)throw function Qr(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?"),new Oe(204,!1);const a=function vr(i){const s=i&&(i[si]||i[dr]);if(s){const a=function cr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Oe(204,!1)}function Ty(i,s,a){let u;if(Wc(i)){const c=X(i);return ai(c)||Cy(c)}if(Ay(i))u=()=>X(i.useValue);else if(function V0(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Bt(i.deps||[]));else if(function zb(i){return!(!i||!i.useExisting)}(i))u=()=>Ve(X(i.useExisting));else{const c=X(i&&(i.useClass||i.provide));if(!function Wb(i){return!!i.deps}(i))return ai(c)||Cy(c);u=()=>new c(...Bt(i.deps))}return u}function zc(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Ay(i){return null!==i&&"object"==typeof i&&V in i}function Wc(i){return"function"==typeof i}let Qo=(()=>{class i{static create(a,u){var c;if(Array.isArray(a))return Dy({name:""},u,a,"");{const h=null!==(c=a.name)&&void 0!==c?c:"";return Dy({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Fs,i.NULL=new O0,i.\u0275prov=Xt({token:i,providedIn:"any",factory:()=>Ve(Ch)}),i.__NG_ELEMENT_ID__=-1,i})();function xy(i,s){ga(Bm(i)[1],mn())}function Sh(i){let s=function Ah(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let c;if(Ei(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Oe(903,"");c=s.\u0275dir}if(c){if(a){u.push(c);const y=i;y.inputs=Ry(i.inputs),y.declaredInputs=Ry(i.declaredInputs),y.outputs=Ry(i.outputs);const v=c.hostBindings;v&&Qb(i,v);const I=c.viewQuery,T=c.contentQueries;if(I&&Ny(i,I),T&&Yb(i,T),ue(i.inputs,c.inputs),ue(i.declaredInputs,c.declaredInputs),ue(i.outputs,c.outputs),Ei(c)&&c.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const v=h[y];v&&v.ngInherit&&v(i),v===Sh&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Mh(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=or(c.hostAttrs,a=or(a,c.hostAttrs))}}(u)}function Ry(i){return i===tn?{}:i===dt?[]:i}function Ny(i,s){const a=i.viewQuery;i.viewQuery=a?(u,c)=>{s(u,c),a(u,c)}:s}function Yb(i,s){const a=i.contentQueries;i.contentQueries=a?(u,c,h)=>{s(u,c,h),a(u,c,h)}:s}function Qb(i,s){const a=i.hostBindings;i.hostBindings=a?(u,c)=>{s(u,c),a(u,c)}:s}let gr=null;function ms(){if(!gr){const i=Vt.Symbol;if(i&&i.iterator)gr=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(gr=u)}}}return gr}function xh(i){return!!Oy(i)&&(Array.isArray(i)||!(i instanceof Map)&&ms()in i)}function Oy(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function co(i,s,a){return i[s]=a}function Cr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function ei(i,s,a,u){const c=Ce();return Cr(c,Oo(),s)&&(kt(),lo(Fn(),c,i,s,a,u)),ei}function J0(i,s,a,u,c,h,y,v){const I=Ce(),T=kt(),S=i+20,F=T.firstCreatePass?function Ly(i,s,a,u,c,h,y,v,I){const T=s.consts,S=wh(s,i,4,y||null,Ii(T,v));Tl(s,a,S,Ii(T,I)),ga(s,S);const F=S.tViews=_u(2,S,u,c,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,S),F.queries=s.queries.embeddedTView(S)),S}(S,T,I,s,a,u,c,h,y):T.data[S];bi(F,!1);const $=I[11].createComment("");mp(T,I,$,F),hi($,I),Gc(I,I[S]=C0($,I,$,F)),Eo(F)&&Ih(T,I,F),null!=y&&y0(I,F,v)}function Fl(i,s=ot.Default){const a=Ce();return null===a?Ve(i,s):Xs(mn(),a,X(i),s)}function eg(){throw new Error("invalid")}function tg(i,s,a){const u=Ce();return Cr(u,Oo(),s)&&function Hi(i,s,a,u,c,h,y,v){const I=hr(s,a);let S,T=s.inputs;!v&&null!=T&&(S=T[u])?(Bp(i,a,S,u,c),vo(s)&&function gy(i,s){const a=Nr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function Pp(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=y?y(c,s.value||"",u):c,gn(h)?h.setProperty(I,u,c):Yr(u)||(I.setProperty?I.setProperty(u,c):I[u]=c))}(kt(),Fn(),u,i,s,u[11],a,!1),tg}function zy(i,s,a,u,c){const y=c?"class":"style";Bp(i,a,s.inputs[y],y,u)}function Fh(i,s,a,u){const c=Ce(),h=kt(),y=20+i,v=c[11],I=c[y]=zm(v,s,function Ec(){return pt.lFrame.currentNamespace}()),T=h.firstCreatePass?function Ph(i,s,a,u,c,h,y){const v=s.consts,T=wh(s,i,2,c,Ii(v,h));return Tl(s,a,T,Ii(v,y)),null!==T.attrs&&jp(T,T.attrs,!1),null!==T.mergedAttrs&&jp(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(y,h,c,0,s,a,u):h.data[y];bi(T,!0);const S=T.mergedAttrs;null!==S&&ft(v,I,S);const F=T.classes;null!==F&&ry(v,I,F);const $=T.styles;return null!==$&&e0(v,I,$),64!=(64&T.flags)&&mp(h,c,I,T),0===function gc(){return pt.lFrame.elementDepthCount}()&&hi(I,c),function So(){pt.lFrame.elementDepthCount++}(),Eo(T)&&(Ih(h,c,T),function Mp(i,s,a){if(Ha(s)){const c=s.directiveEnd;for(let h=s.directiveStart;h<c;h++){const y=i.data[h];y.contentQueries&&y.contentQueries(1,a[h],h)}}}(h,T,c)),null!==u&&y0(c,T),Fh}function Lh(){let i=mn();Zu()?function ha(){pt.lFrame.isParent=!1}():(i=i.parent,bi(i,!1));const s=i;!function mc(){pt.lFrame.elementDepthCount--}();const a=kt();return a.firstCreatePass&&(ga(a,i),Ha(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Yd(i){return 0!=(16&i.flags)}(s)&&zy(a,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Cm(i){return 0!=(32&i.flags)}(s)&&zy(a,s,Ce(),s.stylesWithoutHost,!1),Lh}function ng(i,s,a,u){return Fh(i,s,a,u),Lh(),ng}function dE(){return Ce()}function Na(i){return!!i&&"function"==typeof i.then}function Zy(i){return!!i&&"function"==typeof i.subscribe}const Vh=Zy;function rg(i,s,a,u){const c=Ce(),h=kt(),y=mn();return function mi(i,s,a,u,c,h,y,v){const I=Eo(u),S=i.firstCreatePass&&x0(i),F=s[8],$=Up(s);let Y=!0;if(3&u.type||v){const je=hr(u,s),Xe=v?v(je):je,De=$.length,ht=v?$t=>v(dn($t[u.index])):u.index;if(gn(a)){let $t=null;if(!v&&I&&($t=function hE(i,s,a,u){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===a&&c[h+1]===u){const v=s[7],I=c[h+2];return v.length>I?v[I]:null}"string"==typeof y&&(h+=2)}return null}(i,s,c,u.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=h,$t.__ngLastListenerFn__=h,Y=!1;else{h=Ll(u,s,F,h,!1);const an=a.listen(Xe,c,h);$.push(h,an),S&&S.push(c,ht,De,De+1)}}else h=Ll(u,s,F,h,!0),Xe.addEventListener(c,h,y),$.push(h),S&&S.push(c,ht,De,y)}else h=Ll(u,s,F,h,!1);const ve=u.outputs;let Pe;if(Y&&null!==ve&&(Pe=ve[c])){const je=Pe.length;if(je)for(let Xe=0;Xe<je;Xe+=2){const Yi=s[Pe[Xe]][Pe[Xe+1]].subscribe(h),sc=$.length;$.push(h,Yi),S&&S.push(c,u.index,sc,-(sc+1))}}}(h,c,c[11],y,i,s,!!a,u),rg}function Ky(i,s,a,u){try{return!1!==a(u)}catch(c){return R0(i,c),!1}}function Ll(i,s,a,u,c){return function h(y){if(y===Function)return u;const v=2&i.flags?Nr(i.index,s):s;0==(32&s[2])&&Ey(v);let I=Ky(s,0,u,y),T=h.__ngNextListenerFn__;for(;T;)I=Ky(s,0,T,y)&&I,T=T.__ngNextListenerFn__;return c&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function Uh(i=1){return function xs(i){return(pt.lFrame.contextLView=function el(i,s){for(;i>0;)s=s[15],i--;return s}(i,pt.lFrame.contextLView))[8]}(i)}function t_(i,s,a,u,c){const h=i[a+1],y=null===s;let v=u?Vs(h):Yo(h),I=!1;for(;0!==v&&(!1===I||y);){const S=i[v+1];yE(i[v],s)&&(I=!0,i[v+1]=u?Ep(S):_p(S)),v=u?Vs(S):Yo(S)}I&&(i[a+1]=u?_p(h):Ep(h))}function yE(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&hs(i,s)>=0}function rd(i,s){return function Wi(i,s,a,u){const c=Ce(),h=kt(),y=function Kr(i){const s=pt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);h.firstUpdatePass&&function id(i,s,a,u){const c=i.data;if(null===c[a+1]){const h=c[Or()],y=function bE(i,s){return s>=i.expandoStartIndex}(i,a);(function CE(i,s){return 0!=(i.flags&(s?16:32))})(h,u)&&null===s&&!y&&(s=!1),s=function jh(i,s,a,u){const c=function Zs(i){const s=pt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(a=$h(a=r_(null,i,s,a,u),s.attrs,u),h=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=r_(c,i,s,a,u),null===h){let I=function dD(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Yo(u))return i[Vs(u)]}(i,s,u);void 0!==I&&Array.isArray(I)&&(I=r_(null,i,s,I[1],u),I=$h(I,s.attrs,u),function DE(i,s,a,u){i[Vs(a?s.classBindings:s.styleBindings)]=u}(i,s,u,I))}else h=function hD(i,s,a){let u;const c=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<c;h++)u=$h(u,i[h].hostAttrs,a);return $h(u,s.attrs,a)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),a}(c,h,s,u),function e_(i,s,a,u,c,h){let y=h?s.classBindings:s.styleBindings,v=Vs(y),I=Yo(y);i[u]=a;let S,T=!1;if(Array.isArray(a)){const F=a;S=F[1],(null===S||hs(F,S)>0)&&(T=!0)}else S=a;if(c)if(0!==I){const $=Vs(i[v+1]);i[u+1]=mh($,v),0!==$&&(i[$+1]=vp(i[$+1],u)),i[v+1]=function l0(i,s){return 131071&i|s<<17}(i[v+1],u)}else i[u+1]=mh(v,0),0!==v&&(i[v+1]=vp(i[v+1],u)),v=u;else i[u+1]=mh(I,0),0===v?v=u:i[I+1]=vp(i[I+1],u),I=u;T&&(i[u+1]=_p(i[u+1])),t_(i,S,u,!0),t_(i,S,u,!1),function mE(i,s,a,u,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&hs(h,s)>=0&&(a[u+1]=Ep(a[u+1]))}(s,S,i,u,h),y=mh(v,I),h?s.classBindings=y:s.styleBindings=y}(c,h,s,a,y,u)}}(h,i,y,u),s!==Nt&&Cr(c,y,s)&&function i_(i,s,a,u,c,h,y,v){if(!(3&s.type))return;const I=i.data,T=I[v+1];Hh(function c0(i){return 1==(1&i)}(T)?s_(I,s,a,c,Yo(T),y):void 0)||(Hh(h)||function yh(i){return 2==(2&i)}(T)&&(h=s_(I,null,a,c,v,y)),function Xv(i,s,a,u,c){const h=gn(i);if(s)c?h?i.addClass(a,u):a.classList.add(u):h?i.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:Zo.DashCase;if(null==c)h?i.removeStyle(a,u,y):a.style.removeProperty(u);else{const v="string"==typeof c&&c.endsWith("!important");v&&(c=c.slice(0,-10),y|=Zo.Important),h?i.setStyle(a,u,c,y):a.style.setProperty(u,c,v?"important":"")}}}(u,y,Ss(Or(),a),c,h))}(h,h.data[Or()],c,c[11],i,c[y+1]=function od(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=oe(Wo(i)))),i}(s,a),u,y)}(i,s,null,!0),rd}function r_(i,s,a,u,c){let h=null;const y=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<y&&(h=s[v],u=$h(u,h.hostAttrs,c),h!==i);)v++;return null!==i&&(a.directiveStylingLast=v),u}function $h(i,s,a){const u=a?1:2;let c=-1;if(null!==s)for(let h=0;h<s.length;h++){const y=s[h];"number"==typeof y?c=y:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ar(i,y,!!a||s[++h]))}return void 0===i?null:i}function s_(i,s,a,u,c,h){const y=null===s;let v;for(;c>0;){const I=i[c],T=Array.isArray(I),S=T?I[1]:I,F=null===S;let $=a[c+1];$===Nt&&($=F?dt:void 0);let Y=F?dl($,u):S===u?$:void 0;if(T&&!Hh(Y)&&(Y=dl(I,u)),Hh(Y)&&(v=Y,y))return v;const ve=i[c+1];c=y?Vs(ve):Yo(ve)}if(null!==s){let I=h?s.residualClasses:s.residualStyles;null!=I&&(v=dl(I,u))}return v}function Hh(i){return void 0!==i}function TE(i,s=""){const a=Ce(),u=kt(),c=i+20,h=u.firstCreatePass?wh(u,c,1,s,null):u.data[c],y=a[c]=function Hm(i,s){return gn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);mp(u,a,y,h),bi(h,!1)}function dg(i,s,a){const u=Ce(),c=function Rl(i,s,a,u){return Cr(i,Oo(),a)?s+pe(a)+u:Nt}(u,i,s,a);return c!==Nt&&xa(u,Or(),c),dg}const Su=void 0;var vg=["en",[["a","p"],["AM","PM"],Su],[["AM","PM"],Su,Su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Su,"{1} 'at' {0}",Su],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function m_(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ud={};function Bl(i){const s=function wg(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Eg(s);if(a)return a;const u=s.split("-")[0];if(a=Eg(u),a)return a;if("en"===u)return vg;throw new Error(`Missing locale data for the locale "${i}".`)}function y_(i){return Bl(i)[Et.PluralCase]}function Eg(i){return i in ud||(ud[i]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[i]),ud[i]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const ta="en-US";let qi=ta;function Cg(i,s,a,u,c){if(i=X(i),Array.isArray(i))for(let h=0;h<i.length;h++)Cg(i[h],s,a,u,c);else{const h=kt(),y=Ce();let v=Wc(i)?i:X(i.provide),I=Ty(i);const T=mn(),S=1048575&T.providerIndexes,F=T.directiveStart,$=T.providerIndexes>>20;if(Wc(i)||!i.multi){const Y=new Xa(I,c,Fl),ve=Tg(v,s,c?S:S+$,F);-1===ve?(Js(An(T,y),h,v),hd(h,i,s.length),s.push(v),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),a.push(Y),y.push(Y)):(a[ve]=Y,y[ve]=Y)}else{const Y=Tg(v,s,S+$,F),ve=Tg(v,s,S,S+$),Pe=Y>=0&&a[Y],je=ve>=0&&a[ve];if(c&&!je||!c&&!Pe){Js(An(T,y),h,v);const Xe=function rw(i,s,a,u,c){const h=new Xa(i,a,Fl);return h.multi=[],h.index=s,h.componentProviders=0,fd(h,c,u&&!a),h}(c?nw:tw,a.length,c,u,I);!c&&je&&(a[ve].providerFactory=Xe),hd(h,i,s.length,0),s.push(v),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),a.push(Xe),y.push(Xe)}else hd(h,i,Y>-1?Y:ve,fd(a[c?ve:Y],I,!c&&u));!c&&u&&je&&a[ve].componentProviders++}}}function hd(i,s,a,u){const c=Wc(s),h=function U0(i){return!!i.useClass}(s);if(c||h){const I=(h?X(s.useClass):s).prototype.ngOnDestroy;if(I){const T=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const S=T.indexOf(a);-1===S?T.push(a,[u,I]):T[S+1].push(u,I)}else T.push(a,I)}}}function fd(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Tg(i,s,a,u){for(let c=a;c<u;c++)if(s[c]===i)return c;return-1}function tw(i,s,a,u){return $r(this.multi,[])}function nw(i,s,a,u){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=Vo(a,a[1],this.providerFactory.index,u);h=v.slice(0,y),$r(c,h);for(let I=y;I<v.length;I++)h.push(v[I])}else h=[],$r(c,h);return h}function $r(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Sn(i,s=[]){return a=>{a.providersResolver=(u,c)=>function ew(i,s,a){const u=kt();if(u.firstCreatePass){const c=Ei(i);Cg(a,u.data,u.blueprint,c,!0),Cg(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class Sg{}class iw{resolveComponentFactory(s){throw function pd(i){const s=Error(`No component factory found for ${oe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let xg=(()=>{class i{}return i.NULL=new iw,i})();function Fa(){return gd(mn(),Ce())}function gd(i,s){return new uf(hr(i,s))}let uf=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Fa,i})();function sw(i){return i instanceof uf?i.nativeElement:i}class ow{}let lf=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Ng(){const i=Ce(),a=Nr(mn().index,i);return function Rg(i){return i[11]}(qr(a)?a:i)}(),i})(),ni=(()=>{class i{}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>null}),i})();class aw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const uw=new aw("13.3.1"),T_={};function cf(i,s,a,u,c=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&u.push(dn(h)),Pi(h))for(let v=10;v<h.length;v++){const I=h[v],T=I[1].firstChild;null!==T&&cf(I[1],I,T,u)}const y=a.type;if(8&y)cf(i,s,a.child,u);else if(32&y){const v=dp(a,s);let I;for(;I=v();)u.push(I)}else if(16&y){const v=Jv(s,a);if(Array.isArray(v))u.push(...v);else{const I=fh(s[16]);cf(I[1],I,v,u,!0)}}a=c?a.projectionNext:a.next}return u}class df{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return cf(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Pi(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(qm(s,u),Da(a,u))}this._attachedToViewContainer=!1}Zm(this._lView[1],this._lView)}onDestroy(s){Op(this._lView[1],this._lView,null,s)}markForCheck(){Ey(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Al(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Iy(i,s,a){Ro(!0);try{Al(i,s,a)}finally{Ro(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gv(i,s){yp(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=s}}class MD extends df{constructor(s){super(s),this._view=s}detectChanges(){M0(this._view)}checkNoChanges(){!function Bb(i){Ro(!0);try{M0(i)}finally{Ro(!1)}}(this._view)}get context(){return null}}class lw extends xg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=ze(s);return new A_(a,this.ngModule)}}function cw(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class A_ extends Sg{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function a0(i){return i.map(YT).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return cw(this.componentDef.inputs)}get outputs(){return cw(this.componentDef.outputs)}create(s,a,u,c){const h=(c=c||this.ngModule)?function yd(i,s){return{get:(a,u,c)=>{const h=i.get(a,T_,c);return h!==T_||u===T_?h:s.get(a,u,c)}}}(s,c.injector):s,y=h.get(ow,zs),v=h.get(ni,null),I=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=u?function _0(i,s,a){if(gn(i))return i.selectRootElement(s,a===Ft.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(I,u,this.componentDef.encapsulation):zm(y.createRenderer(null,this.componentDef),T,function Nu(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(T)),F=this.componentDef.onPush?576:528,$=function tt(i,s){return{components:[],scheduler:i||ub,clean:$b,playerHandler:s||null,flags:0}}(),Y=_u(0,null,null,1,0,null,null,null,null,null),ve=Eh(null,Y,$,F,null,null,y,I,v,h);let Pe,je;pa(ve);try{const Xe=function Z0(i,s,a,u,c,h){const y=a[1];a[20]=i;const I=wh(y,20,2,"#host",null),T=I.mergedAttrs=s.hostAttrs;null!==T&&(jp(I,T,!0),null!==i&&(ft(c,i,T),null!==I.classes&&ry(c,i,I.classes),null!==I.styles&&e0(c,i,I.styles)));const S=u.createRenderer(i,s),F=Eh(a,xp(s),null,s.onPush?64:16,a[20],I,u,S,h||null,null);return y.firstCreatePass&&(Js(An(I,a),y,s.type),kb(y,I),b0(I,a.length,1)),Gc(a,F),a[20]=F}(S,this.componentDef,ve,y,I);if(S)if(u)ft(I,S,["ng-version",uw.full]);else{const{attrs:De,classes:ht}=function u0(i){const s=[],a=[];let u=1,c=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===c?""!==h&&s.push(h,i[++u]):8===c&&a.push(h);else{if(!uo(c))break;c=h}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);De&&ft(I,S,De),ht&&ht.length>0&&ry(I,S,ht.join(" "))}if(je=Ka(Y,20),void 0!==a){const De=je.projection=[];for(let ht=0;ht<this.ngContentSelectors.length;ht++){const $t=a[ht];De.push(null!=$t?Array.from($t):null)}}Pe=function Jo(i,s,a,u,c){const h=a[1],y=function Fp(i,s,a){const u=mn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),vy(i,u,s,Dl(i,s,1,null),a));const c=Vo(s,i,u.directiveStart,u);hi(c,s);const h=hr(u,s);return h&&hi(h,s),c}(h,a,s);if(u.components.push(y),i[8]=y,c&&c.forEach(I=>I(y,s)),s.contentQueries){const I=mn();s.contentQueries(1,y,I.directiveStart)}const v=mn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Rs(v.index),I0(a[1],v,0,v.directiveStart,v.directiveEnd,s),_y(s,y)),y}(Xe,this.componentDef,ve,$,[xy]),Sp(Y,ve,null)}finally{Ys()}return new La(this.componentType,Pe,gd(je,ve),ve,je)}}class La extends class Ag{}{constructor(s,a,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new MD(c),this.componentType=s}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class fo{}class hf{}const Va=new Map;class _d extends fo{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lw(this);const u=Dt(s);this._bootstrapComponents=ao(u.bootstrap),this._r3Injector=F0(s,a,[{provide:fo,useValue:this},{provide:xg,useValue:this.componentFactoryResolver}],oe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Qo.THROW_IF_NOT_FOUND,u=ot.Default){return s===Qo||s===fo||s===Ch?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class kg extends hf{constructor(s){super(),this.moduleType=s,null!==Dt(s)&&function S_(i){const s=new Set;!function a(u){const c=Dt(u,!0),h=c.id;null!==h&&(function Og(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${oe(s)} vs ${oe(s.name)}`)}(h,Va.get(h),u),Va.set(h,u));const y=ao(c.imports);for(const v of y)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new _d(this.moduleType,s)}}function Pg(i,s,a,u){return x_(Ce(),Xn(),i,s,a,u)}function pf(i,s){const a=i[s];return a===Nt?void 0:a}function x_(i,s,a,u,c,h){const y=s+a;return Cr(i,y,c)?co(i,y+1,h?u.call(h,c):u(c)):pf(i,y+1)}function ql(i,s,a,u,c,h,y){const v=s+a;return function Eu(i,s,a,u){const c=Cr(i,s,a);return Cr(i,s+1,u)||c}(i,v,c,h)?co(i,v+2,y?u.call(y,c,h):u(c,h)):pf(i,v+2)}function N_(i,s){const a=kt();let u;const c=i+20;a.firstCreatePass?(u=function vd(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[c]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,u.onDestroy)):u=a.data[c];const h=u.factory||(u.factory=ai(u.type)),y=en(Fl);try{const v=Ui(!1),I=h();return Ui(v),function eD(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,Ce(),c,I),I}finally{en(y)}}function O_(i,s,a){const u=i+20,c=Ce(),h=ui(c,u);return Hn(c,u)?x_(c,Xn(),s,h.transform,a,h):h.transform(a)}function k_(i,s,a,u){const c=i+20,h=Ce(),y=ui(h,c);return Hn(h,c)?ql(h,Xn(),s,y.transform,a,u,y):y.transform(a,u)}function Hn(i,s){return i[1].data[s].pure}function Ed(i){return s=>{setTimeout(i,void 0,s)}}const ra=class Lg extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var c,h,y;let v=s,I=a||(()=>null),T=u;if(s&&"object"==typeof s){const F=s;v=null===(c=F.next)||void 0===c?void 0:c.bind(F),I=null===(h=F.error)||void 0===h?void 0:h.bind(F),T=null===(y=F.complete)||void 0===y?void 0:y.bind(F)}this.__isAsync&&(I=Ed(I),v&&(v=Ed(v)),T&&(T=Ed(T)));const S=super.subscribe({next:v,error:I,complete:T});return s instanceof j.w0&&s.add(S),S}};function P_(){return this._results[ms()]()}class F_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ms(),u=F_.prototype;u[a]||(u[a]=P_)}get changes(){return this._changes||(this._changes=new ra)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const c=Fr(s);(this._changesDetected=!function ba(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],h=s[u];if(a&&(c=a(c),h=a(h)),h!==c)return!1}return!0}(u._results,c,a))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wd=(()=>{class i{}return i.__NG_ELEMENT_ID__=Zl,i})();const vw=wd,mf=class extends vw{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=Eh(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(a)),Sp(a,u,s),new df(u)}};function Zl(){return yf(mn(),Ce())}function yf(i,s){return 4&i.type?new mf(s,i,gd(i,s)):null}let _f=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ew,i})();function Ew(){return Qt(mn(),Ce())}const vf=_f,Vg=class extends vf{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return gd(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){const s=kr(this._hostTNode,this._hostLView);if(Un(s)){const a=as(s,this._hostLView),u=Ns(s);return new ls(a[1].data[u+8],a)}return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ww(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const c=s.createEmbeddedView(a||{});return this.insert(c,u),c}createComponent(s,a,u,c,h){const y=s&&!function eu(i){return"function"==typeof i}(s);let v;if(y)v=a;else{const F=a||{};v=F.index,u=F.injector,c=F.projectableNodes,h=F.ngModuleRef}const I=y?s:new A_(ze(s)),T=u||this.parentInjector;if(!h&&null==I.ngModule){const $=(y?T:this.parentInjector).get(fo,null);$&&(h=$)}const S=I.create(T,c,void 0,h);return this.insert(S.hostView,v),S}insert(s,a){const u=s._lView,c=u[1];if(function Ao(i){return Pi(i[3])}(u)){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const F=u[3],$=new Vg(F,F[6],F[3]);$.detach($.indexOf(s))}}const h=this._adjustIndex(a),y=this._lContainer;!function pp(i,s,a,u){const c=10+u,h=a.length;u>0&&(a[c-1][4]=s),u<h-10?(s[4]=a[c],$o(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function Lc(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(c,u,y,h);const v=Xm(h,y),I=u[11],T=Ls(I,y[7]);return null!==T&&function pb(i,s,a,u,c,h){u[0]=c,u[6]=s,yp(i,u,a,1,c,h)}(c,y[6],I,u,T,v),s.attachToViewContainerRef(),$o(tr(y),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ww(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=qm(this._lContainer,a);u&&(Da(tr(this._lContainer),a),Zm(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=qm(this._lContainer,a);return u&&null!=Da(tr(this._lContainer),a)?new df(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function ww(i){return i[8]}function tr(i){return i[8]||(i[8]=[])}function Qt(i,s){let a;const u=s[i.index];if(Pi(u))a=u;else{let c;if(8&i.type)c=dn(u);else{const h=s[11];c=h.createComment("");const y=hr(i,s);ps(h,Ls(h,y),c,function yb(i,s){return gn(i)?i.nextSibling(s):s.nextSibling}(h,y),!1)}s[i.index]=a=C0(u,s,c,i),Gc(s,a)}return new Vg(a,i,s)}class Kn{constructor(s){this.queryList=s,this.matches=null}clone(){return new Kn(this.queryList)}setDirty(){this.queryList.setDirty()}}class Id{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let h=0;h<u;h++){const y=a.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new Id(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==L_(s,a).matches&&this.queries[a].setDirty()}}class Hr{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class In{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const c=null!==a?a.length:0,h=this.getByIndex(u).embeddedTView(s,c);h&&(h.indexInDeclarationView=u,null!==a?a.push(h):a=[h])}return null!==a?new In(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Ug{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Ug(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(s,a,bd(a,h)),this.matchTNodeWithReadOption(s,a,Ps(a,s,h,!1,!1))}else u===wd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ps(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===uf||c===_f||c===wd&&4&a.type)this.addMatch(a.index,-2);else{const h=Ps(a,s,c,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function bd(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function Us(i,s,a,u){return-1===a?function FD(i,s){return 11&i.type?gd(i,s):4&i.type?yf(i,s):null}(s,i):-2===a?function LD(i,s,a){return a===uf?gd(s,i):a===wd?yf(s,i):a===_f?Qt(s,i):void 0}(i,s,u):Vo(i,i[1],a,s)}function Bg(i,s,a,u){const c=s[19].queries[u];if(null===c.matches){const h=i.data,y=a.matches,v=[];for(let I=0;I<y.length;I+=2){const T=y[I];v.push(T<0?null:Us(s,h[T],y[I+1],a.metadata.read))}c.matches=v}return c.matches}function Yl(i,s,a,u){const c=i.queries.getByIndex(a),h=c.matches;if(null!==h){const y=Bg(i,s,c,a);for(let v=0;v<h.length;v+=2){const I=h[v];if(I>0)u.push(y[v/2]);else{const T=h[v+1],S=s[-I];for(let F=10;F<S.length;F++){const $=S[F];$[17]===$[3]&&Yl($[1],$,T,u)}if(null!==S[9]){const F=S[9];for(let $=0;$<F.length;$++){const Y=F[$];Yl(Y[1],Y,T,u)}}}}}return u}function Dw(i){const s=Ce(),a=kt(),u=qd();Qu(u+1);const c=L_(a,u);if(i.dirty&&rs(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?Yl(a,s,u,[]):Bg(a,s,c,u);i.reset(h,sw),i.notifyOnChanges()}return!0}return!1}function fn(i,s,a,u){const c=kt();if(c.firstCreatePass){const h=mn();(function Cd(i,s,a){null===i.queries&&(i.queries=new In),i.queries.track(new Ug(s,a))})(c,new Hr(s,a,u),h.index),function $g(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function Dd(i,s,a){const u=new F_(4==(4&a));Op(i,s,u,u.destroy),null===s[19]&&(s[19]=new Id),s[19].queries.push(new Kn(u))}(c,Ce(),a)}function Cw(){return function jg(i,s){return i[19].queries[s].queryList}(Ce(),qd())}function L_(i,s){return i.queries.getByIndex(s)}function qg(...i){}const Bw=new Ln("Application Initializer");let q_=(()=>{class i{constructor(a){this.appInits=a,this.resolve=qg,this.reject=qg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Na(h))a.push(h);else if(Vh(h)){const y=new Promise((v,I)=>{h.subscribe({complete:v,error:I})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(c=>{this.reject(c)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ve(Bw,8))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const jw=new Ln("AppId",{providedIn:"root",factory:function $w(){return`${Zg()}${Zg()}${Zg()}`}});function Zg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hw=new Ln("Platform Initializer"),Z_=new Ln("Platform ID"),Gw=new Ln("appBootstrapListener");let K_=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();const xd=new Ln("LocaleId",{providedIn:"root",factory:()=>gt(xd,ot.Optional|ot.SkipSelf)||function ge(){return"undefined"!=typeof $localize&&$localize.locale||ta}()}),mo=new Ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Xl=(()=>{class i{compileModuleSync(a){return new kg(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),h=ao(Dt(a).declarations).reduce((y,v)=>{const I=ze(v);return I&&y.push(new A_(I)),y},[]);return new zD(u,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const qw=(()=>Promise.resolve(0))();function _r(i){"undefined"==typeof Zone?qw.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class vs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ra(!1),this.onMicrotaskEmpty=new ra(!1),this.onStable=new ra(!1),this.onError=new ra(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&a,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Y_(){let i=Vt.requestAnimationFrame,s=Vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function WD(i){const s=()=>{!function Zw(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Vt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Yg(i),i.isCheckStableRunning=!0,ia(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Yg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,c,h,y,v)=>{try{return bf(i),a.invokeTask(c,h,y,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),Pu(i)}},onInvoke:(a,u,c,h,y,v,I)=>{try{return bf(i),a.invoke(c,h,y,v,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Pu(i)}},onHasTask:(a,u,c,h)=>{a.hasTask(c,h),u===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,Yg(i),ia(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,u,c,h)=>(a.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,s,Q_,qg,qg);try{return h.runTask(y,a,u)}finally{h.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const Q_={};function ia(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Yg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function bf(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Pu(i){i._nesting--,ia(i)}class ec{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ra,this.onMicrotaskEmpty=new ra,this.onStable=new ra,this.onError=new ra}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,c){return s.apply(a,u)}}let tc=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vs.assertNotInAngularZone(),_r(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_r(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:c})}whenStable(a,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ve(vs))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})(),Nd=(()=>{class i{constructor(){this._applications=new Map,Df.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Df.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();class Kw{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function J_(i){Df=i}let Bs,Df=new Kw;const Qg=new Ln("AllowMultipleToken");class Cf{constructor(s,a){this.name=s,this.token=a}}function Qw(i,s,a=[]){const u=`Platform: ${s}`,c=new Ln(u);return(h=[])=>{let y=Xw();if(!y||y.injector.get(Qg,!1))if(i)i(a.concat(h).concat({provide:c,useValue:!0}));else{const v=a.concat(h).concat({provide:c,useValue:!0},{provide:$p,useValue:"platform"});!function Od(i){if(Bs&&!Bs.destroyed&&!Bs.injector.get(Qg,!1))throw new Oe(400,"");Bs=i.get(eI);const s=i.get(Hw,null);s&&s.forEach(a=>a())}(Qo.create({providers:v,name:u}))}return function Jw(i){const s=Xw();if(!s)throw new Oe(401,"");return s}()}}function Xw(){return Bs&&!Bs.destroyed?Bs:null}let eI=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const v=function Jg(i,s){let a;return a="noop"===i?new ec:("zone.js"===i?void 0:i)||new vs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),I=[{provide:vs,useValue:v}];return v.run(()=>{const T=Qo.create({providers:I,parent:this.injector,name:a.moduleType.name}),S=a.create(T),F=S.injector.get(cp,null);if(!F)throw new Oe(402,"");return v.runOutsideAngular(()=>{const $=v.onError.subscribe({next:Y=>{F.handleError(Y)}});S.onDestroy(()=>{X_(this._modules,S),$.unsubscribe()})}),function Fu(i,s,a){try{const u=a();return Na(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(F,v,()=>{const $=S.injector.get(q_);return $.runInitializers(),$.donePromise.then(()=>(function LE(i){st(i,"Expected localeId to be defined"),"string"==typeof i&&(qi=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(xd,ta)||ta),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,u=[]){const c=Lu({},u);return function qD(i,s,a){const u=new kg(a);return Promise.resolve(u)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(a){const u=a.injector.get(Xg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Oe(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ve(Qo))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();function Lu(i,s){return Array.isArray(s)?s.reduce(Lu,i):Object.assign(Object.assign({},i),s)}let Xg=(()=>{class i{constructor(a,u,c,h,y){this._zone=a,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new R.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),I=new R.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{vs.assertNotInAngularZone(),_r(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{vs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),F.unsubscribe()}});this.isStable=(0,re.T)(v,I.pipe((0,te.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Oe(405,"");let c;c=a instanceof Sg?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const h=function Yw(i){return i.isBoundToModule}(c)?void 0:this._injector.get(fo),v=c.create(Qo.NULL,[],u||c.selector,h),I=v.location.nativeElement,T=v.injector.get(tc,null),S=T&&v.injector.get(Nd);return T&&S&&S.registerApplication(I,T),v.onDestroy(()=>{this.detachView(v.hostView),X_(this.components,v),S&&S.unregisterApplication(I)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;X_(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Gw,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Ve(vs),Ve(Qo),Ve(cp),Ve(xg),Ve(q_))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function X_(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Tf=!0,nI=!1;function rI(){return nI=!0,Tf}function Af(){if(nI)throw new Error("Cannot enable prod mode after platform setup.");Tf=!1}let Ki=(()=>{class i{}return i.__NG_ELEMENT_ID__=iI,i})();function iI(i){return function em(i,s,a){if(vo(i)&&!a){const u=Nr(i.index,s);return new df(u,u)}return 47&i.type?new df(s[16],s):null}(mn(),Ce(),16==(16&i))}class Vu{constructor(){}supports(s){return xh(s)}create(s){return new aI(s)}}const Mf=(i,s)=>s;class aI{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Mf}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,c=0,h=null;for(;a||u;){const y=!u||a&&a.currentIndex<im(u,c,h)?a:u,v=im(y,c,h),I=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{h||(h=[]);const T=v-c,S=I-c;if(T!=S){for(let $=0;$<T;$++){const Y=$<h.length?h[$]:h[$]=0,ve=Y+$;S<=ve&&ve<T&&(h[$]=Y+1)}h[y.previousIndex]=S-T}}v!==I&&s(y,v,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!xh(s))throw new Oe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,h,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)h=s[v],y=this._trackByFn(v,h),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,h,y,v)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,y,v),u=!0),a=a._next}else c=0,function Y0(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[ms()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,v=>{y=this._trackByFn(c,v),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,v,y,c)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,y,c),u=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,c){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,c)):s=this._addAfter(new uI(a,u),h,c),s}_verifyReinsertion(s,a,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,h=s._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new av),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new av),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class uI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class av{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new eC,this.map.set(a,u)),u.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function im(i,s,a){const u=i.previousIndex;if(null===u)return u;let c=0;return a&&u<a.length&&(c=a[u]),u+s+c}class sm{constructor(){}supports(s){return s instanceof Map||Oy(s)}create(){return new xf}}class xf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Oy(s)))throw new Oe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(c,u);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const u=new om(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class om{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function am(){return new uv([new Vu])}let uv=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||am()),deps:[[i,new Si,new Ai]]}}find(a){const u=this.factories.find(c=>c.supports(a));if(null!=u)return u;throw new Oe(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:am}),i})();function lv(){return new cv([new sm])}let cv=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const c=u.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||lv()),deps:[[i,new Si,new Ai]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Oe(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:lv}),i})();const nC=Qw(null,"core",[{provide:Z_,useValue:"unknown"},{provide:eI,deps:[Qo]},{provide:Nd,deps:[]},{provide:K_,deps:[]}]);let fI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ve(Xg))},i.\u0275mod=O({type:i}),i.\u0275inj=Kt({}),i})()},3942:(lt,Te,k)=>{k.d(Te,{Z:()=>Oe});var f=k(2090),j=k(4859),R=k(9681),re=k(1877);class te{constructor(pe,Ie){this._delegate=pe,this.firebase=Ie,(0,R._addComponent)(pe,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(pe,Ie=R._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(pe);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Ye=Ue.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Ie})}_removeServiceInstance(pe,Ie=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Ie)}_addComponent(pe){(0,R._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,R._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function fe(){const Fe=function oe(Fe){const pe={},Ie={__esModule:!0,initializeApp:function Me(ee,Ke={}){const K=R.initializeApp(ee,Ke);if((0,f.r3)(pe,K.name))return pe[K.name];const ce=new Fe(K,Ie);return pe[K.name]=ce,ce},app:Ue,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ee(ee){const Ke=ee.name,K=Ke.replace("-compat","");if(R._registerComponent(ee)&&"PUBLIC"===ee.type){const ce=(ae=Ue())=>{if("function"!=typeof ae[K])throw ue.create("invalid-app-argument",{appName:Ke});return ae[K]()};void 0!==ee.serviceProps&&(0,f.ZB)(ce,ee.serviceProps),Ie[K]=ce,Fe.prototype[K]=function(...ae){return this._getService.bind(this,Ke).apply(this,ee.multipleInstances?ae:[])}}return"PUBLIC"===ee.type?Ie[K]:null},removeApp:function Ye(ee){delete pe[ee]},useAsService:function We(ee,Ke){return"serverAuth"===Ke?null:Ke},modularAPIs:R}};function Ue(ee){if(!(0,f.r3)(pe,ee=ee||R._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:ee});return pe[ee]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function Ae(){return Object.keys(pe).map(ee=>pe[ee])}}),Ue.App=Fe,Ie}(te);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function pe(Ie){(0,f.ZB)(Fe,Ie)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Fe}(),H=new re.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=G;!function xe(Fe){(0,R.registerVersion)("@firebase/app-compat","0.1.21",Fe)}()},9681:(lt,Te,k)=>{k.r(Te),k.d(Te,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>xi,_DEFAULT_ENTRY_NAME:()=>xn,_addComponent:()=>sn,_addOrOverwriteComponent:()=>ii,_apps:()=>ct,_clearComponents:()=>bn,_components:()=>un,_getProvider:()=>qt,_registerComponent:()=>Xt,_removeServiceInstance:()=>Kt,deleteApp:()=>Ji,getApp:()=>ir,getApps:()=>dr,initializeApp:()=>si,onLog:()=>Rn,registerVersion:()=>Er,setLogLevel:()=>en});var f=k(5861),j=k(4859),R=k(1877),re=k(2090);class te{constructor(be){this.container=be}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function _e($e){const be=$e.getComponent();return"VERSION"===(null==be?void 0:be.type)}(Qe)){const ut=Qe.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(Qe=>Qe).join(" ")}}const ue="@firebase/app",fe=new R.Yd("@firebase/app"),xn="[DEFAULT]",st={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,un=new Map;function sn($e,be){try{$e.container.addComponent(be)}catch(Qe){fe.debug(`Component ${be.name} failed to register with FirebaseApp ${$e.name}`,Qe)}}function ii($e,be){$e.container.addOrOverwriteComponent(be)}function Xt($e){const be=$e.name;if(un.has(be))return fe.debug(`There were multiple attempts to register component ${be}.`),!1;un.set(be,$e);for(const Qe of ct.values())sn(Qe,$e);return!0}function qt($e,be){const Qe=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),$e.container.getProvider(be)}function Kt($e,be,Qe=xn){qt($e,be).clearInstance(Qe)}function bn(){un.clear()}const vr=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class cr{constructor(be,Qe,ut){this._isDeleted=!1,this._options=Object.assign({},be),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this.checkDestroyed(),this._automaticDataCollectionEnabled=be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(be){this._isDeleted=be}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const xi="9.6.10";function si($e,be={}){"object"!=typeof be&&(be={name:be});const Qe=Object.assign({name:xn,automaticDataCollectionEnabled:!1},be),ut=Qe.name;if("string"!=typeof ut||!ut)throw vr.create("bad-app-name",{appName:String(ut)});const St=ct.get(ut);if(St){if((0,re.vZ)($e,St.options)&&(0,re.vZ)(Qe,St.config))return St;throw vr.create("duplicate-app",{appName:ut})}const Mt=new j.H0(ut);for(const U of un.values())Mt.addComponent(U);const z=new cr($e,Qe,Mt);return ct.set(ut,z),z}function ir($e=xn){const be=ct.get($e);if(!be)throw vr.create("no-app",{appName:$e});return be}function dr(){return Array.from(ct.values())}function Ji($e){return ot.apply(this,arguments)}function ot(){return(ot=(0,f.Z)(function*($e){const be=$e.name;ct.has(be)&&(ct.delete(be),yield Promise.all($e.container.getProviders().map(Qe=>Qe.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function Er($e,be,Qe){var ut;let St=null!==(ut=st[$e])&&void 0!==ut?ut:$e;Qe&&(St+=`-${Qe}`);const Mt=St.match(/\s|\//),z=be.match(/\s|\//);if(Mt||z){const U=[`Unable to register library "${St}" with version "${be}":`];return Mt&&U.push(`library name "${St}" contains illegal characters (whitespace or "/")`),Mt&&z&&U.push("and"),z&&U.push(`version name "${be}" contains illegal characters (whitespace or "/")`),void fe.warn(U.join(" "))}Xt(new j.wA(`${St}-version`,()=>({library:St,version:be}),"VERSION"))}function Rn($e,be){if(null!==$e&&"function"!=typeof $e)throw vr.create("invalid-log-argument");(0,R.Am)($e,be)}function en($e){(0,R.Ub)($e)}const Nn="firebase-heartbeat-store";let Dn=null;function xr(){return Dn||(Dn=(0,re.X3)("firebase-heartbeat-database",1,($e,be)=>{0===be&&$e.createObjectStore(Nn)}).catch($e=>{throw vr.create("storage-open",{originalErrorMessage:$e.message})})),Dn}function Ft(){return(Ft=(0,f.Z)(function*($e){try{return(yield xr()).transaction(Nn).objectStore(Nn).get(Wr($e))}catch(be){throw vr.create("storage-get",{originalErrorMessage:be.message})}})).apply(this,arguments)}function at($e,be){return et.apply(this,arguments)}function et(){return(et=(0,f.Z)(function*($e,be){try{const ut=(yield xr()).transaction(Nn,"readwrite");return yield ut.objectStore(Nn).put(be,Wr($e)),ut.complete}catch(Qe){throw vr.create("storage-set",{originalErrorMessage:Qe.message})}})).apply(this,arguments)}function Wr($e){return`${$e.name}!${$e.options.appId}`}class Ni{constructor(be){this.container=be,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new dt(Qe),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var be=this;return(0,f.Z)(function*(){const ut=be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=On();if(null===be._heartbeatsCache&&(be._heartbeatsCache=yield be._heartbeatsCachePromise),be._heartbeatsCache.lastSentHeartbeatDate!==St&&!be._heartbeatsCache.heartbeats.some(Mt=>Mt.date===St))return be._heartbeatsCache.heartbeats.push({date:St,agent:ut}),be._heartbeatsCache.heartbeats=be._heartbeatsCache.heartbeats.filter(Mt=>{const z=new Date(Mt.date).valueOf();return Date.now()-z<=2592e6}),be._storage.overwrite(be._heartbeatsCache)})()}getHeartbeatsHeader(){var be=this;return(0,f.Z)(function*(){if(null===be._heartbeatsCache&&(yield be._heartbeatsCachePromise),null===be._heartbeatsCache||0===be._heartbeatsCache.heartbeats.length)return"";const Qe=On(),{heartbeatsToSend:ut,unsentEntries:St}=function tn($e,be=1024){const Qe=[];let ut=$e.slice();for(const St of $e){const Mt=Qe.find(z=>z.agent===St.agent);if(Mt){if(Mt.dates.push(St.date),kn(Qe)>be){Mt.dates.pop();break}}else if(Qe.push({agent:St.agent,dates:[St.date]}),kn(Qe)>be){Qe.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:ut}}(be._heartbeatsCache.heartbeats),Mt=(0,re.L)(JSON.stringify({version:2,heartbeats:ut}));return be._heartbeatsCache.lastSentHeartbeatDate=Qe,St.length>0?(be._heartbeatsCache.heartbeats=St,yield be._storage.overwrite(be._heartbeatsCache)):(be._heartbeatsCache.heartbeats=[],be._storage.overwrite(be._heartbeatsCache)),Mt})()}}function On(){return(new Date).toISOString().substring(0,10)}class dt{constructor(be){this.app=be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var be=this;return(0,f.Z)(function*(){return(yield be._canUseIndexedDBPromise)&&(yield function js($e){return Ft.apply(this,arguments)}(be.app))||{heartbeats:[]}})()}overwrite(be){var Qe=this;return(0,f.Z)(function*(){var ut;if(yield Qe._canUseIndexedDBPromise){const Mt=yield Qe.read();return at(Qe.app,{lastSentHeartbeatDate:null!==(ut=be.lastSentHeartbeatDate)&&void 0!==ut?ut:Mt.lastSentHeartbeatDate,heartbeats:be.heartbeats})}})()}add(be){var Qe=this;return(0,f.Z)(function*(){var ut;if(yield Qe._canUseIndexedDBPromise){const Mt=yield Qe.read();return at(Qe.app,{lastSentHeartbeatDate:null!==(ut=be.lastSentHeartbeatDate)&&void 0!==ut?ut:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...be.heartbeats]})}})()}}function kn($e){return(0,re.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Ut($e){Xt(new j.wA("platform-logger",be=>new te(be),"PRIVATE")),Xt(new j.wA("heartbeat",be=>new Ni(be),"PRIVATE")),Er(ue,"0.7.20",$e),Er(ue,"0.7.20","esm2017"),Er("fire-js","")}("")},4859:(lt,Te,k)=>{k.d(Te,{H0:()=>oe,wA:()=>R});var f=k(5861),j=k(2090);class R{constructor(G,H,X){this.name=G,this.instanceFactory=H,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const re="[DEFAULT]";class te{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const X=new j.BH;if(this.instancesDeferred.set(H,X),this.isInitialized(H)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:H});Ge&&X.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const X=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Ge=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(xe){if(Ge)return null;throw xe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ue(fe){return"EAGER"===fe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:re})}catch(H){}for(const[H,X]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(H);try{const xe=this.getOrInitializeService({instanceIdentifier:Ge});X.resolve(xe)}catch(xe){}}}}clearInstance(G=re){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,f.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...H.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=re){return this.instances.has(G)}getOptions(G=re){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:X,options:H});for(const[xe,Oe]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(xe)&&Oe.resolve(Ge);return Ge}onInit(G,H){var X;const Ge=this.normalizeInstanceIdentifier(H),xe=null!==(X=this.onInitCallbacks.get(Ge))&&void 0!==X?X:new Set;xe.add(G),this.onInitCallbacks.set(Ge,xe);const Oe=this.instances.get(Ge);return Oe&&G(Oe,Ge),()=>{xe.delete(G)}}invokeOnInitCallbacks(G,H){const X=this.onInitCallbacks.get(H);if(X)for(const Ge of X)try{Ge(G,H)}catch(xe){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=G,fe===re?void 0:fe),options:H}),this.instances.set(G,X),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch(Ge){}var fe;return X||null}normalizeInstanceIdentifier(G=re){return this.component?this.component.multipleInstances?G:re:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new te(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Te,k)=>{k.d(Te,{Am:()=>fe,Ub:()=>oe,Yd:()=>ue,in:()=>j});const f=[];var j=(()=>{return(G=j||(j={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",j;var G})();const R={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},re=j.INFO,te={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},_e=(G,H,...X)=>{if(H<G.logLevel)return;const Ge=(new Date).toISOString(),xe=te[H];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[xe](`[${Ge}]  ${G.name}:`,...X)};class ue{constructor(H){this.name=H,this._logLevel=re,this._logHandler=_e,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in j))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?R[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...H),this._logHandler(this,j.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...H),this._logHandler(this,j.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,j.INFO,...H),this._logHandler(this,j.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,j.WARN,...H),this._logHandler(this,j.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...H),this._logHandler(this,j.ERROR,...H)}}function oe(G){f.forEach(H=>{H.setLogLevel(G)})}function fe(G,H){for(const X of f){let Ge=null;H&&H.level&&(Ge=R[H.level]),X.userLogHandler=null===G?null:(xe,Oe,...Fe)=>{const pe=Fe.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(Ye){return null}}).filter(Ie=>Ie).join(" ");Oe>=(null!=Ge?Ge:xe.logLevel)&&G({level:j[Oe].toLowerCase(),message:pe,args:Fe,type:xe.name})}}}},5861:(lt,Te,k)=>{function f(R,re,te,_e,ue,oe,fe){try{var G=R[oe](fe),H=G.value}catch(X){return void te(X)}G.done?re(H):Promise.resolve(H).then(_e,ue)}function j(R){return function(){var re=this,te=arguments;return new Promise(function(_e,ue){var oe=R.apply(re,te);function fe(H){f(oe,_e,ue,fe,G,"next",H)}function G(H){f(oe,_e,ue,fe,G,"throw",H)}fe(void 0)})}}k.d(Te,{Z:()=>j})}},lt=>{lt(lt.s=3163)}]);