<!-- Alert -->
<div *ngIf="showMe" class="counter alert alert-success style-css border-2" role="alert">{{count}}
  Task complited!
</div>
<div *ngIf="showMeAlert" class="counter alert alert-danger style-css border-2" role="alert">{{countAlert}}
  Task deleted!
</div>


<!-- Tasks list -->
<div [formGroup]="setTask" class="form-check form-check-inline position-relative d-flex flex-column mb-4 ms-5 ms-md-0">
  <label *ngFor="let task of tasksList$ | async" class="position-relative form-check-label py-2 w-75">
    <input (click)="onClickStrikethroughtasked(task)" (click)="counter(task)" (click)="showAlert()"
      [ngClass]="{'bg-success' : task.checked === true}" [checked]="task.checked" ng-model="deleted"
      class="form-check-input rounded-circle hover-gray p-2" role='button' type="checkbox" id="inlineCheckbox1"
      value="option1" />
    <div [ngClass]="{ 'text-decoration-line-through': task.checked === true }">
      {{task.text }}
    </div>

    <button class="position-absolute bottom-0 mt-5 end-0 btn line-height-0 mb-2" type="button" id="dropdownMenuButton"
      data-bs-toggle="dropdown" aria-expanded="false">
      ...
    </button>
    <ul class="dropdown-menu text-left" aria-labelledby="dropdownMenuButton">
      <button class="dropdown-item" type="button" role='button' class="p-2 bg-hover border-0 w-100"
        data-bs-toggle="modal" data-bs-target="#exampleModal">
        Delete task
      </button>
    </ul>
  </label>
</div>


<!-- Modal -->
<div *ngFor="let task of tasksList$ | async" class="modal fade" id="exampleModal" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-uppercase" id="exampleModalLabel">
          Delete task
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">Are you sure you want to delete this task?</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button (click)="onClickDeletetasked(task.id)" (click)="counterAlert()" (click)="showAlertDelete()"
          type="button" class="btn btn-danger" data-bs-dismiss="modal" router>Delete
          task</button>
      </div>
      <div id="liveAlertPlaceholder"></div>
      <button (click)="onClickDeletealltasksed(tasksList$)" id="liveAlertBtn" type="button" class="btn btn-danger"
        data-bs-dismiss="modal" router>Delete
        all tasks</button>
    </div>
  </div>
</div>
